<!DOCTYPE html>
<html class="no-js" lang="pl-PL">
<head>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta name="theme-color" content="#1b1b1b">
	<title>Jak zainstalować Magisk bez dostępu do TWRP/SHRP recovery | Morfitronik</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Jak zainstalować Magisk bez dostępu do TWRP/SHRP recovery" />
<meta property="og:description" content="Parę dni temu na mój telefon Xiaomi Redmi 9 (lancelot/galahad/shiva/lava) została wypuszczona
aktualizacja ROM&#39;u crDroid, który bazuje na AOSP/LineageOS. Ten update nie tylko miał
uwzględnione najnowsze poprawki bezpieczeństwa ale również podbijał wersję Androida z 11 na 12.
Problem w tym, że TWRP/SHRP recovery ma problemy z obsługą sposobu szyfrowania partycji /data/ ,
który najwyraźniej uległ przeobrażeniu w Androidzie 12. Efektem braku wsparcia dla szyfrowania w
TWRP/SHRP jest naturalnie brak możliwości wgrywania danych na partycję /data/ . Niestety niesie
to za sobą przykre konsekwencje w postaci uniemożliwienia użytkownikowi przeprowadzenia procesu
patch&#39;owania obrazu partycji /boot/ z poziomu trybu recovery, czego efektem jest brak możliwości
zainstalowania Magisk&#39;a w systemie smartfona. Bez Magisk&#39;a nie damy rady ukorzenić systemu, tj.
uzyskać w nim praw administratora root. Na szczęście nie wszystko stracone. Magisk&#39;a można
zainstalować w telefonie ręcznie przy pomocy ADB oraz trybu bootloader&#39;a (fastboot) eliminując tym
samym potrzebę przełączenia się w tryb recovery. Niniejszy artykuł ma na celu pokazanie jak
zainstalować Magisk&#39;a bez odwoływania się do trybu TWRP/SHRP recovery." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://morfikov.github.io/post/jak-zainstalowac-magisk-bez-dostepu-do-twrp-shrp-recovery/" /><meta property="article:section" content="post" />
<meta property="article:published_time" content="2022-02-28T19:46:00+01:00" />
<meta property="article:modified_time" content="2022-02-28T19:46:00+01:00" />


		<meta itemprop="name" content="Jak zainstalować Magisk bez dostępu do TWRP/SHRP recovery">
<meta itemprop="description" content="Parę dni temu na mój telefon Xiaomi Redmi 9 (lancelot/galahad/shiva/lava) została wypuszczona
aktualizacja ROM&#39;u crDroid, który bazuje na AOSP/LineageOS. Ten update nie tylko miał
uwzględnione najnowsze poprawki bezpieczeństwa ale również podbijał wersję Androida z 11 na 12.
Problem w tym, że TWRP/SHRP recovery ma problemy z obsługą sposobu szyfrowania partycji /data/ ,
który najwyraźniej uległ przeobrażeniu w Androidzie 12. Efektem braku wsparcia dla szyfrowania w
TWRP/SHRP jest naturalnie brak możliwości wgrywania danych na partycję /data/ . Niestety niesie
to za sobą przykre konsekwencje w postaci uniemożliwienia użytkownikowi przeprowadzenia procesu
patch&#39;owania obrazu partycji /boot/ z poziomu trybu recovery, czego efektem jest brak możliwości
zainstalowania Magisk&#39;a w systemie smartfona. Bez Magisk&#39;a nie damy rady ukorzenić systemu, tj.
uzyskać w nim praw administratora root. Na szczęście nie wszystko stracone. Magisk&#39;a można
zainstalować w telefonie ręcznie przy pomocy ADB oraz trybu bootloader&#39;a (fastboot) eliminując tym
samym potrzebę przełączenia się w tryb recovery. Niniejszy artykuł ma na celu pokazanie jak
zainstalować Magisk&#39;a bez odwoływania się do trybu TWRP/SHRP recovery."><meta itemprop="datePublished" content="2022-02-28T19:46:00+01:00" />
<meta itemprop="dateModified" content="2022-02-28T19:46:00+01:00" />
<meta itemprop="wordCount" content="2240">
<meta itemprop="keywords" content="smartfon,xiaomi,redmi-9,root,aosp,crdroid,twrp,shrp,magisk," />
		<meta name="twitter:card" content="summary"/><meta name="twitter:title" content="Jak zainstalować Magisk bez dostępu do TWRP/SHRP recovery"/>
<meta name="twitter:description" content="Parę dni temu na mój telefon Xiaomi Redmi 9 (lancelot/galahad/shiva/lava) została wypuszczona
aktualizacja ROM&#39;u crDroid, który bazuje na AOSP/LineageOS. Ten update nie tylko miał
uwzględnione najnowsze poprawki bezpieczeństwa ale również podbijał wersję Androida z 11 na 12.
Problem w tym, że TWRP/SHRP recovery ma problemy z obsługą sposobu szyfrowania partycji /data/ ,
który najwyraźniej uległ przeobrażeniu w Androidzie 12. Efektem braku wsparcia dla szyfrowania w
TWRP/SHRP jest naturalnie brak możliwości wgrywania danych na partycję /data/ . Niestety niesie
to za sobą przykre konsekwencje w postaci uniemożliwienia użytkownikowi przeprowadzenia procesu
patch&#39;owania obrazu partycji /boot/ z poziomu trybu recovery, czego efektem jest brak możliwości
zainstalowania Magisk&#39;a w systemie smartfona. Bez Magisk&#39;a nie damy rady ukorzenić systemu, tj.
uzyskać w nim praw administratora root. Na szczęście nie wszystko stracone. Magisk&#39;a można
zainstalować w telefonie ręcznie przy pomocy ADB oraz trybu bootloader&#39;a (fastboot) eliminując tym
samym potrzebę przełączenia się w tryb recovery. Niniejszy artykuł ma na celu pokazanie jak
zainstalować Magisk&#39;a bez odwoływania się do trybu TWRP/SHRP recovery."/>
<meta name="twitter:site" content="@mikhailmorfikov"/>

	<link rel="stylesheet" href="https://morfikov.github.io/css/bundle.css">
	<link rel="stylesheet" href="https://morfikov.github.io/css/custom.css">
	<link rel="icon" href="https://morfikov.github.io/icons/16.png" sizes="16x16" type="image/png">
	<link rel="icon" href="https://morfikov.github.io/icons/32.png" sizes="32x32" type="image/png">
	<link rel="manifest" href="https://morfikov.github.io/manifest.json">
		
<script>
var doNotTrack = false;
if (!doNotTrack) {
	window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
	ga('create', 'UA-119125303-1', 'auto');
	
	ga('send', 'pageview');
}
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>

</head>
<body>
	<header class="header">
	<a class="logo" href="https://morfikov.github.io/">Morfitronik</a>
	
<nav class="main-nav main-nav--right" role="navigation">
	<button id="toggle" class="main-nav__btn" aria-label="Menu toggle" aria-expanded="false" tabindex="0">
		<div class="main-nav__btn-box" tabindex="-1">
			<svg class="main-nav__icon icon-menu" width="18" height="18" viewBox="0 0 18 18">
				<path class="icon-menu__burger" d="M18 0v3.6H0V0h18zM0 10.8h18V7.2H0v3.6zM0 18h18v-3.6H0V18z"/>
				<path class="icon-menu__x" d="M11.55 9L18 15.45 15.45 18 9 11.55 2.55 18 0 15.45 6.45 9 0 2.55 2.55 0 9 6.45 15.45 0 18 2.55 11.55 9z"/>
			</svg>
		</div>
	</button>
	<ul id="menu" class="main-nav__list">
			<li class="main-nav__item">
				<a class="main-nav__link" href="https://morfikov.github.io/categories/">
					
					<span class="main-nav__text">Kategorie</span>
					
				</a>
			</li>
			<li class="main-nav__item">
				<a class="main-nav__link" href="https://morfikov.github.io/tags/">
					
					<span class="main-nav__text">Tagi</span>
					
				</a>
			</li>
			<li class="main-nav__item">
				<a class="main-nav__link" href="https://morfikov.github.io/page/info-kontakt/">
					
					<span class="main-nav__text">Info/Kontakt</span>
					
				</a>
			</li>
	</ul>
</nav>
</header>
	<div class="primary">
	
	<main class="main">
		
<nav class="breadcrumb block" aria-label="breadcrumb">
	<ol class="breadcrumb__list">
		
		<li class="breadcrumb__item">
			<a class="breadcrumbs__link" href="https://morfikov.github.io/">Home</a>
		</li>
		<li class="breadcrumb__item">
			<a class="breadcrumbs__link" href="https://morfikov.github.io/post/">Posts</a>
		</li>
		<li class="breadcrumbs__item breadcrumb__item--active" aria-current="page">Jak zainstalować Magisk bez dostępu do TWRP/SHRP recovery</li>
	</ol>
</nav>
		<div class="single block">
			<article class="entry">
	<div class="entry__meta meta mb">
	<time class="entry__meta-published meta-published" datetime="2022-02-28T19:46:00&#43;01:00">Opublikowano: 28/02/2022</time>

<span class="entry__meta-categories meta-categories">
	<span class="meta-categories__list">Kategorie:
		<a class="meta-categories__link" href="https://morfikov.github.io/categories/android/" rel="category">Android</a>
	</span>
</span>
	</div>
				<h1 class="entry__title">Jak zainstalować Magisk bez dostępu do TWRP/SHRP recovery</h1>
<details class="entry__toc toc" >
	<summary class="toc__title">Spis treści</summary>
	<nav id="TableOfContents">
  <ol>
    <li><a href="#android-12-i-problemy-z-wgraniem-magiska-via-twrpshrp-recovery">Android 12 i problemy z wgraniem Magisk'a via TWRP/SHRP recovery</a></li>
    <li><a href="#adb-z-dostępem-root">ADB z dostępem root</a>
      <ol>
        <li><a href="#ograniczenia-root-pod-adb">Ograniczenia root pod ADB</a></li>
      </ol>
    </li>
    <li><a href="#kopia-obrazu-partycji-boot">Kopia obrazu partycji /boot/</a>
      <ol>
        <li><a href="#wyciąganie-obrazu-partycji-boot-z-pliku-romu">Wyciąganie obrazu partycji /boot/ z pliku ROM'u</a></li>
      </ol>
    </li>
    <li><a href="#podanie-magiskowi-obrazu-partycji-boot">Podanie Magisk'owi obrazu partycji /boot/</a>
      <ol>
        <li><a href="#czy-można-wgrać-magiska-z-poziomu-trybu-recovery-mając-zaszyfrowaną-partycję-data">Czy można wgrać Magisk'a z poziomu trybu recovery mając zaszyfrowaną partycję /data/</a></li>
      </ol>
    </li>
    <li><a href="#wgrywanie-obrazu-partycji-boot-via-fastboot">Wgrywanie obrazu partycji /boot/ via fastboot</a></li>
    <li><a href="#test-root-w-magisk">Test root w Magisk</a></li>
    <li><a href="#podsumowanie">Podsumowanie</a></li>
  </ol>
</nav>
</details>
				<div class="entry__content"><p>Parę dni temu na mój telefon Xiaomi Redmi 9 (lancelot/galahad/shiva/lava) <a href="https://crdroid.net/lava/8">została wypuszczona
aktualizacja ROM'u crDroid</a>, który bazuje na AOSP/LineageOS. Ten update nie tylko miał
uwzględnione najnowsze poprawki bezpieczeństwa ale również podbijał wersję Androida z 11 na 12.
Problem w tym, że TWRP/SHRP recovery ma problemy z obsługą sposobu szyfrowania partycji <code>/data/</code> ,
który najwyraźniej uległ przeobrażeniu w Androidzie 12. Efektem braku wsparcia dla szyfrowania w
TWRP/SHRP jest naturalnie brak możliwości wgrywania danych na partycję <code>/data/</code> . Niestety niesie
to za sobą przykre konsekwencje w postaci uniemożliwienia użytkownikowi przeprowadzenia procesu
patch'owania obrazu partycji <code>/boot/</code> z poziomu trybu recovery, czego efektem jest brak możliwości
zainstalowania Magisk'a w systemie smartfona. Bez Magisk'a nie damy rady ukorzenić systemu, tj.
uzyskać w nim praw administratora root. Na szczęście nie wszystko stracone. Magisk'a można
zainstalować w telefonie ręcznie przy pomocy ADB oraz trybu bootloader'a (fastboot) eliminując tym
samym potrzebę przełączenia się w tryb recovery. Niniejszy artykuł ma na celu pokazanie jak
zainstalować Magisk'a bez odwoływania się do trybu TWRP/SHRP recovery.</p>
<h2 id="android-12-i-problemy-z-wgraniem-magiska-via-twrpshrp-recovery">Android 12 i problemy z wgraniem Magisk'a via TWRP/SHRP recovery</h2>
<p>Widząc, że na stronie crDroid pojawiła się aktualizacja ROM'u do mojego smartfona, postanowiłem jak
najszybciej wgrać tę paczkę <code>.zip</code> na telefon, jako że proces aktualizacji ROM'u crDroid nie wiąże
się z utratą danych, tj. nie trzeba formatować partycji <code>/data/</code> , tak jak to ma miejsce przy
przesiadce z innego oprogramowania. Naturalnie cały proces wgrywania nowszej wersji ROM'u jest
dokonywany z poziomu trybu recovery (w tym przypadku użyty był SHRP). Po przełączaniu się do trybu
recovery, system prosi o podanie hasła do blokady ekranu i w ten sposób deszyfrowana jest zawartość
partycji <code>/data/</code> . By przeprowadzić ten proces aktualizacji, trzeba wcześniej usunąć root'a z
systemu, tj. odinstalować Magisk'a. Naturalnie sam tryb TWRP/SHRP recovery w dalszym ciągu będzie
zapewniał dostęp root sam z siebie. Gdy aktualizacja systemu dobiegła końca, uruchomiłem smartfon
ponownie i wszystko zdawało się działać poprawnie, tyle że nie było dostępu do polecenia <code>su</code> , bo
Magisk jeszcze nie został zainstalowany (wymagany reboot po wgraniu aktualizacji ROM'u) .</p>
<p>Następnym krokiem było oczywiście wgranie Magisk'a via SHRP recovery i po przełączeniu się w ten
tryb okazało się, że nie zostałem poproszony o hasło do blokady ekranu. Trochę się zdziwiłem i
postanowiłem sprawdzić czy pliki na partycji <code>/data/</code> są widoczne. Poniżej jest zawartość głównego
folderu ten partycji:</p>
<pre><code>lancelot:/ # ls -al /sdcard/
total 304
drwxrwxr-x   2 media_rw media_rw  4096 2022-01-19 15:49 +XAQ9G21gmD5+VouAJgIBA
drwxrws---  29 media_rw media_rw  4096 2022-02-27 18:46 .
drwxr-xr-x  36 root     root         0 2022-02-27 19:35 ..
drwxrwxr-x   2 media_rw media_rw  4096 2022-02-27 18:54 2K7k5AIOn53AWH6riH51dD
drwxrwxr-x   2 media_rw media_rw  4096 2022-01-19 15:49 54YjhAl7Giashs9wl7,fpD
drwxrwxrwx   2 media_rw media_rw  4096 2022-01-19 16:57 6JkPJIxQIHwuaC05GKQT1C
drwxrwxr-x 426 media_rw media_rw 36864 2022-02-27 14:09 6U0BHhP9,dWkPTVtB+N4,B
drwxrwxr-x   2 media_rw media_rw  4096 2022-02-27 17:29 7chZACaGNrhLoHSZdTzKBD
drwxrws--x   5 media_rw media_rw  4096 2022-01-19 15:49 8miO+uSWMA5HbgM9poJU7C
drwxrwxr-x   2 media_rw media_rw  4096 2022-01-19 15:49 9ZjUXw1pLPy+Az2x5h0b0D
drwxrwxr-x   2 media_rw media_rw  4096 2022-01-25 23:45 A3UINmZfEX+6eUuq93M5hD
drwxrwxr-x   4 media_rw media_rw  4096 2022-01-20 12:55 BLKZ5arZ9c,0LaUtzAw+0B
drwxrwxr-x   3 media_rw media_rw  4096 2022-01-29 00:06 FP4mLcqvfOKf9jJ1+r9Z3A
drwxrwxr-x   2 media_rw media_rw  4096 2022-01-22 21:45 IS7R6xR,LUKtwaVtgOUspC
drwxrwxr-x   2 media_rw media_rw  4096 2022-01-20 12:10 IV0eJ2SZzJ4u0O4LFxPSGC
drwxrwxr-x   2 media_rw media_rw  4096 2022-01-19 15:49 JvRJPfft5i4+Dxv+5fvsDB
drwxrwxr-x   4 media_rw media_rw  4096 2022-01-22 14:27 OaFun2x,eZrvBeiZYFGbnA
drwxrwxr-x   6 media_rw media_rw  4096 2022-02-20 18:20 P0UCF6R6s3tnKQnxnFOfGD
drwxrwsr-x   4 media_rw media_rw  4096 2022-02-27 15:00 SirzFpKaxl+x7qWe7O,CmA
drwxrwxr-x   2 media_rw media_rw  4096 2022-01-28 17:44 Uj3p3yTaciC1Y9,mYrDVcC
drwxrwsr-x   3 media_rw media_rw  4096 2022-02-27 15:58 WJKiyYjskrj2ZPWR8pn8jD
drwxr-xr-x   3 media_rw media_rw  4096 2022-02-27 14:43 dRYSOBXdTBMEvHAfJ4UjFB
drwxrwxr-x   2 media_rw media_rw  4096 2022-01-28 20:42 fQ,FLpUe3EOKGVQijDb7oA
drwxrwxr-x   6 media_rw media_rw  4096 2022-01-22 14:26 j2FnaUvnVNVrM2rhPvWBbB
drwxrwxr-x   4 media_rw media_rw 12288 2022-02-27 18:47 naD739jjyB3eOxF2uJwqKC
drwxrwxr-x   8 media_rw media_rw  4096 2022-02-11 14:17 oYFIbSq+nf1GOTXi2u+wOA
drwxrwxr-x   3 media_rw media_rw  4096 2022-01-19 15:49 qBE8NHACJh78EtWpCaaAqC
drwxrwsr-x   2 media_rw media_rw  4096 2022-02-27 15:00 sk,1hh1021HkVaU0tliITB
drwxrwxr-x   2 media_rw media_rw  4096 2022-01-26 21:01 udzq58x5dypXf7wbjEfjKB
-rw-rw-r--   1 media_rw media_rw  1278 2021-12-05 10:03 x,NOuPyaN6sSL4A19DTC9f,gkVG
-rw-rw-r--   1 media_rw media_rw 27804 2022-01-20 11:53 ydCVzQqJAFRK2QJOslz7JFnnfN0VuxAf
</code></pre>
<p>Zawartość jest zaszyfrowana, zatem tryb SHRP recovery nie odszyfrował partycji <code>/data/</code> .</p>
<p>Zainstalowanie TWRP recovery w tym przypadku również nic nie da, bo SHRP bazuje na TWRP, a sam TWRP
jeszcze nie potrafi odszyfrować partycji data na Androidzie 12 (<a href="https://twrp.me/site/update/2021/11/28/twrp-3.6.0-released.html">wspierane są wersje jedynie do
Androida 11</a>).</p>
<p>Wiedziałem, że wersja Androida ulegnie zmianie ale nie byłem zupełnie świadomy faktu, że TWRP/SHRP
recovery będzie miał jakieś problemy z Androidem 12. Miałem zatem do wyboru w zasadzie dwie opcje.
Pierwsze rozwiązanie zakładało korzystanie ze smartfona bez root i czekanie aż w nieodległej (albo
odległej) przyszłości wsparcie dla Androida 12 w TWRP/SHRP zostanie zaimplementowane. Drugim
wyjściem było sformatowanie partycji <code>/data/</code> i wgranie starszej wersji ROM'u crDroid. Przyznam, że
ani jedno, ani drugie rozwiązanie mi niezbyt odpowiadało, dlatego też postanowiłem poszukać
bardziej zadowalającego sposobu na uporanie się z tym zaistniałym problemem.</p>
<h2 id="adb-z-dostępem-root">ADB z dostępem root</h2>
<p>Po wgraniu nowego ROM'u na mojego Xiaomi Redmi 9 (lancelot/galahad/shiva/lava), postanowiłem
naturalnie popatrzeć co ten nowy Android 12 ma do zaoferowania i co się w tym systemie pozmieniało
względem poprzednika. Przeszukując opcje, w końcu dotarłem do ustawień deweloperskich i tam na
liście zauważyłem nową pozycję o nazwie <code>Rooted debugging</code> , poniżej fotka:</p>
<p><img loading="lazy" src="https://morfikov.github.io/img/2022/02/001.crdroid-twrp-shrp-recovery-magisk-install-adb-root.png" alt="crdroid-twrp-shrp-recovery-magisk-install-adb-root"    class="small"></p>
<p>Skoro ta pozycja miała w nazwie coś związanego z root, to postanowiłem ją włączyć. Przełączyłem się
czym prędzej na terminal w moim Debianie i wydałem polecenie <code>adb shell</code> , no ale prompt dalej nie
zawierał <code>#</code> , ino zwykły <code>$</code> . Pomyślałem, że może niekoniecznie ta opcja działa, tak jak można by
przypuszczać ale kiedyś na necie widziałem, że ludzie wpisywali <code>adb root</code> zamiast <code>adb shell</code> . W
moim przypadku <code>adb root</code> nigdy nie działał ale postanowiłem to polecenie wpisać w terminalu mojego
linux'a i zobaczyć co się stanie. Ku mojemu zdziwieniu nie został zwrócony błąd, a jedynie to, co
widać poniżej:</p>
<pre><code>$ adb root
restarting adbd as root
</code></pre>
<p>Wygląda na to, że wydanie z komputera polecenia <code>adb root</code> wpływa na zachowanie się demona <code>adbd</code> w
telefonie. Gdy teraz wpisałem <code>adb shell</code> , to okazało się, że prawa root zostały przyznane:</p>
<pre><code>$ adb shell
galahad:/ #
</code></pre>
<p>Warto tutaj zaznaczyć, że polecenie <code>su</code> nie zostało użyte, tak jak to mia miejsce w przypadku
tradycyjnego root'a za sprawą Magisk'a.</p>
<h3 id="ograniczenia-root-pod-adb">Ograniczenia root pod ADB</h3>
<p>O ile dostęp root w ADB został przyznany, to wygląda na to, że w pewne miejsca nie da się zajrzeć,
bo dostaje się błąd <code>Permission denied</code> , poniżej przykład:</p>
<pre><code>galahad:/ # ls -al /storage/emulated/
ls: /storage/emulated/: Permission denied
</code></pre>
<p>Do tych powyższych restrykcji trzeba też doliczyć fakt, że dostęp root jest jedynie dla ADB. Zwykłe
aplikacje w dalszym ciągu korzystać z root'a nie mogą. Zatem jak taki root może nam się przydać?</p>
<h2 id="kopia-obrazu-partycji-boot">Kopia obrazu partycji /boot/</h2>
<p>Może i dostępu do pewnych katalogów nie mamy ale do tych miejsc, które nas najbardziej interesują,
wgląd już jak najbardziej jest zapewniony. Mowa tutaj o katalogu <code>/dev/</code> , w którym znajdują się
pliki urządzeń, m.in. surowe partycje flash'a smartfona (pod <code>/dev/block/</code> ). Jako, że Magisk
potrzebuje obrazu partycji <code>/boot/</code> do przepakowania, by móc go wgrać na tę partycję, to
postanowiłem przy pomocy <code>dd</code> skopiować sobie zawartość partycji <code>/boot/</code> do pliku i zapisać całość
na karcie SD:</p>
<pre><code>galahad:/ # cd /storage/2209-15F1/

galahad:/storage/2209-15F1 # ls -al /dev/block/by-name/boot
lrwxrwxrwx 1 root root 21 2022-02-27 16:23 /dev/block/by-name/boot -&gt; /dev/block/mmcblk0p34

galahad:/storage/2209-15F1 # dd if=/dev/block/by-name/boot of=./boot-crdroid-to-be-patched-by-magisk.img
131072+0 records in
131072+0 records out
67108864 bytes (64 M) copied, 1.324659 s, 48 M/s
</code></pre>
<h3 id="wyciąganie-obrazu-partycji-boot-z-pliku-romu">Wyciąganie obrazu partycji /boot/ z pliku ROM'u</h3>
<p>Nawet w przypadku, gdy nie mamy ADB z dostępem root, to i tak możemy obraz partycji <code>/boot/</code>
pozyskać. Potrzebna nam do tego jest paczka <code>.zip</code> ROM'u, który wgraliśmy sobie już na telefon.
Listując zawartość tej paczki, możemy zauważyć, że posiada ona plik <code>boot.img</code> :</p>
<pre><code>$ patool list crDroidAndroid-12.0-20220226-lava-v8.2.zip
patool: Listing crDroidAndroid-12.0-20220226-lava-v8.2.zip ...
patool: running /usr/bin/7z l -- crDroidAndroid-12.0-20220226-lava-v8.2.zip

7-Zip [64] 16.02 : Copyright (c) 1999-2016 Igor Pavlov : 2016-05-21
p7zip Version 16.02 (locale=en_US.UTF-8,Utf16=on,HugeFiles=on,64 bits,4 CPUs Intel(R) Core(TM) i5-3320M CPU @ 2.60GHz (306A9),ASM,AES-NI)

Scanning the drive for archives:
1 file, 971135857 bytes (927 MiB)

Listing archive: crDroidAndroid-12.0-20220226-lava-v8.2.zip

--
Path = crDroidAndroid-12.0-20220226-lava-v8.2.zip
Type = zip
Physical Size = 971135857
Comment = signed by SignApk

   Date      Time    Attr         Size   Compressed  Name
------------------- ----- ------------ ------------  ------------------------
2009-01-01 00:00:00 .....          354          354  META-INF/com/android/metadata
2009-01-01 00:00:00 .....          252          252  META-INF/com/android/metadata.pb
2009-01-01 00:00:00 .....    201249843    201249843  product.new.dat.br
2009-01-01 00:00:00 .....            0            0  product.patch.dat
2009-01-01 00:00:00 .....    544452175    544452175  system.new.dat.br
2009-01-01 00:00:00 .....            0            0  system.patch.dat
2009-01-01 00:00:00 .....    208806388    208806388  vendor.new.dat.br
2009-01-01 00:00:00 .....            0            0  vendor.patch.dat
2009-01-01 00:00:00 .....      2383248      1085833  META-INF/com/google/android/update-binary
2009-01-01 00:00:00 .....         3729         1025  META-INF/com/google/android/updater-script
2009-01-01 00:00:00 .....     67108864     15487183  boot.img
2009-01-01 00:00:00 .....     16777216        38507  dtbo.img
2009-01-01 00:00:00 .....          538          228  dynamic_partitions_op_list
2009-01-01 00:00:00 .....         1190          568  install/bin/backuptool.functions
2009-01-01 00:00:00 .....         4308         1508  install/bin/backuptool.sh
2009-01-01 00:00:00 .....         2703          851  product.transfer.list
2009-01-01 00:00:00 .....         6991         2008  system.transfer.list
2009-01-01 00:00:00 .....         8192         2890  vbmeta.img
2009-01-01 00:00:00 .....         2727          839  vendor.transfer.list
2009-01-01 00:00:00 .....         1675          943  META-INF/com/android/otacert
------------------- ----- ------------ ------------  ------------------------
2009-01-01 00:00:00         1040810393    971131395  20 files
</code></pre>
<p>Jest to dokładnie ten sam obraz, który został wrzucony na partycję <code>/boot/</code> w smartfonie podczas
wgrywania ROM'u w trybie TWRP/SHRP recovery. Ten plik <code>boot.img</code> trzeba wydobyć z paczki <code>.zip</code> i
ręcznie przesłać na telefon w celu wprowadzenia w nim zmian przez aplikację Magisk.</p>
<h2 id="podanie-magiskowi-obrazu-partycji-boot">Podanie Magisk'owi obrazu partycji /boot/</h2>
<p>Mając obraz partycji <code>/boot/</code> , możemy go teraz podać Magisk'owi. Pytanie jak tego dokonać, skoro
nie możemy zainstalować Magisk'a? Pełnego Magisk'a naturalnie póki co nie zainstalujemy ale możemy
zainstalować jego część, a konkretnie chodzi o część systemową, tj. tę aplikację, którą uruchamiamy
podczas standardowej pracy systemu Androida. Pobieramy zatem <a href="https://github.com/topjohnwu/Magisk/releases">najnowszego Magisk'a</a> i instalujemy
plik <code>.apk</code> z poziomu działającego Androida, po czym uruchamiamy aplikację:</p>
<p><img loading="lazy" src="https://morfikov.github.io/img/2022/02/002.crdroid-twrp-shrp-recovery-magisk-install-app.png" alt="crdroid-twrp-shrp-recovery-magisk-install-app"    class="small"></p>
<p>Jak widać na powyższej fotce, na pozycji <code>Installed</code> mamy <code>N/A</code> , co oznacza, że Magisk jako taki
nie jest na tym smartfonie zainstalowany.</p>
<p>Wygląda też na to, że w zależności od konfiguracji systemu, sam proces przepakowania obrazu
partycji <code>/boot/</code> może przebiegać nieco inaczej. Tutaj znajduje się <a href="https://www.xda-developers.com/how-to-install-magisk/">post na XDA</a> oraz <a href="https://topjohnwu.github.io/Magisk/install.html">wpis na
stronie Magisk'a</a>, które nieco obszerniej opisują wszystkie możliwe przypadki. Dlatego też
dobrze jest się z tymi artykułami zapoznać zanim przystąpimy do dalszych prac, by uniknąć
ewentualnego uszkodzenia smartfona. Poniższy opis zakłada, że w linijce z <code>Ramdisk</code> widnieje <code>Yes</code> .</p>
<p>Można by w tym miejscu zapytać o to jaki jest pożytek z aplikacji Magisk'a, skoro nie działa ona z
prawami administratora root? Aplikacja Magisk'a może przepakować obraz partycji <code>/boot/</code> i nie
potrzebne jej są na tym etapie żadne dodatkowe uprawnienia.</p>
<p>Mając uruchomioną aplikację Magisk, wskazujemy obraz partycji <code>/boot/</code> , który wcześniej
pozyskaliśmy . Po chwili dostaniemy gotowy plik, który Magisk by standardowo wrzucił na partycję
<code>/boot/</code> podczas instalacji via tryb TWRP/SHRP recovery:</p>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td><img loading="lazy" src="https://morfikov.github.io/img/2022/02/003.crdroid-twrp-shrp-recovery-magisk-install-app-image-create.png" alt="crdroid-twrp-shrp-recovery-magisk-install-app-image-create"    class="small"></td>
<td><img loading="lazy" src="https://morfikov.github.io/img/2022/02/004.crdroid-twrp-shrp-recovery-magisk-install-app-image-create.png" alt="crdroid-twrp-shrp-recovery-magisk-install-app-image-create"    class="small"></td>
</tr>
</tbody>
</table>
<p>Niemniej jednak, by wgrać obraz na surową partycję, potrzebne są już prawa root, których w
aplikacji Magisk'a nie mamy. Dlatego też ten przepakowany obraz partycji <code>/boot/</code> trzeba będzie
na tę partycję wgrać ręcznie.</p>
<h3 id="czy-można-wgrać-magiska-z-poziomu-trybu-recovery-mając-zaszyfrowaną-partycję-data">Czy można wgrać Magisk'a z poziomu trybu recovery mając zaszyfrowaną partycję /data/</h3>
<p>Nie jestem pewien czy podczas instalacji Magisk'a via tryb TWRP/SHRP recovery są dokonywane jakieś
zmiany na partycji <code>/data/</code> , tj. tej partycji, na której są przechowywane dane użytkownika. Na
pewno Magisk korzysta z katalogu <code>/data/adb/</code> , a jego zawartość będzie zaszyfrowana. Gdyby Magisk
podczas instalacji z poziomu trybu recovery jedynie przepakowywał obraz i wgrywał go na partycję
<code>/boot/</code> , to jak najbardziej można by do tego celu skorzystać z TWRP/SHRP. Podobnie można postąpić
w przypadku <a href="https://morfikov.github.io/post/jak-zaktualizowac-firmware-custom-rom-w-smartfonach-xiaomi/">aktualizacji firmware telefonu</a>, gdzie wgrywane są nowe obrazy na poszczególne
partycje, bez dotykania przy tym partycji <code>/data/</code> . Niemniej jednak, skrypty instalacyjne Magisk'a
mogą jakieś dane na partycji <code>/data/</code> umieszczać i jeśli tak jest w istocie, to lepiej nie
instalować go via tryb recovery.</p>
<h2 id="wgrywanie-obrazu-partycji-boot-via-fastboot">Wgrywanie obrazu partycji /boot/ via fastboot</h2>
<p>Być może wystarczyłoby przy pomocy <code>dd</code> przez ADB wgrać plik <code>magisk_patched-24100_bv4SY.img</code> ,
który został zapisany w <code>/storage/emulated/0/Download/</code> ale nie zawsze też będziemy mieli ADB z
obsługą root, czy też w ogóle tryb TWRP/SHRP recovery. Dlatego też zdecydowałem się opisać poniżej
bardziej uniwersalne rozwiązanie zakładające pobranie pliku obrazu partycji <code>/boot/</code> utworzonego
przez aplikację Magisk'a na komputer i wgranie tego pliku na partycję smartfona przy pomocy
<code>fastboot</code> z poziomu trybu bootloader'a.</p>
<p>Po zgraniu pliku <code>magisk_patched-24100_bv4SY.img</code> na komputer, przełączamy telefon w tryb
bootloader'a:</p>
<pre><code>$ adb pull /storage/emulated/0/Download/magisk_patched-24100_bv4SY.img
/storage/emulated/0/Download/magisk_patched-24100_bv4SY.img: 1 file pulled, 0 skipped. 14.9 MB/s (67108864 bytes in 4.295s)

$ adb reboot bootloader
</code></pre>
<p>Następnie wgrywamy przepakowany obraz na partycję <code>/boot/</code> posługując się narzędziem <code>fastboot</code> :</p>
<pre><code>$ fastboot flash boot magisk_patched-24100_bv4SY.img
Sending 'boot' (65536 KB)                          OKAY [  1.758s]
Writing 'boot'                                     OKAY [  0.868s]
Finished. Total time: 2.627s
</code></pre>
<p>Po wgraniu obrazu, restartujemy smartfon:</p>
<pre><code>$ fastboot reboot
Rebooting                                          OKAY [  0.000s]
Finished. Total time: 0.051s
</code></pre>
<h2 id="test-root-w-magisk">Test root w Magisk</h2>
<p>Po uruchomieniu systemu, wszystkie aplikacje, które korzystają z root'a, powinny poprosić o
zezwolenie im na dostęp do praw administratora systemu:</p>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td><img loading="lazy" src="https://morfikov.github.io/img/2022/02/005.crdroid-twrp-shrp-recovery-magisk-installed.png" alt="crdroid-twrp-shrp-recovery-magisk-installed"    class="small"></td>
<td><img loading="lazy" src="https://morfikov.github.io/img/2022/02/006.crdroid-twrp-shrp-recovery-magisk-installed-root-prompt.png" alt="crdroid-twrp-shrp-recovery-magisk-installed-root-prompt"    class="small"></td>
</tr>
</tbody>
</table>
<p>Jak widzimy też na fotce powyżej, pozycja <code>Installed</code> już nie wskazuje <code>N/A</code> , a widnieje tam
numerek wersji Magisk'a, tj. <code>24.1 (24100)</code> , co oznacza, że Magisk został zainstalowany z
powodzeniem i to przy całkowitym pominięciu trybu recovery.</p>
<h2 id="podsumowanie">Podsumowanie</h2>
<p>Jak widać na przykładzie niniejszego artykułu, tryb TWRP/SHRP recovery nie jest niezbędny, by
Magisk'a w smartfonie z Androidem można było zainstalować. Trzeba jednak pamiętać, że może i prawa
root udało nam się uzyskać, to tryb recovery w dalszym ciągu pozostaje w dużej mierze bezużyteczny,
tj. dalej pliki na partycji <code>/data/</code> będą zaszyfrowane. Jedyne co będziemy w stanie zrobić w trybie
recovery w stosunku do partycji <code>/data/</code> , to ją sformatować. Trzeba zatem zdawać sobie sprawę z
faktu, że jeśli z jakiegoś powodu nie będziemy w stanie uruchomić systemu w telefonie, to przez ten
tryb TWRP/SHRP recovery nie uda nam się smartfona odratować. Do momentu zaimplementowania wsparcia
dla Android 12 w TWRP/SHRP recovery, każdy problem, który można by było poprawić (albo zaradzić mu)
przez tryb recovery, będzie w zasadzie wiązał się z przywróceniem systemu do ustawień fabrycznych.</p></div>
				
				<footer class="entry__footer">
					
<div class="entry__tags">
			<a class="entry__tag btn" href="https://morfikov.github.io/tags/smartfon/">smartfon</a>
			<a class="entry__tag btn" href="https://morfikov.github.io/tags/xiaomi/">xiaomi</a>
			<a class="entry__tag btn" href="https://morfikov.github.io/tags/redmi-9/">redmi-9</a>
			<a class="entry__tag btn" href="https://morfikov.github.io/tags/root/">root</a>
			<a class="entry__tag btn" href="https://morfikov.github.io/tags/aosp/">aosp</a>
			<a class="entry__tag btn" href="https://morfikov.github.io/tags/crdroid/">crdroid</a>
			<a class="entry__tag btn" href="https://morfikov.github.io/tags/twrp/">twrp</a>
			<a class="entry__tag btn" href="https://morfikov.github.io/tags/shrp/">shrp</a>
			<a class="entry__tag btn" href="https://morfikov.github.io/tags/magisk/">magisk</a>
</div>
					
<div class="entry__share share">
	<a class="share__link btn" title="Podziel się na Facebook" href="https://www.facebook.com/sharer/sharer.php?u=https%3a%2f%2fmorfikov.github.io%2fpost%2fjak-zainstalowac-magisk-bez-dostepu-do-twrp-shrp-recovery%2f" target="_blank" rel="noopener noreferrer" onclick="window.open(this.href, 'Podziel się na Facebook', 'width=800,height=600,toolbar=0,status=0'); return false">
		<svg class="share__icon" aria-label="Facebook" role="img" width="32" height="32" viewBox="0 0 512 512"><path d="M330 512V322h64l9-74h-73v-47c0-22 6-36 37-36h39V99c-7-1-30-3-57-3-57 0-95 34-95 98v54h-64v74h64v190z"/></svg>
	</a>
	<a class="share__link btn" title="Podziel się na Twitter" href="https://twitter.com/intent/tweet/?url=https%3a%2f%2fmorfikov.github.io%2fpost%2fjak-zainstalowac-magisk-bez-dostepu-do-twrp-shrp-recovery%2f&amp;text=Jak%20zainstalowa%c4%87%20Magisk%20bez%20dost%c4%99pu%20do%20TWRP%2fSHRP%20recovery" target="_blank" rel="noopener noreferrer" onclick="window.open(this.href, 'Podziel się na Twitter', 'width=800,height=450,resizable=yes,toolbar=0,status=0'); return false">
		<svg class="share__icon" aria-label="Twitter" role="img" width="32" height="32" viewBox="0 0 512 512"><path d="M437 152a72 72 0 0 1-40 12 72 72 0 0 0 32-40 72 72 0 0 1-45 17 72 72 0 0 0-122 65 200 200 0 0 1-145-74 72 72 0 0 0 22 94 72 72 0 0 1-32-7 72 72 0 0 0 56 69 72 72 0 0 1-32 1 72 72 0 0 0 67 50 200 200 0 0 1-105 29 200 200 0 0 0 309-179 200 200 0 0 0 35-37"/></svg>
	</a>
	<a class="share__link btn" title="Podziel się na Reddit" href="https://www.reddit.com/submit?url=https%3a%2f%2fmorfikov.github.io%2fpost%2fjak-zainstalowac-magisk-bez-dostepu-do-twrp-shrp-recovery%2f&amp;title=Jak%20zainstalowa%c4%87%20Magisk%20bez%20dost%c4%99pu%20do%20TWRP%2fSHRP%20recovery" target="_blank" rel="noopener noreferrer" onclick="window.open(this.href, 'Podziel się na Reddit', 'width=832,height=624,toolbar=0,status=0'); return false">
		<svg class="share__icon" aria-label="Reddit" role="img" width="32" height="32" viewBox="0 0 512 512"><path fill-rule="evenodd" d="M375 146a32 32 0 1 0-29-46l-65-13c-5-1-9 2-10 6l-22 97c-45 1-85 15-113 36a42 42 0 1 0-45 69l-1 12c0 65 74 117 166 117s166-52 166-117l-1-11a42 42 0 1 0-44-69c-28-21-67-35-111-37l19-86 58 13a32 32 0 0 0 32 29zM190 353c2-1 4 0 5 1 15 11 38 18 61 18s46-6 61-18a7 7 0 0 1 8 10c-18 14-44 21-69 21-25-1-51-7-69-21a6 6 0 0 1 3-11zm23-44a31 31 0 1 1-44-44 31 31 0 0 1 44 44zm130 0a31 31 0 1 0-44-44 31 31 0 0 0 44 44z"/></svg>
	</a>
	<a class="share__link btn" title="Podziel się na Telegram" href="https://t.me/share/url?url=https%3a%2f%2fmorfikov.github.io%2fpost%2fjak-zainstalowac-magisk-bez-dostepu-do-twrp-shrp-recovery%2f&amp;title=Jak%20zainstalowa%c4%87%20Magisk%20bez%20dost%c4%99pu%20do%20TWRP%2fSHRP%20recovery" target="_blank" rel="noopener noreferrer" onclick="window.open(this.href, 'Podziel się na Telegram', 'width=800,height=600,toolbar=0,status=0'); return false">
		<svg class="share__icon" aria-label="Telegram" role="img" width="32" height="32" viewBox="0 0 512 512"><path d="M199 404c-11 0-10-4-13-14l-32-105 245-144"/><path d="M199 404c7 0 11-4 16-8l45-43-56-34"/><path d="M204 319l135 99c14 9 26 4 30-14l55-258c5-22-9-32-24-25L79 245c-21 8-21 21-4 26l83 26 190-121c9-5 17-3 11 4"/></svg>
	</a>
	<a class="share__link btn" title="Podziel się na LinkedIn" href="https://www.linkedin.com/shareArticle?mini=true&url=https%3a%2f%2fmorfikov.github.io%2fpost%2fjak-zainstalowac-magisk-bez-dostepu-do-twrp-shrp-recovery%2f&title=Jak%20zainstalowa%c4%87%20Magisk%20bez%20dost%c4%99pu%20do%20TWRP%2fSHRP%20recovery" target="_blank" rel="noopener noreferrer" onclick="window.open(this.href, 'Podziel się na LinkedIn', 'width=640,height=480,toolbar=0,status=0'); return false">
		<svg class="share__icon" aria-label="LinkedIn" role="img" width="32" height="32" viewBox="0 0 512 512"><circle cx="142" cy="138" r="37"/><path stroke-width="66" d="M244 194v198M142 194v198"/><path d="M276 282c0-20 13-40 36-40 24 0 33 18 33 45v105h66V279c0-61-32-89-76-89-34 0-51 19-59 32"/></svg>
	</a>
	<a class="share__link btn" title="Podziel się na VK" href="https://vk.com/share.php?url=https%3a%2f%2fmorfikov.github.io%2fpost%2fjak-zainstalowac-magisk-bez-dostepu-do-twrp-shrp-recovery%2f" target="_blank" rel="noopener noreferrer" onclick="window.open(this.href, 'Podziel się na VK', 'width=640,height=480,toolbar=0,status=0'); return false">
		<svg class="share__icon" aria-label="VK" role="img" width="32" height="32" viewBox="0 0 512 512"><path d="M274 363c5-1 14-3 14-15 0 0-1-30 13-34s32 29 51 42c14 9 25 8 25 8l51-1s26-2 14-23c-1-2-9-15-39-42-31-30-26-25 11-76 23-31 33-50 30-57-4-7-20-6-20-6h-57c-6 0-9 1-12 6 0 0-9 25-21 45-25 43-35 45-40 42-9-5-7-24-7-37 0-45 7-61-13-65-13-2-59-4-73 3-7 4-11 11-8 12 3 0 12 1 17 7 8 13 9 75-2 81-15 11-53-62-62-86-2-6-5-7-12-9H79c-6 0-15 1-11 13 27 56 83 193 184 192z"/></svg>
	</a>
	<a class="share__link btn" title="Zapisz do Pocket" href="https://getpocket.com/edit?url=https%3a%2f%2fmorfikov.github.io%2fpost%2fjak-zainstalowac-magisk-bez-dostepu-do-twrp-shrp-recovery%2f&amp;title=Jak%20zainstalowa%c4%87%20Magisk%20bez%20dost%c4%99pu%20do%20TWRP%2fSHRP%20recovery" target="_blank" rel="noopener noreferrer" onclick="window.open(this.href, 'Zapisz do Pocket', 'width=480,height=320,toolbar=0,status=0'); return false">
		<svg class="share__icon" aria-label="Pocket" role="img" width="32" height="32" viewBox="0 0 512 512"><path d="M388.8 88.9H123.2A47.4 47.4 0 0 0 76 136.5v131.9c0 2.4.2 4.8.5 7.2a101.8 101.8 0 0 0-.5 10.6c0 75.6 80.6 137 180 137s180-61.4 180-137c0-3.6-.2-7.1-.5-10.6.3-2.4.5-4.8.5-7.2v-132A47.4 47.4 0 0 0 388.8 89zm-22.4 132.6l-93 93c-4.7 4.6-11 7-17.1 7a23.8 23.8 0 0 1-17.7-7l-93-93a24 24 0 0 1 33.8-33.8l76.6 76.5 76.6-76.5a24 24 0 0 1 33.8 33.8z"/></svg>
	</a>
	<a class="share__link btn" title="Zapisz do Pinterest" href="https://pinterest.com/pin/create/button/?url=https%3a%2f%2fmorfikov.github.io%2fpost%2fjak-zainstalowac-magisk-bez-dostepu-do-twrp-shrp-recovery%2f&description=Jak%20zainstalowa%c4%87%20Magisk%20bez%20dost%c4%99pu%20do%20TWRP%2fSHRP%20recovery" target="_blank" rel="noopener noreferrer" onclick="window.open(this.href, 'Zapisz do Pocket', 'width=800,height=720,toolbar=0,status=0'); return false">
		<svg class="share__icon" aria-label="Pinterest" role="img" width="32" height="32" viewBox="0 0 512 512"><path d="m265 65c-104 0-157 75-157 138 0 37 14 71 45 83 5 2 10 0 12-5l3-18c2-6 1-7-2-12-9-11-15-24-15-43 0-56 41-106 108-106 60 0 92 37 92 85 0 64-28 116-70 116-23 0-40-18-34-42 6-27 19-57 19-77 0-18-9-34-30-34-24 0-42 25-42 58 0 20 7 34 7 34l-29 120a249 249 0 0 0 2 86l3-1c2-3 31-37 40-72l16-61c7 15 29 28 53 28 71 0 119-64 119-151 0-66-56-126-140-126z"/></svg>
	</a>
</div>
				</footer>
				
			</article>
		</div>
	</main>
	
<div class="authorbox block">
	<div class="author">
		<figure class="author__avatar">
			<img class="author__img" alt="Mikhail Morfikov avatar" src="https://morfikov.github.io/img/avatar.png" height="90" width="90">
		</figure>
		<div class="author__body">
			<div class="author__name">
				Mikhail Morfikov
			</div>
			<div class="author__bio">Po ponad 10 latach spędzonych z różnej maści linux&#39;ami (Debian/Ubuntu, OpenWRT, Android) mogę śmiało powiedzieć, że nie ma rzeczy niemożliwych i problemów, których nie da się rozwiązać. Jedną umiejętność, którą ludzki umysł musi posiąść, by wybrnąć nawet z tej najbardziej nieprzyjemniej sytuacji, to zdolność logicznego rozumowania.</div>
		</div>
	</div>
</div>
	



<div class="related block">
	<h3 class="related__title">Powiązane</h3>
	<ul class="related__list">
		
		<li class="related__item"><a class="related__link" href="https://morfikov.github.io/post/jak-wgrac-crdroid-android-rom-na-xiaomi-redmi-9-lancelot-galahad/">Jak wgrać crDroid Android ROM na Xiaomi Redmi 9 (lancelot/galahad)</a></li>
		
		<li class="related__item"><a class="related__link" href="https://morfikov.github.io/post/jak-zaktualizowac-firmware-custom-rom-w-smartfonach-xiaomi/">Jak zaktualizować firmware custom ROM&#39;ów w smartfonach Xiaomi</a></li>
		
		<li class="related__item"><a class="related__link" href="https://morfikov.github.io/post/nagrywanie-rozmow-telefonicznych-w-smartfonie-z-androidem/">Nagrywanie rozmów telefonicznych w smartfonie z Androidem</a></li>
		
		<li class="related__item"><a class="related__link" href="https://morfikov.github.io/post/zmiana-implementacji-webview-z-google-aosp-na-bromite-w-androidzie/">Zmiana implementacji WebView z Google/AOSP na Bromite w Androidzie</a></li>
		
		<li class="related__item"><a class="related__link" href="https://morfikov.github.io/post/jak-wgrac-twrp-recovery-i-magisk-w-xiaomi-redmi-9-galahad-lancelot/">Jak wgrać TWRP recovery i Magisk w Xiaomi Redmi 9 (galahad/lancelot)</a></li>
		
		<li class="related__item"><a class="related__link" href="https://morfikov.github.io/post/tryb-bezczynnosci-baterii-idle-mode-w-smartfonach-z-androidem/">Tryb bezczynności baterii (IDLE mode) w smartfonach z Androidem</a></li>
		
		<li class="related__item"><a class="related__link" href="https://morfikov.github.io/post/po-co-smartfonom-xiaomi-rom-fastboot-i-jak-z-nich-korzystac/">Po co smartfonom Xiaomi ROM&#39;y fastboot i jak z nich korzystać</a></li>
		
	</ul>
</div>

	<div id="comments">
		<script src="https://utteranc.es/client.js"
        repo="morfikov/morfitronik-comments"
        issue-term="og:title"
        theme="github-dark"
        crossorigin="anonymous"
        async>
</script>

	</div>

	</div>
	<footer class="footer">
<div class="footer__social social">
		<a class="social__link" target="_blank" rel="noopener noreferrer" href="mailto:morfitronik@gmail.com">
			<svg class="social__icon" aria-label="Email" role="img" width="32" height="32" viewBox="0 0 512 512"><path d="M299 268l124 106c-4 4-10 7-17 7H106c-7 0-13-3-17-7l124-106 43 38 43-38zm-43 13L89 138c4-4 10-7 17-7h300c7 0 13 3 17 7L256 281zm54-23l121-105v208L310 258zM81 153l121 105L81 361V153z"/></svg>
		</a>
		<a class="social__link" target="_blank" rel="noopener noreferrer" href="https://twitter.com/mikhailmorfikov">
			<svg class="social__icon" aria-label="Twitter" role="img" width="32" height="32" viewBox="0 0 512 512"><path d="M437 152a72 72 0 0 1-40 12 72 72 0 0 0 32-40 72 72 0 0 1-45 17 72 72 0 0 0-122 65 200 200 0 0 1-145-74 72 72 0 0 0 22 94 72 72 0 0 1-32-7 72 72 0 0 0 56 69 72 72 0 0 1-32 1 72 72 0 0 0 67 50 200 200 0 0 1-105 29 200 200 0 0 0 309-179 200 200 0 0 0 35-37"/></svg>
		</a>
		<a class="social__link" target="_blank" rel="noopener noreferrer" href="https://t.me/morfikov">
			<svg class="social__icon" aria-label="Telegram" role="img" width="32" height="32" viewBox="0 0 512 512"><path d="M199 404c-11 0-10-4-13-14l-32-105 245-144"/><path d="M199 404c7 0 11-4 16-8l45-43-56-34"/><path d="M204 319l135 99c14 9 26 4 30-14l55-258c5-22-9-32-24-25L79 245c-21 8-21 21-4 26l83 26 190-121c9-5 17-3 11 4"/></svg>
		</a>
		<a class="social__link" target="_blank" rel="noopener noreferrer" href="https://github.com/morfikov">
			<svg class="social__icon" aria-label="Github" role="img" width="32" height="32" viewBox="0 0 512 512"><path d="M335 499c14 0 12 17 12 17H165s-2-17 12-17c13 0 16-6 16-12l-1-50c-71 16-86-28-86-28-12-30-28-37-28-37-24-16 1-16 1-16 26 2 40 26 40 26 22 39 59 28 74 22 2-17 9-28 16-35-57-6-116-28-116-126 0-28 10-51 26-69-3-6-11-32 3-67 0 0 21-7 70 26 42-12 86-12 128 0 49-33 70-26 70-26 14 35 6 61 3 67 16 18 26 41 26 69 0 98-60 120-117 126 10 8 18 24 18 48l-1 70c0 6 3 12 16 12z"/></svg>
		</a>
		<a class="social__link" target="_blank" rel="noopener noreferrer" href="https://gitlab.com/morfikov">
			<svg class="social__icon" aria-label="Gitlab" role="img" width="32" height="32" viewBox="0 0 512 512"><path d="M450 282l-22-67-43-133c-2-7-12-7-14 0l-43.3 133H184.3L141 82c-2-7-12-7-14 0L84 215l-22 67c-2 6 0 13 6 16l188 137 188-137c6-3 8-10 6-16z"/></svg>
		</a>
		<a class="social__link" target="_blank" rel="noopener noreferrer" href="https://stackoverflow.com/users/3015317">
			<svg class="social__icon" aria-label="Stack Overflow" role="img" width="32" height="32" viewBox="0 0 512 512"><g stroke-width="30"><path fill="none" d="M125 297v105h241V297"/><path d="M170 341h150m-144-68l148 31M199 204l136 64m-95-129l115 97M293 89l90 120"/></g></svg>
		</a>
</div>
	<div class="footer__copyright">© 2024 Mikhail Morfikov.
	<span class="footer__copyright-credits">Powered by <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/vimux/binario" rel="nofollow noopener" target="_blank">Binario</a> theme.</span>
	<span class="footer__copyright-cc">
		<div class="license-icons">
			<a rel="license" href="https://creativecommons.org/licenses/by-nc-sa/4.0/" title="Creative Commons Attribution 4.0 International license">
<i class="icon-cc"></i><i class="icon-cc-by"></i><i class="icon-cc-nc"></i><i class="icon-cc-sa"></i>
</a>
		</div>
		Except where otherwise noted, content on this site is licensed under a <a rel="license" href="https://creativecommons.org/licenses/by-nc-sa/4.0/">Creative Commons Attribution-NonCommercial-ShareAlike 4.0 International license</a>.
	</span>
	</div>
</footer>

<script src="https://morfikov.github.io/js/menu.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.6/MathJax.js?config=TeX-AMS-MML_HTMLorMML" async></script>

<script src="https://morfikov.github.io/js/custom.js"></script>
<script src="https://unpkg.com/vanilla-back-to-top@7.2.1/dist/vanilla-back-to-top.min.js"></script>
<script>addBackToTop({
  diameter: 40,
  textColor: '#c3c3c3'
})</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/medium-zoom/1.0.6/medium-zoom.min.js" integrity="sha512-N9IJRoc3LaP3NDoiGkcPa4gG94kapGpaA5Zq9/Dr04uf5TbLFU5q0o8AbRhLKUUlp8QFS2u7S+Yti0U7QtuZvQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
<script>
const images = Array.from(document.querySelectorAll(".entry__content img"));
images.forEach(img => {
  mediumZoom(img, {
    margin: 0,  
    scrollOffset: 40,  
    container: null,  
    template: null,  
    background: 'rgba(0, 0, 0, 0.8)'
  });
});
</script>
</body>
</html>
