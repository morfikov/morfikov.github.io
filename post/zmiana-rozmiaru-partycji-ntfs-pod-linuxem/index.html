<!DOCTYPE html>
<html class="no-js" lang="pl-PL">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta name="theme-color" content="#1b1b1b">
	<title>Zmiana rozmiaru partycji NTFS pod linux&#39;em | Morfitronik</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://morfikov.github.io/post/zmiana-rozmiaru-partycji-ntfs-pod-linuxem/">
  <meta property="og:site_name" content="Morfitronik">
  <meta property="og:title" content="Zmiana rozmiaru partycji NTFS pod linux&#39;em">
  <meta property="og:description" content="Zmiana rozmiaru partycji, nie tylko tej zawierającej system plików NTFS, nie sprawia w dzisiejszych czasach praktycznie żadnych problemów. Mamy przecie do dyspozycji takie narzędzia jak gparted, które w dużej mierze automatyzują cały proces tworzenia i usuwania partycji, czy też zmiany ich rozmiaru. W tym wpisie przyjrzymy się temu procesowi z bliska, z tym, że nie będziemy korzystać z żadnych graficznych nakładek. Wszystkie kroki postaramy się zreprodukować ręcznie z poziomu konsoli przy pomocy takich narzędzi jak fdisk czy ntfsresize .">
  <meta property="og:locale" content="pl_PL">
  <meta property="og:type" content="article">
    <meta property="article:section" content="post">
    <meta property="article:published_time" content="2015-12-16T18:03:54+00:00">
    <meta property="article:modified_time" content="2015-12-16T18:03:54+00:00">
    <meta property="article:tag" content="System-Plików">
    <meta property="article:tag" content="Hdd">
    <meta property="article:tag" content="Ssd">
    <meta property="article:tag" content="Ntfs">

		
  <meta itemprop="name" content="Zmiana rozmiaru partycji NTFS pod linux&#39;em">
  <meta itemprop="description" content="Zmiana rozmiaru partycji, nie tylko tej zawierającej system plików NTFS, nie sprawia w dzisiejszych czasach praktycznie żadnych problemów. Mamy przecie do dyspozycji takie narzędzia jak gparted, które w dużej mierze automatyzują cały proces tworzenia i usuwania partycji, czy też zmiany ich rozmiaru. W tym wpisie przyjrzymy się temu procesowi z bliska, z tym, że nie będziemy korzystać z żadnych graficznych nakładek. Wszystkie kroki postaramy się zreprodukować ręcznie z poziomu konsoli przy pomocy takich narzędzi jak fdisk czy ntfsresize .">
  <meta itemprop="datePublished" content="2015-12-16T18:03:54+00:00">
  <meta itemprop="dateModified" content="2015-12-16T18:03:54+00:00">
  <meta itemprop="wordCount" content="2214">
  <meta itemprop="keywords" content="System-Plików,Hdd,Ssd,Ntfs">
		
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Zmiana rozmiaru partycji NTFS pod linux&#39;em">
  <meta name="twitter:description" content="Zmiana rozmiaru partycji, nie tylko tej zawierającej system plików NTFS, nie sprawia w dzisiejszych czasach praktycznie żadnych problemów. Mamy przecie do dyspozycji takie narzędzia jak gparted, które w dużej mierze automatyzują cały proces tworzenia i usuwania partycji, czy też zmiany ich rozmiaru. W tym wpisie przyjrzymy się temu procesowi z bliska, z tym, że nie będziemy korzystać z żadnych graficznych nakładek. Wszystkie kroki postaramy się zreprodukować ręcznie z poziomu konsoli przy pomocy takich narzędzi jak fdisk czy ntfsresize .">

	<link rel="stylesheet" href="https://morfikov.github.io/css/bundle.css">
	<link rel="stylesheet" href="https://morfikov.github.io/css/custom.css">
	<link rel="icon" href="https://morfikov.github.io/icons/16.png" sizes="16x16" type="image/png">
	<link rel="icon" href="https://morfikov.github.io/icons/32.png" sizes="32x32" type="image/png">
	<link rel="manifest" href="https://morfikov.github.io/manifest.json">
  


</head>
<body class="body kind-page">
	<header class="header">
	<a class="logo" href="https://morfikov.github.io/">Morfitronik</a>
	
<nav class="main-nav main-nav--right" role="navigation">
	<button id="toggle" class="main-nav__btn" aria-label="Menu toggle" aria-expanded="false" tabindex="0">
		<div class="main-nav__btn-box" tabindex="-1">
			<svg class="main-nav__icon icon-menu" width="18" height="18" viewBox="0 0 18 18">
				<path class="icon-menu__burger" d="M18 0v3.6H0V0h18zM0 10.8h18V7.2H0v3.6zM0 18h18v-3.6H0V18z"/>
				<path class="icon-menu__x" d="M11.55 9L18 15.45 15.45 18 9 11.55 2.55 18 0 15.45 6.45 9 0 2.55 2.55 0 9 6.45 15.45 0 18 2.55 11.55 9z"/>
			</svg>
		</div>
	</button>
	<ul id="menu" class="main-nav__list">
			<li class="main-nav__item">
				<a class="main-nav__link" href="https://morfikov.github.io/categories/">
					
					<span class="main-nav__text">Kategorie</span>
					
				</a>
			</li>
			<li class="main-nav__item">
				<a class="main-nav__link" href="https://morfikov.github.io/tags/">
					
					<span class="main-nav__text">Tagi</span>
					
				</a>
			</li>
			<li class="main-nav__item">
				<a class="main-nav__link" href="https://morfikov.github.io/page/info-kontakt/">
					
					<span class="main-nav__text">Info/Kontakt</span>
					
				</a>
			</li>
	</ul>
</nav>
</header>
	<div class="primary">
	
	<main class="main">
		
<nav class="breadcrumb block" aria-label="breadcrumb">
	<ol class="breadcrumb__list">
		
		<li class="breadcrumb__item">
			<a class="breadcrumbs__link" href="https://morfikov.github.io/">Home</a>
		</li>
		<li class="breadcrumb__item">
			<a class="breadcrumbs__link" href="https://morfikov.github.io/post/">Posts</a>
		</li>
		<li class="breadcrumbs__item breadcrumb__item--active" aria-current="page">Zmiana rozmiaru partycji NTFS pod linux&#39;em</li>
	</ol>
</nav>
		<div class="single block">
			<article class="entry">
	<div class="entry__meta meta mb">
	<time class="entry__meta-published meta-published" datetime="2015-12-16T18:03:54Z">Opublikowano: 16/12/2015</time>

<div class="entry__meta-categories meta-categories">
	<span class="meta-categories__list">Kategorie:
		<a class="meta-categories__link" href="https://morfikov.github.io/categories/linux/" rel="category">Linux</a>
	</span>
</div>
	</div>
				<h1 class="entry__title">Zmiana rozmiaru partycji NTFS pod linux&#39;em</h1>
<details class="entry__toc toc" >
	<summary class="toc__title">Spis treści</summary>
	<nav id="TableOfContents">
  <ol>
    <li><a href="#system-plików-ntfs">System plików NTFS</a></li>
    <li><a href="#zmniejszanie-rozmiaru-partycji-ntfs">Zmniejszanie rozmiaru partycji NTFS</a></li>
    <li><a href="#zwiększanie-rozmiaru-partycji-ntfs">Zwiększanie rozmiaru partycji NTFS</a></li>
  </ol>
</nav>
</details>
				<div class="entry__content"><p>Zmiana rozmiaru partycji, nie tylko tej zawierającej system plików NTFS, nie sprawia w dzisiejszych
czasach praktycznie żadnych problemów. Mamy przecie do dyspozycji takie narzędzia jak
<a href="http://gparted.org/">gparted</a>, które w dużej mierze automatyzują cały proces tworzenia i usuwania
partycji, czy też zmiany ich rozmiaru. W tym wpisie przyjrzymy się temu procesowi z bliska, z tym,
że nie będziemy korzystać z żadnych graficznych nakładek. Wszystkie kroki postaramy się
zreprodukować ręcznie z poziomu konsoli przy pomocy takich narzędzi jak <code>fdisk</code> czy <code>ntfsresize</code> .</p>
<h2 id="system-plików-ntfs">System plików NTFS</h2>
<p>Wszystkie poniższe kroki najlepiej jest przeprowadzać w środowisku testowym, tak by sobie przez
przypadek nie usunąć ważnych danych. Niżej mamy przykładowy dysk. Znajdują się na nim dwie partycje
i w tym też jest partycja NTFS. Wygląda to mniej więcej tak:</p>
<pre><code># parted /dev/sdb
GNU Parted 2.3
Using /dev/sdb
Welcome to GNU Parted! Type 'help' to view a list of commands.
(parted) unit
Unit?  [compact]? s
(parted) print free
Model: WDC WD80 0JB-00JJA0 (scsi)
Disk /dev/sdb: 156299375s
Sector size (logical/physical): 512B/512B
Partition Table: msdos

Number  Start       End         Size       Type     File system  Flags
        63s         2047s       1985s               Free Space
 1      2048s       61442047s   61440000s  primary  ntfs
 2      61442048s   156299263s  94857216s  primary  ext4
        156299264s  156299374s  111s                Free Space
</code></pre>
<p>Obsługa systemu plików NTFS w <code>parted</code> nie jest zaimplementowana i przy próbie zmiany rozmiaru
takiej partycji, dostaniemy poniższy komunikat:</p>
<pre><code>No Implementation: Support for opening ntfs file systems is not implemented yet.
</code></pre>
<p>W przypadku partycji NTFS odpadają nam zatem <code>gparted</code> oraz <code>parted</code> . Za to w pakiecie <code>ntfs-3g</code>
mamy narzędzie <code>ntfsresize</code> . Jak sama nazwa wskazuje, potrafi ono zmienić rozmiar partycji NTFS i
to nim będziemy się posługiwać w dalszej części wpisu.</p>
<h2 id="zmniejszanie-rozmiaru-partycji-ntfs">Zmniejszanie rozmiaru partycji NTFS</h2>
<p>Przed przystąpieniem do zmiany rozmiaru jakiejkolwiek partycji, nie tylko NTFS, trzeba ją pierw
przeskanować w poszukiwaniu ewentualnych błędów w systemie plików. Poniżej przykładowa linijka:</p>
<pre><code># ntfsresize -i -f -v /dev/sdb1
ntfsresize v2013.1.13AR.1 (libntfs-3g)
Device name        : /dev/sdb1
NTFS volume version: 3.1
Cluster size       : 4096 bytes
Current volume size: 31457276416 bytes (31458 MB)
Current device size: 31457280000 bytes (31458 MB)
Checking for bad sectors ...
Checking filesystem consistency ...
100.00 percent completed
Accounting clusters ...
Space in use       : 538 MB (1.7%)
Collecting resizing constraints ...
Estimating smallest shrunken size supported ...
File feature         Last used at      By inode
$MFTMirr           :      7204 MB             1
Ordinary           :     14403 MB          3380
You might resize at 537702400 bytes or 538 MB (freeing 30920 MB).
Please make a test run using both the -n and -s options before real resizing!
</code></pre>
<p>Jak widać powyżej, jest nawet informacja na temat tego jak bardzo można zjechać z rozmiarem
partycji. Jako, że jest tam na niej około 500 MB danych, minimalny rozmiar partycji nie może
przekroczyć 538 MB. Jest też również informacja, by przed rzeczywistą zmianą rozmiaru przeprowadzić
test używając opcji <code>-n</code> i <code>-s</code> . Sprawdźmy zatem co taki test nam powie:</p>
<pre><code># ntfsresize -f -s 10G -n /dev/sdb1
ntfsresize v2013.1.13AR.1 (libntfs-3g)
Device name        : /dev/sdb1
NTFS volume version: 3.1
Cluster size       : 4096 bytes
Current volume size: 31457276416 bytes (31458 MB)
Current device size: 31457280000 bytes (31458 MB)
New volume size    : 9999995392 bytes (10000 MB)
Checking filesystem consistency ...
100.00 percent completed
Accounting clusters ...
Space in use       : 538 MB (1.7%)
Collecting resizing constraints ...
Needed relocations : 23717 (98 MB)
Schedule chkdsk for NTFS consistency check at Windows boot time ...
Resetting $LogFile ... (this might take a while)
Relocating needed data ...
100.00 percent completed
Updating $BadClust file ...
Updating $Bitmap file ...
Updating Boot record ...
The read-only test run ended successfully.
</code></pre>
<p>Narzędzie <code>ntfsresize</code> operuje na podstawie potęgi 10 zamiast 2. W takim przypadku 10 GB i 10 GiB
nie oznacza tych samych wartości. Można również zauważyć, że będzie potrzeba przenieść 98 MB zanim
system plików zostanie zmniejszony. W przypadku większych partycji, naturalnie będzie to sporo
więcej danych. Jeśli nie będzie żadnych błędów, wydajemy polecenie bez opcji <code>-n</code> :</p>
<pre><code># ntfsresize -f -s 10G /dev/sdb1
ntfsresize v2013.1.13AR.1 (libntfs-3g)
Device name        : /dev/sdb1
NTFS volume version: 3.1
Cluster size       : 4096 bytes
Current volume size: 31457276416 bytes (31458 MB)
Current device size: 31457280000 bytes (31458 MB)
New volume size    : 9999995392 bytes (10000 MB)
Checking filesystem consistency ...
100.00 percent completed
Accounting clusters ...
Space in use       : 538 MB (1.7%)
Collecting resizing constraints ...
Needed relocations : 23717 (98 MB)
WARNING: Every sanity check passed and only the dangerous operations left.
Make sure that important data has been backed up! Power outage or computer
crash may result major data loss!
Are you sure you want to proceed (y/[n])? y
Schedule chkdsk for NTFS consistency check at Windows boot time ...
Resetting $LogFile ... (this might take a while)
Relocating needed data ...
100.00 percent completed
Updating $BadClust file ...
Updating $Bitmap file ...
Updating Boot record ...
Syncing device ...
Successfully resized NTFS on device '/dev/sdb1'.
You can go on to shrink the device for example with Linux fdisk.
IMPORTANT: When recreating the partition, make sure that you
  1)  create it at the same disk sector (use sector as the unit!)
  2)  create it with the same partition type (usually 7, HPFS/NTFS)
  3)  do not make it smaller than the new NTFS filesystem size
  4)  set the bootable flag for the partition if it existed before
Otherwise you won't be able to access NTFS or can't boot from the disk!
If you make a mistake and don't have a partition table backup then you
can recover the partition table by TestDisk or Parted's rescue mode.
</code></pre>
<p>Zmniejszyliśmy właśnie system plików. By się przekonać czy faktycznie jego rozmiar uległ zmianie,
wydajemy poniższe polecenie:</p>
<pre><code># ntfsresize -i -f /dev/sdb1
ntfsresize v2013.1.13AR.1 (libntfs-3g)
Device name        : /dev/sdb1
NTFS volume version: 3.1
Cluster size       : 4096 bytes
Current volume size: 9999995392 bytes (10000 MB)
Current device size: 31457280000 bytes (31458 MB)
Checking filesystem consistency ...
100.00 percent completed
Accounting clusters ...
Space in use       : 538 MB (5.4%)
Collecting resizing constraints ...
You might resize at 537047040 bytes or 538 MB (freeing 9462 MB).
Please make a test run using both the -n and -s options before real resizing!
</code></pre>
<p>Wartości parametrów <code>Current volume size</code> i <code>Current device size</code> różnią się. Teraz jeszcze trzeba
zmniejszyć rozmiar partycji. By tego dokonać potrzebny nam <code>fdisk</code> . W fdisk'u możemy precyzować
rozmiar używając bajtów lub sektorów, z tym, że <code>fdisk</code> używa podstawy potęgi 2. Jak widać wyżej,
niby wpisaliśmy 10G ale wyszła liczba 9999995392, która nijak się dzieli przez 1024. Za to dzieli
się ona przez 512. Liczba 512 odpowiada też za rozmiar sektora i możemy sobie wyliczyć rozmiar
nowej partycji w sektorach. Można też bez problemu podać rozmiar w bajtach. Jeśli jednak ktoś
preferuje sektory, to będzie to 9999995392/512=19531241 sektorów. Odpalamy <code>fdisk</code>, kasujemy
zmienianą partycję i na jej miejsce tworzymy nową. Musi ona się zaczynać w miejscu starej. Jedynie
co, to zmieni się położenie jej końca:</p>
<pre><code># fdisk /dev/sdb
Command (m for help): d
Partition number (1-4): 1

Command (m for help): n
Partition type:
   p   primary (1 primary, 0 extended, 3 free)
   e   extended
Select (default p): p
Partition number (1-4, default 1):
Using default value 1
First sector (2048-156299374, default 2048):
Using default value 2048
Last sector, +sectors or +size{K,M,G} (2048-61442047, default 61442047): +19531241
</code></pre>
<p>Domyślnie w fdisk'u zostanie stworzona partycja o kodzie 83 (linux), musimy to zmienić na kod 7
(NTFS). Możemy sobie wylistować typy partycji w fdisk'u przy pomocy opcji <code>L</code> . Wybieramy zatem
partycję i ustawiamy jej pożądany typ:</p>
<pre><code>Command (m for help): t
Partition number (1-4): 1

Hex code (type L to list codes): 7
Changed system type of partition 1 to 7 (HPFS/NTFS/exFAT)
</code></pre>
<p>Sprawdzamy czy wszystko się zgadza i jeśli jesteśmy zadowoleni z wyniku, zapisujemy układ partycji:</p>
<pre><code>Command (m for help): p

Disk /dev/sdb: 80.0 GB, 80025280000 bytes
255 heads, 63 sectors/track, 9729 cylinders, total 156299375 sectors
Units = sectors of 1 * 512 = 512 bytes
Sector size (logical/physical): 512 bytes / 512 bytes
I/O size (minimum/optimal): 512 bytes / 512 bytes
Disk identifier: 0x000c741d

   Device Boot      Start         End      Blocks   Id  System
/dev/sdb1            2048    19533289     9765621    7  HPFS/NTFS/exFAT
/dev/sdb2        61442048   156299263    47428608   83  Linux

Command (m for help): w
The partition table has been altered!

Calling ioctl() to re-read partition table.
Syncing disks.
</code></pre>
<p>Jeszcze by mieć absolutną pewność, że nic nie popsuliśmy, rzućmy okiem na to, co nam powie sam
<code>ntfsresize</code> :</p>
<pre><code># ntfsresize -i -f /dev/sdb1
ntfsresize v2013.1.13AR.1 (libntfs-3g)
Device name        : /dev/sdb1
NTFS volume version: 3.1
Cluster size       : 4096 bytes
Current volume size: 9999995392 bytes (10000 MB)
Current device size: 9999995904 bytes (10000 MB)
Checking filesystem consistency ...
100.00 percent completed
Accounting clusters ...
Space in use       : 538 MB (5.4%)
Collecting resizing constraints ...
You might resize at 537047040 bytes or 538 MB (freeing 9462 MB).
Please make a test run using both the -n and -s options before real resizing!
</code></pre>
<p>Ja u siebie jeszcze na wszelki wypadek sprawdziłem czy nowa partycja sprawia jakiś kłopot w
<code>gparted</code> ale nawet on nie zwraca żadnych problemów. Dane na dysku również są i można je odczytać.
Także wszystko przebiegło bez większych problemów.</p>
<h2 id="zwiększanie-rozmiaru-partycji-ntfs">Zwiększanie rozmiaru partycji NTFS</h2>
<p>Skoro istnieje potrzeba, by skurczyć czasem partycję, to na pewno ktoś będzie potrzebował jakąś
partycję rozciągnąć. W przypadku powiększania partycji, postępujemy odwrotnie jak w przypadku jej
zmniejszania. Najpierw rozciągamy partycję, a następnie jej system plików. Odpalamy <code>fdisk</code>,
kasujemy starą partycję i na jej miejsce tworzymy nową:</p>
<pre><code>Command (m for help): d
Partition number (1-4): 1

Command (m for help): n
Partition type:
   p   primary (1 primary, 0 extended, 3 free)
   e   extended
Select (default p): p
Partition number (1-4, default 1): 1
First sector (2048-156299374, default 2048):
Using default value 2048
Last sector, +sectors or +size{K,M,G} (2048-61442047, default 61442047): +20G

Command (m for help): t
Partition number (1-4): 1
Hex code (type L to list codes): 7
Changed system type of partition 1 to 7 (HPFS/NTFS/exFAT)

Command (m for help): w
The partition table has been altered!

Calling ioctl() to re-read partition table.
Syncing disks.
</code></pre>
<p>W przypadku, gdy spróbujemy rozciągnąć system plików bez uprzedniego zwiększenia rozmiaru partycji,
dostalibyśmy poniższy komunikat:</p>
<pre><code>ERROR: New size can't be bigger than the device size.
</code></pre>
<p>Mając już powiększoną partycję, zmieniamy rozmiar jej systemu plików. Pierw oczywiście test w trybie
tylko do odczytu:</p>
<pre><code># ntfsresize -s 20G -f -n  /dev/sdb1
ntfsresize v2013.1.13AR.1 (libntfs-3g)
Device name        : /dev/sdb1
NTFS volume version: 3.1
Cluster size       : 4096 bytes
Current volume size: 9999995392 bytes (10000 MB)
Current device size: 21474836480 bytes (21475 MB)
New volume size    : 19999994368 bytes (20000 MB)
Checking filesystem consistency ...
100.00 percent completed
Accounting clusters ...
Space in use       : 538 MB (5.4%)
Collecting resizing constraints ...
Schedule chkdsk for NTFS consistency check at Windows boot time ...
Resetting $LogFile ... (this might take a while)
Updating $BadClust file ...
Updating $Bitmap file ...
Updating Boot record ...
The read-only test run ended successfully.
</code></pre>
<p><code>fdisk</code> bez problemu policzył 20*1024*1024*1024=21474836480 , a ten <code>ntfsresize</code> próbował
20*1000*1000*1000. Jako, że komputery działają w oparciu o podstawę potęgi 2, a nie 10, to w
życiu nie uzyskamy okrągłego wyniku. Dlatego mamy wartość 19999994368 zamiast okrągłego
20000000000. W każdym razie zamiast <code>-s 20G</code> można sprecyzować <code>-s 21474836480</code> :</p>
<pre><code># ntfsresize -s 21474836480 -f -n  /dev/sdb1
ntfsresize v2013.1.13AR.1 (libntfs-3g)
Device name        : /dev/sdb1
NTFS volume version: 3.1
Cluster size       : 4096 bytes
Current volume size: 9999995392 bytes (10000 MB)
Current device size: 21474836480 bytes (21475 MB)
New volume size    : 21474832896 bytes (21475 MB)
Checking filesystem consistency ...
100.00 percent completed
Accounting clusters ...
Space in use       : 538 MB (5.4%)
Collecting resizing constraints ...
Schedule chkdsk for NTFS consistency check at Windows boot time ...
Resetting $LogFile ... (this might take a while)
Updating $BadClust file ...
Updating $Bitmap file ...
Updating Boot record ...
The read-only test run ended successfully.
</code></pre>
<p>Jak już jesteśmy pewni co do swoich czynów i ustawiliśmy wszystko jak trzeba, usuwamy opcję <code>-n</code> :</p>
<pre><code># ntfsresize -s 21474836480 -f /dev/sdb1
ntfsresize v2013.1.13AR.1 (libntfs-3g)
Device name        : /dev/sdb1
NTFS volume version: 3.1
Cluster size       : 4096 bytes
Current volume size: 9999995392 bytes (10000 MB)
Current device size: 21474836480 bytes (21475 MB)
New volume size    : 21474832896 bytes (21475 MB)
Checking filesystem consistency ...
100.00 percent completed
Accounting clusters ...
Space in use       : 538 MB (5.4%)
Collecting resizing constraints ...
WARNING: Every sanity check passed and only the dangerous operations left.
Make sure that important data has been backed up! Power outage or computer
crash may result major data loss!
Are you sure you want to proceed (y/[n])? y
Schedule chkdsk for NTFS consistency check at Windows boot time ...
Resetting $LogFile ... (this might take a while)
Updating $BadClust file ...
Updating $Bitmap file ...
Updating Boot record ...
Syncing device ...
Successfully resized NTFS on device '/dev/sdb1'.
</code></pre>
<p>I jeszcze dla pewności sprawdzamy, czy aby wszystko jest w porządku:</p>
<pre><code># ntfsresize -i -f /dev/sdb1
ntfsresize v2013.1.13AR.1 (libntfs-3g)
Device name        : /dev/sdb1
NTFS volume version: 3.1
Cluster size       : 4096 bytes
Current volume size: 21474832896 bytes (21475 MB)
Current device size: 21474836480 bytes (21475 MB)
Checking filesystem consistency ...
100.00 percent completed
Accounting clusters ...
Space in use       : 538 MB (2.5%)
Collecting resizing constraints ...
You might resize at 537395200 bytes or 538 MB (freeing 20937 MB).
Please make a test run using both the -n and -s options before real resizing!
</code></pre>
<p>Rozmiary partycji i systemu plików są z grubsza takie same no i żaden program nie zwraca błędów,
zatem wszystko musi być w porządku.</p></div>
				
				<footer class="entry__footer">
					
<div class="entry__tags">
			<a class="entry__tag btn" href="https://morfikov.github.io/tags/hdd/">Hdd</a>
			<a class="entry__tag btn" href="https://morfikov.github.io/tags/ssd/">Ssd</a>
			<a class="entry__tag btn" href="https://morfikov.github.io/tags/ntfs/">Ntfs</a>
</div>
					
<div class="entry__share share">
	<a class="share__link btn" title="Podziel się na Facebook" href="https://www.facebook.com/sharer/sharer.php?u=https%3a%2f%2fmorfikov.github.io%2fpost%2fzmiana-rozmiaru-partycji-ntfs-pod-linuxem%2f" target="_blank" rel="noopener noreferrer" onclick="window.open(this.href, 'Podziel się na Facebook', 'width=800,height=600,toolbar=0,status=0'); return false">
		<svg class="share__icon" aria-label="Facebook" role="img" width="32" height="32" viewBox="0 0 512 512"><path d="M330 512V322h64l9-74h-73v-47c0-22 6-36 37-36h39V99c-7-1-30-3-57-3-57 0-95 34-95 98v54h-64v74h64v190z"/></svg>
	</a>
	<a class="share__link btn" title="Podziel się na Twitter" href="https://twitter.com/intent/tweet/?url=https%3a%2f%2fmorfikov.github.io%2fpost%2fzmiana-rozmiaru-partycji-ntfs-pod-linuxem%2f&amp;text=Zmiana%20rozmiaru%20partycji%20NTFS%20pod%20linux%27em" target="_blank" rel="noopener noreferrer" onclick="window.open(this.href, 'Podziel się na Twitter', 'width=800,height=450,resizable=yes,toolbar=0,status=0'); return false">
		<svg class="share__icon" aria-label="Twitter" role="img" width="32" height="32" viewBox="0 0 512 512"><path d="M437 152a72 72 0 0 1-40 12 72 72 0 0 0 32-40 72 72 0 0 1-45 17 72 72 0 0 0-122 65 200 200 0 0 1-145-74 72 72 0 0 0 22 94 72 72 0 0 1-32-7 72 72 0 0 0 56 69 72 72 0 0 1-32 1 72 72 0 0 0 67 50 200 200 0 0 1-105 29 200 200 0 0 0 309-179 200 200 0 0 0 35-37"/></svg>
	</a>
	<a class="share__link btn" title="Podziel się na Reddit" href="https://www.reddit.com/submit?url=https%3a%2f%2fmorfikov.github.io%2fpost%2fzmiana-rozmiaru-partycji-ntfs-pod-linuxem%2f&amp;title=Zmiana%20rozmiaru%20partycji%20NTFS%20pod%20linux%27em" target="_blank" rel="noopener noreferrer" onclick="window.open(this.href, 'Podziel się na Reddit', 'width=832,height=624,toolbar=0,status=0'); return false">
		<svg class="share__icon" aria-label="Reddit" role="img" width="32" height="32" viewBox="0 0 512 512"><path fill-rule="evenodd" d="M375 146a32 32 0 1 0-29-46l-65-13c-5-1-9 2-10 6l-22 97c-45 1-85 15-113 36a42 42 0 1 0-45 69l-1 12c0 65 74 117 166 117s166-52 166-117l-1-11a42 42 0 1 0-44-69c-28-21-67-35-111-37l19-86 58 13a32 32 0 0 0 32 29zM190 353c2-1 4 0 5 1 15 11 38 18 61 18s46-6 61-18a7 7 0 0 1 8 10c-18 14-44 21-69 21-25-1-51-7-69-21a6 6 0 0 1 3-11zm23-44a31 31 0 1 1-44-44 31 31 0 0 1 44 44zm130 0a31 31 0 1 0-44-44 31 31 0 0 0 44 44z"/></svg>
	</a>
	<a class="share__link btn" title="Podziel się na Telegram" href="https://t.me/share/url?url=https%3a%2f%2fmorfikov.github.io%2fpost%2fzmiana-rozmiaru-partycji-ntfs-pod-linuxem%2f&amp;title=Zmiana%20rozmiaru%20partycji%20NTFS%20pod%20linux%27em" target="_blank" rel="noopener noreferrer" onclick="window.open(this.href, 'Podziel się na Telegram', 'width=800,height=600,toolbar=0,status=0'); return false">
		<svg class="share__icon" aria-label="Telegram" role="img" width="32" height="32" viewBox="0 0 512 512"><path d="M199 404c-11 0-10-4-13-14l-32-105 245-144"/><path d="M199 404c7 0 11-4 16-8l45-43-56-34"/><path d="M204 319l135 99c14 9 26 4 30-14l55-258c5-22-9-32-24-25L79 245c-21 8-21 21-4 26l83 26 190-121c9-5 17-3 11 4"/></svg>
	</a>
	<a class="share__link btn" title="Podziel się na LinkedIn" href="https://www.linkedin.com/shareArticle?mini=true&url=https%3a%2f%2fmorfikov.github.io%2fpost%2fzmiana-rozmiaru-partycji-ntfs-pod-linuxem%2f&title=Zmiana%20rozmiaru%20partycji%20NTFS%20pod%20linux%27em" target="_blank" rel="noopener noreferrer" onclick="window.open(this.href, 'Podziel się na LinkedIn', 'width=640,height=480,toolbar=0,status=0'); return false">
		<svg class="share__icon" aria-label="LinkedIn" role="img" width="32" height="32" viewBox="0 0 512 512"><circle cx="142" cy="138" r="37"/><path stroke-width="66" d="M244 194v198M142 194v198"/><path d="M276 282c0-20 13-40 36-40 24 0 33 18 33 45v105h66V279c0-61-32-89-76-89-34 0-51 19-59 32"/></svg>
	</a>
	<a class="share__link btn" title="Podziel się na VK" href="https://vk.com/share.php?url=https%3a%2f%2fmorfikov.github.io%2fpost%2fzmiana-rozmiaru-partycji-ntfs-pod-linuxem%2f" target="_blank" rel="noopener noreferrer" onclick="window.open(this.href, 'Podziel się na VK', 'width=640,height=480,toolbar=0,status=0'); return false">
		<svg class="share__icon" aria-label="VK" role="img" width="32" height="32" viewBox="0 0 512 512"><path d="M274 363c5-1 14-3 14-15 0 0-1-30 13-34s32 29 51 42c14 9 25 8 25 8l51-1s26-2 14-23c-1-2-9-15-39-42-31-30-26-25 11-76 23-31 33-50 30-57-4-7-20-6-20-6h-57c-6 0-9 1-12 6 0 0-9 25-21 45-25 43-35 45-40 42-9-5-7-24-7-37 0-45 7-61-13-65-13-2-59-4-73 3-7 4-11 11-8 12 3 0 12 1 17 7 8 13 9 75-2 81-15 11-53-62-62-86-2-6-5-7-12-9H79c-6 0-15 1-11 13 27 56 83 193 184 192z"/></svg>
	</a>
	<a class="share__link btn" title="Zapisz do Pocket" href="https://getpocket.com/edit?url=https%3a%2f%2fmorfikov.github.io%2fpost%2fzmiana-rozmiaru-partycji-ntfs-pod-linuxem%2f&amp;title=Zmiana%20rozmiaru%20partycji%20NTFS%20pod%20linux%27em" target="_blank" rel="noopener noreferrer" onclick="window.open(this.href, 'Zapisz do Pocket', 'width=480,height=320,toolbar=0,status=0'); return false">
		<svg class="share__icon" aria-label="Pocket" role="img" width="32" height="32" viewBox="0 0 512 512"><path d="M388.8 88.9H123.2A47.4 47.4 0 0 0 76 136.5v131.9c0 2.4.2 4.8.5 7.2a101.8 101.8 0 0 0-.5 10.6c0 75.6 80.6 137 180 137s180-61.4 180-137c0-3.6-.2-7.1-.5-10.6.3-2.4.5-4.8.5-7.2v-132A47.4 47.4 0 0 0 388.8 89zm-22.4 132.6l-93 93c-4.7 4.6-11 7-17.1 7a23.8 23.8 0 0 1-17.7-7l-93-93a24 24 0 0 1 33.8-33.8l76.6 76.5 76.6-76.5a24 24 0 0 1 33.8 33.8z"/></svg>
	</a>
	<a class="share__link btn" title="Zapisz do Pinterest" href="https://pinterest.com/pin/create/button/?url=https%3a%2f%2fmorfikov.github.io%2fpost%2fzmiana-rozmiaru-partycji-ntfs-pod-linuxem%2f&description=Zmiana%20rozmiaru%20partycji%20NTFS%20pod%20linux%27em" target="_blank" rel="noopener noreferrer" onclick="window.open(this.href, 'Zapisz do Pocket', 'width=800,height=720,toolbar=0,status=0'); return false">
		<svg class="share__icon" aria-label="Pinterest" role="img" width="32" height="32" viewBox="0 0 512 512"><path d="m265 65c-104 0-157 75-157 138 0 37 14 71 45 83 5 2 10 0 12-5l3-18c2-6 1-7-2-12-9-11-15-24-15-43 0-56 41-106 108-106 60 0 92 37 92 85 0 64-28 116-70 116-23 0-40-18-34-42 6-27 19-57 19-77 0-18-9-34-30-34-24 0-42 25-42 58 0 20 7 34 7 34l-29 120a249 249 0 0 0 2 86l3-1c2-3 31-37 40-72l16-61c7 15 29 28 53 28 71 0 119-64 119-151 0-66-56-126-140-126z"/></svg>
	</a>
</div>
				</footer>
				
			</article>
		</div>
	</main>
	
<div class="authorbox block">
	<div class="author">
		<figure class="author__avatar">
			<img class="author__img" alt="Mikhail Morfikov avatar" src="https://morfikov.github.io/img/avatar.png" height="90" width="90">
		</figure>
		<div class="author__body">
			<div class="author__name">
				Mikhail Morfikov
			</div>
			<div class="author__bio">Po ponad 10 latach spędzonych z różnej maści linux&#39;ami (Debian/Ubuntu, OpenWRT, Android) mogę śmiało powiedzieć, że nie ma rzeczy niemożliwych i problemów, których nie da się rozwiązać. Jedną umiejętność, którą ludzki umysł musi posiąść, by wybrnąć nawet z tej najbardziej nieprzyjemniej sytuacji, to zdolność logicznego rozumowania.</div>
		</div>
	</div>
</div>

	



<div class="related block">
	<h3 class="related__title">Powiązane</h3>
	<ul class="related__list">
		
		<li class="related__item"><a class="related__link" href="https://morfikov.github.io/post/opcja-extents-w-systemach-plikow-ext4/">Opcja extents w systemach plików ext4</a></li>
		
		<li class="related__item"><a class="related__link" href="https://morfikov.github.io/post/etykieta-systemu-plikow-i-jej-dostosowanie/">Etykieta systemu plików i jej dostosowanie</a></li>
		
		<li class="related__item"><a class="related__link" href="https://morfikov.github.io/post/zarezerwowane-miejsce-w-systemie-plikow-ext4/">Zarezerwowane miejsce w systemie plików ext4</a></li>
		
		<li class="related__item"><a class="related__link" href="https://morfikov.github.io/post/sprawdzanie-bledow-systemu-plikow-ext4/">Sprawdzanie błędów systemu plików ext4</a></li>
		
		<li class="related__item"><a class="related__link" href="https://morfikov.github.io/post/bad-sektor-w-dzienniku-systemu-plikow-ext4/">Bad sektor w dzienniku systemu plików ext4</a></li>
		
		<li class="related__item"><a class="related__link" href="https://morfikov.github.io/post/programowe-sprzetowe-zerowanie-dysku/">Programowe i sprzętowe zerowanie dysku</a></li>
		
		<li class="related__item"><a class="related__link" href="https://morfikov.github.io/post/parametr-readahead-w-dyskach-twardych/">Parametr readahead w dyskach twardych</a></li>
		
	</ul>
</div>

	<div id="comments">
		<script src="https://utteranc.es/client.js"
        repo="morfikov/morfitronik-comments"
        issue-term="og:title"
        theme="github-dark"
        crossorigin="anonymous"
        async>
</script>

	</div>

	</div>
	<footer class="footer">
<div class="footer__social social">
		<a class="social__link" target="_blank" rel="noopener noreferrer" href="mailto:morfitronik@gmail.com">
			<svg class="social__icon" aria-label="Email" role="img" width="32" height="32" viewBox="0 0 512 512"><path d="M299 268l124 106c-4 4-10 7-17 7H106c-7 0-13-3-17-7l124-106 43 38 43-38zm-43 13L89 138c4-4 10-7 17-7h300c7 0 13 3 17 7L256 281zm54-23l121-105v208L310 258zM81 153l121 105L81 361V153z"/></svg>
		</a>
		<a class="social__link" target="_blank" rel="noopener noreferrer" href="https://t.me/morfikov">
			<svg class="social__icon" aria-label="Telegram" role="img" width="32" height="32" viewBox="0 0 512 512"><path d="M199 404c-11 0-10-4-13-14l-32-105 245-144"/><path d="M199 404c7 0 11-4 16-8l45-43-56-34"/><path d="M204 319l135 99c14 9 26 4 30-14l55-258c5-22-9-32-24-25L79 245c-21 8-21 21-4 26l83 26 190-121c9-5 17-3 11 4"/></svg>
		</a>
		<a class="social__link" target="_blank" rel="noopener noreferrer" href="https://github.com/morfikov">
			<svg class="social__icon" aria-label="Github" role="img" width="32" height="32" viewBox="0 0 512 512"><path d="M335 499c14 0 12 17 12 17H165s-2-17 12-17c13 0 16-6 16-12l-1-50c-71 16-86-28-86-28-12-30-28-37-28-37-24-16 1-16 1-16 26 2 40 26 40 26 22 39 59 28 74 22 2-17 9-28 16-35-57-6-116-28-116-126 0-28 10-51 26-69-3-6-11-32 3-67 0 0 21-7 70 26 42-12 86-12 128 0 49-33 70-26 70-26 14 35 6 61 3 67 16 18 26 41 26 69 0 98-60 120-117 126 10 8 18 24 18 48l-1 70c0 6 3 12 16 12z"/></svg>
		</a>
		<a class="social__link" target="_blank" rel="noopener noreferrer" href="https://gitlab.com/morfikov">
			<svg class="social__icon" aria-label="Gitlab" role="img" width="32" height="32" viewBox="0 0 512 512"><path d="M450 282l-22-67-43-133c-2-7-12-7-14 0l-43.3 133H184.3L141 82c-2-7-12-7-14 0L84 215l-22 67c-2 6 0 13 6 16l188 137 188-137c6-3 8-10 6-16z"/></svg>
		</a>
		<a class="social__link" target="_blank" rel="noopener noreferrer" href="https://stackoverflow.com/users/3015317">
			<svg class="social__icon" aria-label="Stack Overflow" role="img" width="32" height="32" viewBox="0 0 512 512"><g stroke-width="30"><path fill="none" d="M125 297v105h241V297"/><path d="M170 341h150m-144-68l148 31M199 204l136 64m-95-129l115 97M293 89l90 120"/></g></svg>
		</a>
		<a class="social__link" target="_blank" rel="noopener noreferrer" href="https://mastodon.social/@morfik">
			<svg class="social__icon" aria-label="Mastodon" role="img" width="32" height="32" viewBox="0 0 512 512"><path d="M416 197c0-74-49-96-49-96-42-22-172-24-222 0 0 0-49 22-49 96v59c2 72 14 145 81 162 33 9 89 18 140-6l-2-27s-27 7-58 7c-74 2-67-39-70-52 0 0 51 17 137 6 42-6 80-32 85-56 8-38 7-93 7-93zm-58 96h-35v-88c0-18-8-27-23-27-18 0-27 11-27 33v47h-34v-47c0-22-9-33-27-33-15 0-23 9-23 27v88h-35v-91c0-18 5-60 52-60 39 0 50 37 50 37s10-37 50-37c45 0 52 42 52 60v91z"/></svg>
		</a>
</div>
	<div class="footer__copyright">© 2025 Mikhail Morfikov.
	<span class="footer__copyright-credits">Powered by <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/vimux/binario" rel="nofollow noopener" target="_blank">Binario</a> theme.</span>
	<span class="footer__copyright-cc">
		<div class="license-icons">
			<a rel="license" href="https://creativecommons.org/licenses/by-nc-sa/4.0/" title="Creative Commons Attribution 4.0 International license">
<i class="icon-cc"></i><i class="icon-cc-by"></i><i class="icon-cc-nc"></i><i class="icon-cc-sa"></i>
</a>
		</div>
		Except where otherwise noted, content on this site is licensed under a <a rel="license" href="https://creativecommons.org/licenses/by-nc-sa/4.0/">Creative Commons Attribution-NonCommercial-ShareAlike 4.0 International license</a>.
	</span>
	</div>
</footer>

<script src="https://morfikov.github.io/js/menu.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.6/MathJax.js?config=TeX-AMS-MML_HTMLorMML" async></script>

<script src="https://morfikov.github.io/js/custom.js"></script>
<script src="https://unpkg.com/vanilla-back-to-top@7.2.1/dist/vanilla-back-to-top.min.js"></script>
<script>addBackToTop({
  diameter: 40,
  textColor: '#c3c3c3'
})</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/medium-zoom/1.0.6/medium-zoom.min.js" integrity="sha512-N9IJRoc3LaP3NDoiGkcPa4gG94kapGpaA5Zq9/Dr04uf5TbLFU5q0o8AbRhLKUUlp8QFS2u7S+Yti0U7QtuZvQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
<script>
const images = Array.from(document.querySelectorAll(".entry__content img"));
images.forEach(img => {
  mediumZoom(img, {
    margin: 0,  
    scrollOffset: 40,  
    container: null,  
    template: null,  
    background: 'rgba(0, 0, 0, 0.8)'
  });
});
</script>
</body>
</html>
