<!DOCTYPE html>
<html class="no-js" lang="pl-PL">
<head>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta name="theme-color" content="#1b1b1b">
	<title>Optymalizacja procesu ładowania baterii via ACC w smartfonie z Androidem | Morfitronik</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Optymalizacja procesu ładowania baterii via ACC w smartfonie z Androidem" />
<meta property="og:description" content="Odblokowanie bootloader&#39;a w smartfonie Xiaomi Redmi 9 (Galahad/Lancelot) mamy już z głowy.
Podobnie sprawa wygląda z wgrywaniem na partycję recovery obrazu TWRP i uzyskiwaniem praw
administratora systemu root za sprawą Magisk&#39;a. Te dwa kluczowe procesy otworzyły nam drogę do
nieco bardziej zaawansowanych prac jeśli chodzi o konfigurację samego urządzenia. W tym artykule
nie będziemy się jeszcze bawić we wgrywanie alternatywnych ROM&#39;ów na bazie AOSP/LineageOS ale za to
zainteresujemy się nieco bardziej procesem ładowania samej baterii w takim telefonie. Chodzi
generalnie o fakt przedłużenia żywotności baterii smartfona za sprawą limitowania maksymalnej
wartości, do jakiej można taką baterię podładować podłączając telefon czy to do portu USB
komputera, czy też do pełnowymiarowej ładowarki. Taki stopień konfiguracji można osiągnąć
zaprzęgając do pracy zaawansowany kontroler ładowania (Advanced Charging Controller, ACC),
który manipuluje niskopoziomowymi ustawieniami kernela linux. W standardowym Androidzie tego typu
funkcjonalności nie uświadczymy, przez co bateria zużywa się parokrotnie szybciej niż powinna, co
przekłada się na wymianę urządzenia na nowe po niecałym roku czy dwóch jego użytkowania. Jeśli nie
uśmiecha nam się wydawać hajsu co roku na nowy telefon tylko dlatego, że nie można w nim wymienić
baterii, to powinniśmy rozważyć rozwiązanie jakie nam daje ACC." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://morfikov.github.io/post/optymalizacja-procesu-ladowania-baterii-via-acc-w-smartfonie-z-androidem/" /><meta property="article:section" content="post" />
<meta property="article:published_time" content="2021-09-03T20:53:00+02:00" />
<meta property="article:modified_time" content="2021-09-03T20:53:00+02:00" />


		<meta itemprop="name" content="Optymalizacja procesu ładowania baterii via ACC w smartfonie z Androidem">
<meta itemprop="description" content="Odblokowanie bootloader&#39;a w smartfonie Xiaomi Redmi 9 (Galahad/Lancelot) mamy już z głowy.
Podobnie sprawa wygląda z wgrywaniem na partycję recovery obrazu TWRP i uzyskiwaniem praw
administratora systemu root za sprawą Magisk&#39;a. Te dwa kluczowe procesy otworzyły nam drogę do
nieco bardziej zaawansowanych prac jeśli chodzi o konfigurację samego urządzenia. W tym artykule
nie będziemy się jeszcze bawić we wgrywanie alternatywnych ROM&#39;ów na bazie AOSP/LineageOS ale za to
zainteresujemy się nieco bardziej procesem ładowania samej baterii w takim telefonie. Chodzi
generalnie o fakt przedłużenia żywotności baterii smartfona za sprawą limitowania maksymalnej
wartości, do jakiej można taką baterię podładować podłączając telefon czy to do portu USB
komputera, czy też do pełnowymiarowej ładowarki. Taki stopień konfiguracji można osiągnąć
zaprzęgając do pracy zaawansowany kontroler ładowania (Advanced Charging Controller, ACC),
który manipuluje niskopoziomowymi ustawieniami kernela linux. W standardowym Androidzie tego typu
funkcjonalności nie uświadczymy, przez co bateria zużywa się parokrotnie szybciej niż powinna, co
przekłada się na wymianę urządzenia na nowe po niecałym roku czy dwóch jego użytkowania. Jeśli nie
uśmiecha nam się wydawać hajsu co roku na nowy telefon tylko dlatego, że nie można w nim wymienić
baterii, to powinniśmy rozważyć rozwiązanie jakie nam daje ACC."><meta itemprop="datePublished" content="2021-09-03T20:53:00+02:00" />
<meta itemprop="dateModified" content="2021-09-03T20:53:00+02:00" />
<meta itemprop="wordCount" content="2731">
<meta itemprop="keywords" content="xiaomi,redmi-9,root,smartfon,bateria,akumulator,acc,f-droid,aplikacje," />
		<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Optymalizacja procesu ładowania baterii via ACC w smartfonie z Androidem"/>
<meta name="twitter:description" content="Odblokowanie bootloader&#39;a w smartfonie Xiaomi Redmi 9 (Galahad/Lancelot) mamy już z głowy.
Podobnie sprawa wygląda z wgrywaniem na partycję recovery obrazu TWRP i uzyskiwaniem praw
administratora systemu root za sprawą Magisk&#39;a. Te dwa kluczowe procesy otworzyły nam drogę do
nieco bardziej zaawansowanych prac jeśli chodzi o konfigurację samego urządzenia. W tym artykule
nie będziemy się jeszcze bawić we wgrywanie alternatywnych ROM&#39;ów na bazie AOSP/LineageOS ale za to
zainteresujemy się nieco bardziej procesem ładowania samej baterii w takim telefonie. Chodzi
generalnie o fakt przedłużenia żywotności baterii smartfona za sprawą limitowania maksymalnej
wartości, do jakiej można taką baterię podładować podłączając telefon czy to do portu USB
komputera, czy też do pełnowymiarowej ładowarki. Taki stopień konfiguracji można osiągnąć
zaprzęgając do pracy zaawansowany kontroler ładowania (Advanced Charging Controller, ACC),
który manipuluje niskopoziomowymi ustawieniami kernela linux. W standardowym Androidzie tego typu
funkcjonalności nie uświadczymy, przez co bateria zużywa się parokrotnie szybciej niż powinna, co
przekłada się na wymianę urządzenia na nowe po niecałym roku czy dwóch jego użytkowania. Jeśli nie
uśmiecha nam się wydawać hajsu co roku na nowy telefon tylko dlatego, że nie można w nim wymienić
baterii, to powinniśmy rozważyć rozwiązanie jakie nam daje ACC."/>

	<link rel="stylesheet" href="https://morfikov.github.io/css/bundle.css">
	<link rel="stylesheet" href="https://morfikov.github.io/css/custom.css">
	<link rel="icon" href="https://morfikov.github.io/icons/16.png" sizes="16x16" type="image/png">
	<link rel="icon" href="https://morfikov.github.io/icons/32.png" sizes="32x32" type="image/png">
	<link rel="manifest" href="https://morfikov.github.io/manifest.json">
		
<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
	ga('create', 'UA-119125303-1', 'auto');
	
	ga('send', 'pageview');
}
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>

</head>
<body>
	<header class="header">
	<a class="logo" href="https://morfikov.github.io/">Morfitronik</a>
	
<nav class="main-nav main-nav--right" role="navigation">
	<button id="toggle" class="main-nav__btn" aria-label="Menu toggle" aria-expanded="false" tabindex="0">
		<div class="main-nav__btn-box" tabindex="-1">
			<svg class="main-nav__icon icon-menu" width="18" height="18" viewBox="0 0 18 18">
				<path class="icon-menu__burger" d="M18 0v3.6H0V0h18zM0 10.8h18V7.2H0v3.6zM0 18h18v-3.6H0V18z"/>
				<path class="icon-menu__x" d="M11.55 9L18 15.45 15.45 18 9 11.55 2.55 18 0 15.45 6.45 9 0 2.55 2.55 0 9 6.45 15.45 0 18 2.55 11.55 9z"/>
			</svg>
		</div>
	</button>
	<ul id="menu" class="main-nav__list">
			<li class="main-nav__item">
				<a class="main-nav__link" href="https://morfikov.github.io/categories/">
					
					<span class="main-nav__text">Kategorie</span>
					
				</a>
			</li>
			<li class="main-nav__item">
				<a class="main-nav__link" href="https://morfikov.github.io/tags/">
					
					<span class="main-nav__text">Tagi</span>
					
				</a>
			</li>
			<li class="main-nav__item">
				<a class="main-nav__link" href="https://morfikov.github.io/page/info-kontakt/">
					
					<span class="main-nav__text">Info/Kontakt</span>
					
				</a>
			</li>
	</ul>
</nav>
</header>
	<div class="primary">
	
	<main class="main">
		
<nav class="breadcrumb block" aria-label="breadcrumb">
	<ol class="breadcrumb__list">
		
		<li class="breadcrumb__item">
			<a class="breadcrumbs__link" href="https://morfikov.github.io/">Home</a>
		</li>
		<li class="breadcrumb__item">
			<a class="breadcrumbs__link" href="https://morfikov.github.io/post/">Posts</a>
		</li>
		<li class="breadcrumbs__item breadcrumb__item--active" aria-current="page">Optymalizacja procesu ładowania baterii via ACC w smartfonie z Androidem</li>
	</ol>
</nav>
		<div class="single block">
			<article class="entry">
	<div class="entry__meta meta mb">
	<time class="entry__meta-published meta-published" datetime="2021-09-03T20:53:00&#43;02:00">Opublikowano: 03/09/2021</time>

<span class="entry__meta-categories meta-categories">
	<span class="meta-categories__list">Kategorie:
		<a class="meta-categories__link" href="https://morfikov.github.io/categories/android/" rel="category">Android</a>
	</span>
</span>
	</div>
				<h1 class="entry__title">Optymalizacja procesu ładowania baterii via ACC w smartfonie z Androidem</h1>
<details class="entry__toc toc" >
	<summary class="toc__title">Spis treści</summary>
	<nav id="TableOfContents">
  <ol>
    <li><a href="#problematyczne-baterie-w-urządzeniach-mobilnych">Problematyczne baterie w urządzeniach mobilnych</a></li>
    <li><a href="#acc-acca-i-magisk">ACC, ACCA i Magisk</a></li>
    <li><a href="#jak-działa-zaawansowany-kontroler-ładowania-acc">Jak działa zaawansowany kontroler ładowania ACC</a>
      <ol>
        <li><a href="#widełki-pojemnościowe">Widełki pojemnościowe</a></li>
        <li><a href="#widełki-temperaturowe">Widełki temperaturowe</a></li>
        <li><a href="#widełki-prądowo-napięciowe">Widełki prądowo-napięciowe</a></li>
        <li><a href="#ładowanie-z-cyklami-chłodzenia">Ładowanie z cyklami chłodzenia</a></li>
        <li><a href="#jednorazowe-ładowanie-z-pominięciem-restrykcji">Jednorazowe ładowanie z pominięciem restrykcji</a></li>
      </ol>
    </li>
    <li><a href="#problemy-z-kontrolerem-acc">Problemy z kontrolerem ACC</a></li>
    <li><a href="#podsumowanie">Podsumowanie</a></li>
  </ol>
</nav>
</details>
				<div class="entry__content"><p><a href="https://morfikov.github.io/post/jak-wgrac-twrp-recovery-i-magisk-w-xiaomi-redmi-9-galahad-lancelot/">Odblokowanie bootloader'a</a> w smartfonie Xiaomi Redmi 9 (Galahad/Lancelot) mamy już z głowy.
Podobnie sprawa wygląda z <a href="https://morfikov.github.io/post/jak-odblokowac-bootloader-w-xiaomi-redmi-9-galahad-lancelot/">wgrywaniem na partycję recovery obrazu TWRP</a> i uzyskiwaniem praw
administratora systemu root za sprawą Magisk'a. Te dwa kluczowe procesy otworzyły nam drogę do
nieco bardziej zaawansowanych prac jeśli chodzi o konfigurację samego urządzenia. W tym artykule
nie będziemy się jeszcze bawić we wgrywanie alternatywnych ROM'ów na bazie AOSP/LineageOS ale za to
zainteresujemy się nieco bardziej procesem ładowania samej baterii w takim telefonie. Chodzi
generalnie o fakt przedłużenia żywotności baterii smartfona za sprawą limitowania maksymalnej
wartości, do jakiej można taką baterię podładować podłączając telefon czy to do portu USB
komputera, czy też do pełnowymiarowej ładowarki. Taki stopień konfiguracji można osiągnąć
zaprzęgając do pracy zaawansowany kontroler ładowania (<a href="https://github.com/VR-25/acc">Advanced Charging Controller</a>, ACC),
który manipuluje niskopoziomowymi ustawieniami kernela linux. W standardowym Androidzie tego typu
funkcjonalności nie uświadczymy, przez co bateria zużywa się parokrotnie szybciej niż powinna, co
przekłada się na wymianę urządzenia na nowe po niecałym roku czy dwóch jego użytkowania. Jeśli nie
uśmiecha nam się wydawać hajsu co roku na nowy telefon tylko dlatego, że nie można w nim wymienić
baterii, to powinniśmy rozważyć rozwiązanie jakie nam daje ACC.</p>
<h2 id="problematyczne-baterie-w-urządzeniach-mobilnych">Problematyczne baterie w urządzeniach mobilnych</h2>
<p>Jeden problem z urządzeniami mobilnymi, takimi jak smartfony czy laptopy, od wielu lat pozostaje w
zasadzie niezmienny, tj. z biegiem czasu bateria takiego urządzenia ulega degradacji w skutek m.in.
ciągłych cykli ładowania/rozładowania. W przypadku laptopów można z tym nieuchronnym procesem
wałczyć, np. wyjmując z niego baterię, ale co w przypadku telefonów z Androidem, w których nie
dość, że takiego zabiegu się nie da przeprowadzić, to jeszcze samo urządzenie wymaga obecności
baterii, by w ogóle chciało się uruchomić (podłączenie pod ładowarkę nic nie da)?</p>
<p>Generalnie rzecz biorąc, to praktycznie każde urządzenie, które może być zasilane przy pomocy
baterii powinno oferować możliwość kontroli jej procesu ładowania. Nie wiedzieć czemu, producenci
takich urządzeń mobilnych nie chcą udostępniać końcowemu użytkownikowi opcji zarządzania procesem
ładowania baterii. Choć zapewne wszyscy wiemy, że takie zachowanie producentów sprzętu
elektronicznego podyktowane jest chęcią zysku, przez co urządzenia, które technicznie rzecz biorąc
są w pełni sprawne i mogłyby nam posłużyć jeszcze wiele lat stają się złomem, który trzeba wyrzucić
na śmietnik, a wszystko to z powodu braku kawałka dobrej baterii.</p>
<p>Jakiś już czas temu opisywałem na przykładzie mojego laptopa Lenovo Thinkpad T430 możliwość
<a href="https://morfikov.github.io/post/jak-ograniczyc-ladowanie-baterii-w-laptopie-thinkpad-t430/">ustawienia progów ładowania jego baterii</a>, by niepotrzebnie jej nie stresować i tym samym
wydłużyć jej żywotność dość znacznie. Tego typu zabieg można również przeprowadzić w części
smartfonów zaprzęgając do pracy wspomniany już zaawansowany kontroler ładowania (Advanced Charging
Controller, ACC). Problem z ACC jest jednak taki, że wymaga on praw administratora systemu root w
telefonie, by móc z powodzeniem wypełniać powierzone mu funkcje sprawowania kontroli nad procesem
ładowania baterii.</p>
<p>Jak zapewne sporo osób już wie, telefony z Androidem praktycznie nie oferują dostępu root ze
względów bezpieczeństwa, albo bardziej po ludzku, by chronić użytkownika telefonu przed jego
własną głupotą. Są jednak urządzenia, takie jak np. Xiaomi Redmi 9, w których bez zbytniego wysiłku
można uzyskać prawa administracyjne i jeśli posiadamy takie urządzenie (albo też inne, na którym
dostęp root udało nam się uzyskać), to możemy spróbować poskromić proces ładowania baterii w
naszym telefonie i narzucić mu ograniczenia, z którymi zapewne do tej pory się jeszcze nie spotkał.</p>
<h2 id="acc-acca-i-magisk">ACC, ACCA i Magisk</h2>
<p>Na necie można spotkać się z dwoma projektami: <a href="https://github.com/VR-25/acc">ACC</a> i <a href="https://github.com/MatteCarra/AccA">ACCA</a>. Czym one się różnią i czy
musimy mieć zainstalowane obie te rzeczy, czy też wystarczy samo ACC lub ACCA?</p>
<p>ACC to jest właściwa aplikacja, którą trzeba zainstalować w smartfonie z Androidem. W interakcję z
tym oprogramowaniem wchodzi się przy pomocy wiersza poleceń, czyli potrzebna jest jakaś aplikacja
terminala. Dodatkowo, nasz system musi wspierać mechanizm uruchamiania skryptów init.d, by ACC był
się w stanie uruchomić automatycznie z systemem.</p>
<p>Z kolei ACCA, to graficzna nakładka na ACC, przy pomocy której możemy kontrolować zachowanie ACC.
Dodatkowo ta aplikacja może być uruchamiana w regularny sposób ze startem systemu (zwykły autostart
Androida), przez co żadnych dodatkowych kroków nie musimy przeprowadzać, by ACC nam działał.</p>
<p>Technicznie rzecz biorąc ACCA ułatwia cały proces konfigurowania i zarządzania kontrolerem ACC.
Jeśli nie przepadamy za aplikacjami konsolowym, to powinniśmy sobie zainstalować ACCA (obok ACC),
który jest dostępny standardowo w <a href="https://f-droid.org/packages/mattecarra.accapp/">repozytorium F-Droid</a> i to z niego konfigurować ACC.</p>
<p>Mając ukorzeniony system za sprawą Magisk'a, ACC możemy zainstalować w Androidzie wgrywając moduł
<code>Advanced Charging Controller (ACC)</code> . Dla pełnej funkcjonalności, możemy także doinstalować moduł
<code>Daily Job Scheduler (DJS)</code> , który ma na ceku uruchamianie poleceń m.in. przy starcie systemu.</p>
<p><img loading="lazy" src="https://morfikov.github.io/img/2021/09/005-acc-acca-android-battery-controller-magisk-modules.jpg" alt="acc-acca-android-battery-controller-magisk-modules"    class="small"></p>
<h2 id="jak-działa-zaawansowany-kontroler-ładowania-acc">Jak działa zaawansowany kontroler ładowania ACC</h2>
<p>Standardowe kontrolery ładowania działają na zasadzie monitorowania stanu napięcia i jeśli ten
osiągnie jakiś zdefiniowany poziom, to proces ładowania jest przerywany. Standardowo ten poziom
napięcia w smartfonach wynosi około 4,35V. Analogicznie, jeśli poziom napięcia spadnie poniżej tej
określonej wartości, to proces ładowania jest załączany ponownie.</p>
<p>Taki stan rzeczy dość mocno stresuje baterię, ze względu na fakt, że baterie litowo-jonowe (li-ion)
niezbyt kochają stany pełnego naładowania, a jeszcze gorzej znoszą ciągłe doładowywanie do 100%
będąc już blisko tego progu. Dlatego też nie powinno się zostawiać podłączonego telefonu na noc do
ładowarki.</p>
<p>Wielu użytkowników stara się korzystać z różnych aplikacji pokroju <a href="https://play.google.com/store/apps/details?id=com.digibites.accubattery">AccuBattery</a>, który jest nas
w stanie powiadomić o osiągnięciu określonego stopnia naładowania baterii. Gdy taką notyfikację
usłyszymy, wiemy, że jest to czas by odłączyć naszego smartfona od ładowarki, co efektywnie
przerywa proces ładowania. Problem z tego typu aplikacjami jest taki, że wymagają od nas świadomej
interakcji i pilnowania procesu ładowania, co nie zawsze jest możliwe, a poza tym, mamy raczej
ważniejsze sprawy na głowie. Właśnie po to powstał projekt ACC, który ma na celu przejęcie pełnej
kontroli nad procesem ładowania baterii w telefonie i zautomatyzowanie go w pełni, tak by końcowy
użytkownik nie musiał sobie tym procesem głowy zaprzątać.</p>
<h3 id="widełki-pojemnościowe">Widełki pojemnościowe</h3>
<p>Ten zaawansowany kontroler ładowania działa na kilku płaszczyznach. Pierwszą z nich jest ustawienie
dwóch progów, tj. niskiego i wysokiego, dla przykładu weźmy sobie 70% i 75%. Gdy po całym dniu
pracy telefonu podłączymy go pod ładowarkę, to ACC podładuje go do 75% i odetnie go od prądu. Zatem
niby telefon jest podłączony pod ładowarkę ale po osiągnięciu tych 75%, proces ładowania zostanie
przerwany. By uniknąć ciągłego załączania się procesu ładowania (w sytuacji, gdy stopień
naładowania baterii spadnie np. do 74%), wprowadzono ten drugi próg, który ma za zadanie załączyć
proces ładowania dopiero w momencie, gdy stopień naładowania baterii spadnie poniżej 70%. Gdy ten
próg zostanie osiągnięty, to kontroler załączy proces ładowania i znów podładuje baterię do 75%.</p>
<p><img loading="lazy" src="https://morfikov.github.io/img/2021/09/001-acc-acca-android-battery-controller-capacity.jpg" alt="acc-acca-android-battery-controller-capacity"    class="small"></p>
<p>Wyżej w pierwszej kolumnie mamy także wartość określająca przy jakim stopniu naładowania baterii,
ACC powinien odciąć zasilanie, tj. wyłączyć telefon. Powinniśmy unikać sytuacji, w których telefon
rozładowuje nam się do 0%, a w szczególności powinniśmy unikać sytuacji, w których tak rozładowany
telefon pozostaje przez dłuższy czas. Dlatego dobrze jest określić pewien minimalny próg poniżej
którego ACC odetnie zasilanie.</p>
<p>W zasadzie taka logika procesu ładowania wystarczy ogromnej większości użytkowników smartfonów z
Androidem ale to nie jest wszystko na co stać ACC,</p>
<h3 id="widełki-temperaturowe">Widełki temperaturowe</h3>
<p>Kolejny aspekt procesu ładowania baterii, który możemy kontrolować za sprawą kontrolera ACC,
dotyczy temperatury baterii. Podobnie jak w przypadku pełnego stanu naładowania, baterie li-ion
niezbyt lubią gorące klimaty. Niemniej jednak, podczas procesu ładowania (zwłaszcza tego szybkiego)
wydziela się sporo ciepła. Im cieplejsza staje się bateria, tym gorzej dla jej żywotności.
Technicznie rzecz biorąc, <a href="https://batteryuniversity.com/article/bu-808-how-to-prolong-lithium-based-batteries">nie powinno się wychodzić poza próg 30°C</a>, a szybkie ładowanie jest w
stanie rozgrzać telefon nawet i powyżej 45°C, co efektywnie degraduje pojemność baterii, gdy taka
temperatura utrzymuje się przez dłuższy okres czasu.</p>
<p>Jako ciekawostkę można dodać, że gdyby utrzymywać smartfon w temperaturze 40°C, to po roku takiego
użytkowania, pojemność baterii spadłaby do około 60% wartości nominalnej. Dlatego też temperatura
baterii czy to podczas standardowej pracy telefonu, czy podczas procesu ładowania powinna być
możliwe niska, najlepiej poniżej tych wspomnianych wyżej 30°C.</p>
<p><img loading="lazy" src="https://morfikov.github.io/img/2021/09/002-acc-acca-android-battery-controller-temperature.jpg" alt="acc-acca-android-battery-controller-temperature"    class="small"></p>
<p>Powinniśmy zatem unikać szybkiego ładowania oraz nie powinniśmy korzystać z telefonu, gdy ten jest
podłączony pod ładowarkę. Niemniej jednak, w sytuacji, gdy nasz telefon zacznie się nagrzewać i
bateria osiągnie zdefiniowany wyżej próg temperatury, to ACC przerwie proces ładowania na pewien
określony czas (w tym przypadku będzie to czas 90 sekund) lub też, gdy temperatura spadnie poniżej
zdefiniowanej wartości (tutaj 25°C). W jednym lub drugim przypadku, kontroler rozpocznie ponownie
proces ładowania baterii i tak w kółko. Oczywiście taki stan rzeczy może dość znacznie wydłużyć
proces ładowania, zwłaszcza w miesiącach letnich.</p>
<h3 id="widełki-prądowo-napięciowe">Widełki prądowo-napięciowe</h3>
<p>Kolejna kwestia dotyczy napięcia na baterii oraz natężenia prądu w procesie ładowania baterii. Te
dwie rzeczy również możemy kontrolować przy pomocy ACC. Jakie zatem powinno być napięcie na baterii
i jakim prądem powinniśmy ładować telefon?</p>
<p>Standardowo baterie w telefonach mają około 4,35V w stanie pełnego naładowania. Czy to dużo czy
mało? Jeśli sobie popatrzymy po ogniwach li-ion 18650, to takie ogniwa mają z reguły napięcie
nominalne 3,6V/3,7V i można je podładować zwykle do 4,2V. Te baterie w telefonach mają standardowo
napięcie nominalne 3,7V ale w pełni naładowane mają już 4,35V, zatem więcej o te 0,15V. Ta różnica
nie wydaje się być duża ale to tylko pozory. Te 0,15V daje pojemność około +20% w stosunku do
baterii z napięciem 4,2V. Zatem z jednej strony mamy dość spory wzrost pojemności baterii w
telefonie, co cieszy. Niemniej jednak, każdy wzrost napięcia na baterii o 0,1V (powyżej tych 4,2V)
powoduje utratę żywotności takiej baterii o połowę, co już niezbyt cieszy.</p>
<p>O ile sporadyczne podładowanie smartfona do pełna czasami może nam uratować skórę (np. jak się
zgubimy gdzieś na jakimś zadupiu), to jeśli faktycznie zależy nam na żywotności baterii, to nie
powinniśmy jej do tych 100% ładować w codziennym użytkowaniu urządzenia. Dlaczego zatem producenci
smartfonów nas o tym fakcie nie informują? Zapewne wszyscy znamy odpowiedź na to pytanie, choć też
sami jesteśmy sobie winni. Jeśli mielibyśmy do wyboru dwóch producentów telefonów, z których każdy
ma w swoim urządzeniu baterię 10000 mAh, ale jeden z nich ogranicza sprzętowo możliwość ładowania
baterii widełkami 20%-80%, czyli wykorzystywane  jest 60% z tych 10000 mAh, co daje 6000 mAh, to
telefon którego producenta byśmy kupili? I dlatego właśnie te baterie się tak ostro przekręca pod
względem napięciowym, by tylko na papierku wyglądało, że ma trochę większą pojemność, a żywotnością
takich baterii nikt sobie głowy nie zawraca, przecie klient przyjdzie za rok i tak kupi nowe
urządzenie.</p>
<p>Technicznie rzecz biorąc, powinniśmy unikać napięcia na baterii większego od 4.05V, co przekłada
się na około 70-75% stanu naładowania baterii. Wciąż jednak, bateria w tym Xiaomi Redmi 9 ma
pojemność około 5000 mAh, więc nie jest znowu najgorzej, nawet przy tych 75%. Lepiej jest też
kupić smartfon z pojemniejszą baterią i ładować ją do tych 75%, niż zakupić urządzenie z mniejszą
baterią i utylizować ją w pełni.</p>
<p>Jeśli zaś chodzi o sam prąd ładowania, którym powinniśmy ładować telefon, to tutaj sprawa zdaje się
być również oczywista, tj. stosuje się zasadę 1C, gdzie C oznacza pojemność baterii ale wyrażona w
mA. Zatem prąd ładowania będzie się różnił, w zależności od tego jakiej pojemności baterię
posiadamy w smartfonie. Tutaj jest bateria około 5000 mAh, co dawałoby 5000 mA lub 5A. Nie oznacza
to, że powinniśmy tyle prądu w tę baterię wpuszczać. By przedłużyć żywotność baterii, z tego 1C
powinniśmy zjechać do około 0,3C-0,5C, co efektywnie dawałoby nam 1,5A-2,5A. Generalnie, to im
mniejszy będzie prąd ładowania, tym mniej będziemy stresować baterię ale nie powinniśmy schodzić
poniżej 0,1C, co w tym przypadku dawałoby 0,5A (tyle co port USB2). Jeśli nie potrzebujemy
natychmiast podładować telefonu, to trzymajmy się tych niższych wartości natężenia prądu.</p>
<p>Biorąc pod uwagę te powyższe informacje, napięcie do którego ACC ma podładować mój telefon
ustawiłem na 4,1V, zaś prąd ładowania na maksymalnie 1A:</p>
<p><img loading="lazy" src="https://morfikov.github.io/img/2021/09/003-acc-acca-android-battery-controller-voltage-current.jpg" alt="acc-acca-android-battery-controller-voltage-current"    class="small"></p>
<h3 id="ładowanie-z-cyklami-chłodzenia">Ładowanie z cyklami chłodzenia</h3>
<p>ACC posiada dość ciekawy algorytm samego ładowania baterii, tj. ładowanie z cyklami chłodzenia. Ten
mechanizm jest załączany od pewnego stopnia naładowania baterii, np. 50% czy 60%. Następnie bateria
ładowana jest przez pewien określony przedział czasu, np. 50 sekund. Po tym okresie, ładowanie jest
przerywane na jakiś czas, np. 10 sekund i w takich właśnie cyklach ten proces ładowania baterii
przebiega.</p>
<p><img loading="lazy" src="https://morfikov.github.io/img/2021/09/004-acc-acca-android-battery-controller-cool-down-charging.jpg" alt="acc-acca-android-battery-controller-cool-down-charging"    class="small"></p>
<p>Takie zachowanie jest w stanie nie dopuścić do zbytniego rozgrzania się baterii w procesie
ładowania, zwłaszcza szybkiego ale naturalnie cały proces będzie trwał sporo dłużej.</p>
<p>Minusem tego trybu ładowania jest zaś włączanie się ekranu za każdym razem gdy załączany jest
proces ładowania. Próbowałem jakoś temu zaradzić ale najwyraźniej potrzebne są dodatkowe zabiegi (w
tym custom ROM'y), by takie włączanie się wyświetlacza telefonu po podaniu zasilania być w stanie
skonfigurować, a Xiaomi Redmi 9 takiej funkcjonalności standardowo zwyczajnie nie oferuje. Niemniej
jednak, ten tryb ładowania z cyklami chłodzenia jest bardzo użyteczny, gdy mamy włączony ekran, np.
oglądamy YT, czy ogólnie operujemy na smartfonie podczas jego ładowania, choć powinniśmy unikać
takich sytuacji.</p>
<h3 id="jednorazowe-ładowanie-z-pominięciem-restrykcji">Jednorazowe ładowanie z pominięciem restrykcji</h3>
<p>Czasami zapewne przytrafi nam się sytuacja, w której trzeba będzie w pośpiechu się zebrać i wyjść z
domu. Co, gdy się okaże, że po zerknięciu na ekran smartfona, ten nam wskaże, że bateria jest na
wyczerpaniu? W takich momentach nie mamy za dużo czasu na zabawę telefonem i przekonfigurowanie go
pod kątem zmiany parametrów procesu ładowania. ACC przewiduje tego typu sytuacje i pozwala
użytkownikowi na aktywację prostej opcji, za sprawą której możemy przez jedno ładowanie pominąć
wszystkie zdefiniowane restrykcje i przeprowadzić proces ładowania baterii w telefonie w tradycyjny
sposób.</p>
<p><img loading="lazy" src="https://morfikov.github.io/img/2021/09/006-acc-acca-android-battery-controller-avoid-restrictions.jpg" alt="acc-acca-android-battery-controller-avoid-restrictions"    class="small"></p>
<h2 id="problemy-z-kontrolerem-acc">Problemy z kontrolerem ACC</h2>
<p>O ile ACC to bardzo przydatna zabawka, o tyle trzeba sobie zdawać sprawę, że może ona być dość
niebezpieczna, zwłaszcza w przypadku smartfonów, które nie są kompatybilne z tego typu kontrolerami
ładowania. Spora część telefonów raczej powinna z ACC działać bez problemu, niemniej jednak jeśli
chodzi o moje urządzenia z Androidem, to ten Xiaomi Redmi 9 jest pierwszym, który jest w stanie
współpracować z ACC bez większego problemu. Moje poprzednie telefony miały z tym niesamowity
problem.</p>
<p>Nawet gdy nasze urządzenie zdaje się działać poprawnie z ACC, to mogą wystąpić drobne problemy przy
jego użytkowaniu, wliczając w to też uszkodzenie telefonu. Na stronie projektu widnieje takie
ostrzeżenie:</p>
<blockquote>
<p>Some devices, notably Xiaomi phones, have a buggy PMIC (Power Management Integrated Circuit) that
can be triggered by acc. The issue blocks charging. Ensure your battery does not discharge too
low. Using acc's auto shutdown feature is highly recommended.</p>
</blockquote>
<p>Zatem najwyraźniej pewne urządzenia, <a href="https://forum.xda-developers.com/t/rom-official-arrowos-11-0-android-11-0-vayu-bhima.4267263/page-14#post-85119331">w tym telefony Xiaomi</a>, mają jakieś błędy w układzie
zarządzania zasilaniem PMIC, które ACC może aktywować, czego efektem będzie blokada możliwości
zainicjowania procesu ładowania baterii w telefonie lub też dość mocne samorozładowanie się baterii.
Takie rozładowanie się telefonu bez żadnej kontroli może z kolei doprowadzić do śmierci baterii
(system jej już nie wykryje) i w efekcie do uszkodzenia telefonu.</p>
<p>By ochronić się przed tym wyżej opisanym problemem, ACC wprowadziło zabezpieczenie (w opcjach
widełek pojemnościowych), gdzie mamy możliwość skonfigurowania wyłączenia się telefonu, np. gdy
stopień naładowania baterii spadnie poniżej 5%, co powinno uniemożliwić wytransferowanie z niej
ładunku poniżej progu wykrywalności przez elektronikę.</p>
<p>Jeśli po zainstalowaniu/skonfigurowaniu ACC obserwujemy problemy z ładowaniem telefonu lub zbyt
szybką utratą pojemności baterii, to powinniśmy ACC odinstalować, by uniknąć ewentualnego
uszkodzenia urządzenia. Można też spróbować uruchomić telefon w trybie bootloader'a (np. via <code>adb reboot bootloader</code> ), by zresetować układ zarządzania zasilaniem PMIC.</p>
<p>Czasami też niektóre rzeczy oferowane przez ACC nie są wspierane przez kernel w danym urządzeniu,
np. limitowanie natężenia prądu czy ładowanie do określonej wartości napięcia. Posiadanie uprawnień
root za bardzo nam tutaj nie pomoże.</p>
<p>W przypadku limitowania wartości napięcia do jakiego bateria może być naładowana, trzeba też mieć
na uwadze, że na niektórych urządzeniach może ulec zmianie stan naładowania takiej baterii (odchyły
od stanu faktycznego). Niemniej jednak, system zarządzania baterią samoczynnie się nieustannie 
kalibruje i nie ma się co przejmować tutaj, bo odtworzenie domyślnych limitów napięcia naprawi ten
problem. Jeśli zaś chodzi o limity prądowe, to ten ficzer jest z reguły wspierany przez większość
urządzeń i nawet ten Xiaomi Redmi 9 bez problemu adaptuje się do ustawionych wartości w czasie
rzeczywistym bez potrzeby restartu ACC -- wystarczy podłączyć jakiś miernik USB i obserwować czy
zmiany wartości natężenia prądu będą odzwierciedlane we wskazaniach miernika.</p>
<h2 id="podsumowanie">Podsumowanie</h2>
<p>Zaawansowany kontroler ACC i jego graficzna nakładka ACCA są w stanie zoptymalizować proces
ładowania baterii w smartfonie z Androidem i uczynić ten proces praktycznie transparentny z naszego
użytkowego punktu widzenia. Raz skonfigurowany kontroler nie wymaga dalszych zabiegów z naszej
strony, a jego działanie jest w pełni automatyczne. Niekoniecznie musimy korzystać ze wszystkich
funkcji ACC w tym samym czasie. Przeciętny użytkownik z powodzeniem zadowoli się jedynie widełkami
pojemnościowymi, a ci bardziej zaawansowani mają możliwość także skorzystać z widełek
temperaturowych czy też prądowo-napięciowych. Jedyny problem jaki pozostaje do rozwiązania, to
zapalanie się ekranu telefonu po podłączeniu zasilania, co najbardziej odczuwalne jest przy
ładowaniu z cyklami chłodzenia, gdzie ekran włącza się praktycznie co niecałą minutę, przez co w
stock'owych ROM'ach korzystanie z tego trybu ładowania mija się z celem.</p></div>
				
				<footer class="entry__footer">
					
<div class="entry__tags">
			<a class="entry__tag btn" href="https://morfikov.github.io/tags/xiaomi/">xiaomi</a>
			<a class="entry__tag btn" href="https://morfikov.github.io/tags/redmi-9/">redmi-9</a>
			<a class="entry__tag btn" href="https://morfikov.github.io/tags/root/">root</a>
			<a class="entry__tag btn" href="https://morfikov.github.io/tags/smartfon/">smartfon</a>
			<a class="entry__tag btn" href="https://morfikov.github.io/tags/bateria/">bateria</a>
			<a class="entry__tag btn" href="https://morfikov.github.io/tags/akumulator/">akumulator</a>
			<a class="entry__tag btn" href="https://morfikov.github.io/tags/acc/">acc</a>
			<a class="entry__tag btn" href="https://morfikov.github.io/tags/f-droid/">f-droid</a>
			<a class="entry__tag btn" href="https://morfikov.github.io/tags/aplikacje/">aplikacje</a>
</div>
					
<div class="entry__share share">
	<a class="share__link btn" title="Podziel się na Facebook" href="https://www.facebook.com/sharer/sharer.php?u=https%3a%2f%2fmorfikov.github.io%2fpost%2foptymalizacja-procesu-ladowania-baterii-via-acc-w-smartfonie-z-androidem%2f" target="_blank" rel="noopener noreferrer" onclick="window.open(this.href, 'Podziel się na Facebook', 'width=800,height=600,toolbar=0,status=0'); return false">
		<svg class="share__icon" aria-label="Facebook" role="img" width="32" height="32" viewBox="0 0 512 512"><path d="M330 512V322h64l9-74h-73v-47c0-22 6-36 37-36h39V99c-7-1-30-3-57-3-57 0-95 34-95 98v54h-64v74h64v190z"/></svg>
	</a>
	<a class="share__link btn" title="Podziel się na Twitter" href="https://twitter.com/intent/tweet/?url=https%3a%2f%2fmorfikov.github.io%2fpost%2foptymalizacja-procesu-ladowania-baterii-via-acc-w-smartfonie-z-androidem%2f&amp;text=Optymalizacja%20procesu%20%c5%82adowania%20baterii%20via%20ACC%20w%20smartfonie%20z%20Androidem" target="_blank" rel="noopener noreferrer" onclick="window.open(this.href, 'Podziel się na Twitter', 'width=800,height=450,resizable=yes,toolbar=0,status=0'); return false">
		<svg class="share__icon" aria-label="Twitter" role="img" width="32" height="32" viewBox="0 0 512 512"><path d="M437 152a72 72 0 0 1-40 12 72 72 0 0 0 32-40 72 72 0 0 1-45 17 72 72 0 0 0-122 65 200 200 0 0 1-145-74 72 72 0 0 0 22 94 72 72 0 0 1-32-7 72 72 0 0 0 56 69 72 72 0 0 1-32 1 72 72 0 0 0 67 50 200 200 0 0 1-105 29 200 200 0 0 0 309-179 200 200 0 0 0 35-37"/></svg>
	</a>
	<a class="share__link btn" title="Podziel się na Reddit" href="https://www.reddit.com/submit?url=https%3a%2f%2fmorfikov.github.io%2fpost%2foptymalizacja-procesu-ladowania-baterii-via-acc-w-smartfonie-z-androidem%2f&amp;title=Optymalizacja%20procesu%20%c5%82adowania%20baterii%20via%20ACC%20w%20smartfonie%20z%20Androidem" target="_blank" rel="noopener noreferrer" onclick="window.open(this.href, 'Podziel się na Reddit', 'width=832,height=624,toolbar=0,status=0'); return false">
		<svg class="share__icon" aria-label="Reddit" role="img" width="32" height="32" viewBox="0 0 512 512"><path fill-rule="evenodd" d="M375 146a32 32 0 1 0-29-46l-65-13c-5-1-9 2-10 6l-22 97c-45 1-85 15-113 36a42 42 0 1 0-45 69l-1 12c0 65 74 117 166 117s166-52 166-117l-1-11a42 42 0 1 0-44-69c-28-21-67-35-111-37l19-86 58 13a32 32 0 0 0 32 29zM190 353c2-1 4 0 5 1 15 11 38 18 61 18s46-6 61-18a7 7 0 0 1 8 10c-18 14-44 21-69 21-25-1-51-7-69-21a6 6 0 0 1 3-11zm23-44a31 31 0 1 1-44-44 31 31 0 0 1 44 44zm130 0a31 31 0 1 0-44-44 31 31 0 0 0 44 44z"/></svg>
	</a>
	<a class="share__link btn" title="Podziel się na Telegram" href="https://t.me/share/url?url=https%3a%2f%2fmorfikov.github.io%2fpost%2foptymalizacja-procesu-ladowania-baterii-via-acc-w-smartfonie-z-androidem%2f&amp;title=Optymalizacja%20procesu%20%c5%82adowania%20baterii%20via%20ACC%20w%20smartfonie%20z%20Androidem" target="_blank" rel="noopener noreferrer" onclick="window.open(this.href, 'Podziel się na Telegram', 'width=800,height=600,toolbar=0,status=0'); return false">
		<svg class="share__icon" aria-label="Telegram" role="img" width="32" height="32" viewBox="0 0 512 512"><path d="M199 404c-11 0-10-4-13-14l-32-105 245-144"/><path d="M199 404c7 0 11-4 16-8l45-43-56-34"/><path d="M204 319l135 99c14 9 26 4 30-14l55-258c5-22-9-32-24-25L79 245c-21 8-21 21-4 26l83 26 190-121c9-5 17-3 11 4"/></svg>
	</a>
	<a class="share__link btn" title="Podziel się na LinkedIn" href="https://www.linkedin.com/shareArticle?mini=true&url=https%3a%2f%2fmorfikov.github.io%2fpost%2foptymalizacja-procesu-ladowania-baterii-via-acc-w-smartfonie-z-androidem%2f&title=Optymalizacja%20procesu%20%c5%82adowania%20baterii%20via%20ACC%20w%20smartfonie%20z%20Androidem" target="_blank" rel="noopener noreferrer" onclick="window.open(this.href, 'Podziel się na LinkedIn', 'width=640,height=480,toolbar=0,status=0'); return false">
		<svg class="share__icon" aria-label="LinkedIn" role="img" width="32" height="32" viewBox="0 0 512 512"><circle cx="142" cy="138" r="37"/><path stroke-width="66" d="M244 194v198M142 194v198"/><path d="M276 282c0-20 13-40 36-40 24 0 33 18 33 45v105h66V279c0-61-32-89-76-89-34 0-51 19-59 32"/></svg>
	</a>
	<a class="share__link btn" title="Podziel się na VK" href="https://vk.com/share.php?url=https%3a%2f%2fmorfikov.github.io%2fpost%2foptymalizacja-procesu-ladowania-baterii-via-acc-w-smartfonie-z-androidem%2f" target="_blank" rel="noopener noreferrer" onclick="window.open(this.href, 'Podziel się na VK', 'width=640,height=480,toolbar=0,status=0'); return false">
		<svg class="share__icon" aria-label="VK" role="img" width="32" height="32" viewBox="0 0 512 512"><path d="M274 363c5-1 14-3 14-15 0 0-1-30 13-34s32 29 51 42c14 9 25 8 25 8l51-1s26-2 14-23c-1-2-9-15-39-42-31-30-26-25 11-76 23-31 33-50 30-57-4-7-20-6-20-6h-57c-6 0-9 1-12 6 0 0-9 25-21 45-25 43-35 45-40 42-9-5-7-24-7-37 0-45 7-61-13-65-13-2-59-4-73 3-7 4-11 11-8 12 3 0 12 1 17 7 8 13 9 75-2 81-15 11-53-62-62-86-2-6-5-7-12-9H79c-6 0-15 1-11 13 27 56 83 193 184 192z"/></svg>
	</a>
	<a class="share__link btn" title="Zapisz do Pocket" href="https://getpocket.com/edit?url=https%3a%2f%2fmorfikov.github.io%2fpost%2foptymalizacja-procesu-ladowania-baterii-via-acc-w-smartfonie-z-androidem%2f&amp;title=Optymalizacja%20procesu%20%c5%82adowania%20baterii%20via%20ACC%20w%20smartfonie%20z%20Androidem" target="_blank" rel="noopener noreferrer" onclick="window.open(this.href, 'Zapisz do Pocket', 'width=480,height=320,toolbar=0,status=0'); return false">
		<svg class="share__icon" aria-label="Pocket" role="img" width="32" height="32" viewBox="0 0 512 512"><path d="M388.8 88.9H123.2A47.4 47.4 0 0 0 76 136.5v131.9c0 2.4.2 4.8.5 7.2a101.8 101.8 0 0 0-.5 10.6c0 75.6 80.6 137 180 137s180-61.4 180-137c0-3.6-.2-7.1-.5-10.6.3-2.4.5-4.8.5-7.2v-132A47.4 47.4 0 0 0 388.8 89zm-22.4 132.6l-93 93c-4.7 4.6-11 7-17.1 7a23.8 23.8 0 0 1-17.7-7l-93-93a24 24 0 0 1 33.8-33.8l76.6 76.5 76.6-76.5a24 24 0 0 1 33.8 33.8z"/></svg>
	</a>
	<a class="share__link btn" title="Zapisz do Pinterest" href="https://pinterest.com/pin/create/button/?url=https%3a%2f%2fmorfikov.github.io%2fpost%2foptymalizacja-procesu-ladowania-baterii-via-acc-w-smartfonie-z-androidem%2f&description=Optymalizacja%20procesu%20%c5%82adowania%20baterii%20via%20ACC%20w%20smartfonie%20z%20Androidem" target="_blank" rel="noopener noreferrer" onclick="window.open(this.href, 'Zapisz do Pocket', 'width=800,height=720,toolbar=0,status=0'); return false">
		<svg class="share__icon" aria-label="Pinterest" role="img" width="32" height="32" viewBox="0 0 512 512"><path d="m265 65c-104 0-157 75-157 138 0 37 14 71 45 83 5 2 10 0 12-5l3-18c2-6 1-7-2-12-9-11-15-24-15-43 0-56 41-106 108-106 60 0 92 37 92 85 0 64-28 116-70 116-23 0-40-18-34-42 6-27 19-57 19-77 0-18-9-34-30-34-24 0-42 25-42 58 0 20 7 34 7 34l-29 120a249 249 0 0 0 2 86l3-1c2-3 31-37 40-72l16-61c7 15 29 28 53 28 71 0 119-64 119-151 0-66-56-126-140-126z"/></svg>
	</a>
</div>
				</footer>
				
			</article>
		</div>
	</main>
	
<div class="authorbox block">
	<div class="author">
		<figure class="author__avatar">
			<img class="author__img" alt="Mikhail Morfikov avatar" src="https://morfikov.github.io/img/avatar.png" height="90" width="90">
		</figure>
		<div class="author__body">
			<div class="author__name">
				Mikhail Morfikov
			</div>
			<div class="author__bio">Po ponad 10 latach spędzonych z różnej maści linux&#39;ami (Debian/Ubuntu, OpenWRT, Android) mogę śmiało powiedzieć, że nie ma rzeczy niemożliwych i problemów, których nie da się rozwiązać. Jedną umiejętność, którą ludzki umysł musi posiąść, by wybrnąć nawet z tej najbardziej nieprzyjemniej sytuacji, to zdolność logicznego rozumowania.</div>
		</div>
	</div>
</div>
	



<div class="related block">
	<h3 class="related__title">Powiązane</h3>
	<ul class="related__list">
		
		<li class="related__item"><a class="related__link" href="https://morfikov.github.io/post/jak-wgrac-twrp-recovery-i-magisk-w-xiaomi-redmi-9-galahad-lancelot/">Jak wgrać TWRP recovery i Magisk w Xiaomi Redmi 9 (galahad/lancelot)</a></li>
		
		<li class="related__item"><a class="related__link" href="https://morfikov.github.io/post/jak-odblokowac-bootloader-w-xiaomi-redmi-9-galahad-lancelot/">Jak odblokować bootloader w Xiaomi Redmi 9 (galahad/lancelot)</a></li>
		
		<li class="related__item"><a class="related__link" href="https://morfikov.github.io/post/xda-labs-repozytorium-aplikacji-modulow-xposed/">XDA Labs: Repozytorium aplikacji i modułów Xposed</a></li>
		
		<li class="related__item"><a class="related__link" href="https://morfikov.github.io/post/android-blokowanie-reklam-z-adaway-na-smartfonie/">Android: Blokowanie reklam z AdAway na smartfonie</a></li>
		
		<li class="related__item"><a class="related__link" href="https://morfikov.github.io/post/jak-zaszyfrowac-zapytania-dns-na-smartfonie-dnscrypt-proxy/">Jak zaszyfrować zapytania DNS na smartfonie (dnscrypt-proxy)</a></li>
		
		<li class="related__item"><a class="related__link" href="https://morfikov.github.io/post/android-opencamera-i-aparat-w-neffos-c5/">Android: OpenCamera i aparat w Neffos C5</a></li>
		
		<li class="related__item"><a class="related__link" href="https://morfikov.github.io/post/android-repozytorium-aplikacji-opensource-f-droid/">Android: Repozytorium aplikacji OpenSource (F-Droid)</a></li>
		
	</ul>
</div>

	<div id="comments">
		<script>
  var id =  324 ;

  if (id)
  {
    let url = "https://github.com/morfikov/morfitronik-comments/issues/".concat(id);
    let api_url = "https://api.github.com/repos/morfikov/morfitronik-comments/issues/".concat(id, "/comments");

    var commentsDiv = document.getElementById("comments");

    let xhr = new XMLHttpRequest();
    xhr.responseType = "json";
    xhr.open("GET", api_url);
    xhr.setRequestHeader("Accept", "application/vnd.github.v3.html+json");
    xhr.send();

    xhr.onload = function()
    {
      if (xhr.status != 200)
      {
        let errorText = document.createElement("p");
        errorText.innerHTML = "<i>Komentarze dla tego postu nie zostały jeszcze otworzone (albo skrypty GitHub'a są wyłączone). Być może też skończył ci się przydział 60/godzinę (limit GitHub'a).</i>";
        commentsDiv.appendChild(errorText);
      }
      else
      {
        let comments = xhr.response;

        let mainHeader = document.createElement("h3");
        mainHeader.innerHTML = "Komentarze: ".concat(comments.length);
        commentsDiv.appendChild(mainHeader);

        let issueLink = document.createElement("p");
        issueLink.innerHTML = "<i>Możesz zostawić komentarz korzystając z <a href='".concat(url, "'>GitHub issue</a>.</i>");
        commentsDiv.appendChild(issueLink);

        comments.forEach(function(comment)
        {
			const options = { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric', timeZone: 'Europe/Warsaw' };
			options.timeZoneName = 'short';
            let commentContent = document.createElement("div");
            commentContent.setAttribute('class', 'gh-comment')
            commentContent.innerHTML = "".concat(
                "<div class='gh-header'>",
                  "<img src='", comment.user.avatar_url, "' />",
                  "<div style='margin:auto 0;'>",
                    "<b><a class='gh-username' href='", comment.user.html_url, "'>", comment.user.login, "</a></b>",
                    " | <em>", (new Date(comment.created_at)).toLocaleTimeString('pl-PL', options), "</em>",
                  "</div>",
                "</div>",
                "<div class='gh-body'>",
                  comment.body_html,
                "</div>"
            );
            commentsDiv.appendChild(commentContent);
        });
      }
    };

    xhr.onerror = function()
    {
      let errorText = document.createElement("p");
      errorText.innerHTML = "<i>Wystąpił jakiś błąd przy ładowaniu komentarzy.</i>";
      commentsDiv.appendChild(errorText);
    };
  }
</script>

	</div>

	</div>
	<footer class="footer">
<div class="footer__social social">
		<a class="social__link" target="_blank" rel="noopener noreferrer" href="mailto:morfitronik@gmail.com">
			<svg class="social__icon" aria-label="Email" role="img" width="32" height="32" viewBox="0 0 512 512"><path d="M299 268l124 106c-4 4-10 7-17 7H106c-7 0-13-3-17-7l124-106 43 38 43-38zm-43 13L89 138c4-4 10-7 17-7h300c7 0 13 3 17 7L256 281zm54-23l121-105v208L310 258zM81 153l121 105L81 361V153z"/></svg>
		</a>
		<a class="social__link" target="_blank" rel="noopener noreferrer" href="https://twitter.com/mikhailmorfikov">
			<svg class="social__icon" aria-label="Twitter" role="img" width="32" height="32" viewBox="0 0 512 512"><path d="M437 152a72 72 0 0 1-40 12 72 72 0 0 0 32-40 72 72 0 0 1-45 17 72 72 0 0 0-122 65 200 200 0 0 1-145-74 72 72 0 0 0 22 94 72 72 0 0 1-32-7 72 72 0 0 0 56 69 72 72 0 0 1-32 1 72 72 0 0 0 67 50 200 200 0 0 1-105 29 200 200 0 0 0 309-179 200 200 0 0 0 35-37"/></svg>
		</a>
		<a class="social__link" target="_blank" rel="noopener noreferrer" href="https://t.me/morfikov">
			<svg class="social__icon" aria-label="Telegram" role="img" width="32" height="32" viewBox="0 0 512 512"><path d="M199 404c-11 0-10-4-13-14l-32-105 245-144"/><path d="M199 404c7 0 11-4 16-8l45-43-56-34"/><path d="M204 319l135 99c14 9 26 4 30-14l55-258c5-22-9-32-24-25L79 245c-21 8-21 21-4 26l83 26 190-121c9-5 17-3 11 4"/></svg>
		</a>
		<a class="social__link" target="_blank" rel="noopener noreferrer" href="https://github.com/morfikov">
			<svg class="social__icon" aria-label="Github" role="img" width="32" height="32" viewBox="0 0 512 512"><path d="M335 499c14 0 12 17 12 17H165s-2-17 12-17c13 0 16-6 16-12l-1-50c-71 16-86-28-86-28-12-30-28-37-28-37-24-16 1-16 1-16 26 2 40 26 40 26 22 39 59 28 74 22 2-17 9-28 16-35-57-6-116-28-116-126 0-28 10-51 26-69-3-6-11-32 3-67 0 0 21-7 70 26 42-12 86-12 128 0 49-33 70-26 70-26 14 35 6 61 3 67 16 18 26 41 26 69 0 98-60 120-117 126 10 8 18 24 18 48l-1 70c0 6 3 12 16 12z"/></svg>
		</a>
		<a class="social__link" target="_blank" rel="noopener noreferrer" href="https://gitlab.com/morfikov">
			<svg class="social__icon" aria-label="Gitlab" role="img" width="32" height="32" viewBox="0 0 512 512"><path d="M450 282l-22-67-43-133c-2-7-12-7-14 0l-43.3 133H184.3L141 82c-2-7-12-7-14 0L84 215l-22 67c-2 6 0 13 6 16l188 137 188-137c6-3 8-10 6-16z"/></svg>
		</a>
		<a class="social__link" target="_blank" rel="noopener noreferrer" href="https://stackoverflow.com/users/3015317">
			<svg class="social__icon" aria-label="Stack Overflow" role="img" width="32" height="32" viewBox="0 0 512 512"><g stroke-width="30"><path fill="none" d="M125 297v105h241V297"/><path d="M170 341h150m-144-68l148 31M199 204l136 64m-95-129l115 97M293 89l90 120"/></g></svg>
		</a>
</div>
	<div class="footer__copyright">© 2022 Mikhail Morfikov.
	<span class="footer__copyright-credits">Powered by <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/vimux/binario" rel="nofollow noopener" target="_blank">Binario</a> theme.</span>
	<span class="footer__copyright-cc">
		<div class="license-icons">
			<a rel="license" href="https://creativecommons.org/licenses/by-nc-sa/4.0/" title="Creative Commons Attribution 4.0 International license">
<i class="icon-cc"></i><i class="icon-cc-by"></i><i class="icon-cc-nc"></i><i class="icon-cc-sa"></i>
</a>
		</div>
		Except where otherwise noted, content on this site is licensed under a <a rel="license" href="https://creativecommons.org/licenses/by-nc-sa/4.0/">Creative Commons Attribution-NonCommercial-ShareAlike 4.0 International license</a>.
	</span>
	</div>
</footer>

<script src="https://morfikov.github.io/js/menu.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.6/MathJax.js?config=TeX-AMS-MML_HTMLorMML" async></script>

<script src="https://morfikov.github.io/js/custom.js"></script>
<script src="https://unpkg.com/vanilla-back-to-top@7.2.1/dist/vanilla-back-to-top.min.js"></script>
<script>addBackToTop({
  diameter: 40,
  textColor: '#c3c3c3'
})</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/medium-zoom/1.0.6/medium-zoom.min.js" integrity="sha512-N9IJRoc3LaP3NDoiGkcPa4gG94kapGpaA5Zq9/Dr04uf5TbLFU5q0o8AbRhLKUUlp8QFS2u7S+Yti0U7QtuZvQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
<script>
const images = Array.from(document.querySelectorAll(".entry__content img"));
images.forEach(img => {
  mediumZoom(img, {
    margin: 0,  
    scrollOffset: 40,  
    container: null,  
    template: null,  
    background: 'rgba(0, 0, 0, 0.8)'
  });
});
</script>
</body>
</html>
