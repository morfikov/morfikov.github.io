<!DOCTYPE html>
<html class="no-js" lang="pl-PL">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta name="theme-color" content="#1b1b1b">
	<title>Czym jest tryb lockdown w smartfonie z Androidem | Morfitronik</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://morfikov.github.io/post/czym-jest-tryb-lockdown-w-smartfonie-z-androidem/">
  <meta property="og:site_name" content="Morfitronik">
  <meta property="og:title" content="Czym jest tryb lockdown w smartfonie z Androidem">
  <meta property="og:description" content="Jeśli mamy wgranego w miarę nowego Androida (9&#43;) na naszego smartfona i korzystamy aktywnie z tego urządzenia, to zapewne zdążyliśmy się już przyzwyczaić, że co kilka dni musimy wpisywać ręcznie hasło do blokady ekranu i to nawet pomimo aktywnej biometrii w ustawieniach systemu. Co ciekawe, w stock&#39;owych ROM&#39;ach producentów telefonów (nawet w moim Xiaomi Redmi 9), nie ma żadnej opcji, która byłaby w stanie skonfigurować czas, po którym taki monit z hasłem ma wyskakiwać. Przyznam, że trochę mnie ten ficzer denerwował ale nie mogłem z nim w zasadzie nic zrobić i trzeba było nauczyć się go tolerować. Do niedawna nawet nie wiedziałem, że takie pytanie użytkownika o hasło bierze się z faktu przejścia telefonu w jeden ze jego trybów pracy, tj. tryb lockdown, w który telefon jest przełączany automatycznie zwykle co 72 godziny (3 dni). Ludzie mówią, że ten tryb ma chronić użytkownika smartfona na wypadek utraty urządzenia. Z racji, że aktualnie wgrałem sobie custom ROM na bazie AOSP/LineageOS, to postanowiłem sprawdzić czy jakieś opcje konfiguracji tego trybu są w nim dostępne. Przy okazji chciałem nieco bardziej zapoznać się z tym mechanizmem lockdown&#39;u i zweryfikować na ile może on być użyteczny.">
  <meta property="og:locale" content="pl_PL">
  <meta property="og:type" content="article">
    <meta property="article:section" content="post">
    <meta property="article:published_time" content="2021-09-27T05:50:00+02:00">
    <meta property="article:modified_time" content="2021-09-27T05:50:00+02:00">
    <meta property="article:tag" content="Smartfon">
    <meta property="article:tag" content="Prywatność">
    <meta property="article:tag" content="Xiaomi">
    <meta property="article:tag" content="Redmi-9">
    <meta property="article:tag" content="Root">
    <meta property="article:tag" content="Aplikacje">

		
  <meta itemprop="name" content="Czym jest tryb lockdown w smartfonie z Androidem">
  <meta itemprop="description" content="Jeśli mamy wgranego w miarę nowego Androida (9&#43;) na naszego smartfona i korzystamy aktywnie z tego urządzenia, to zapewne zdążyliśmy się już przyzwyczaić, że co kilka dni musimy wpisywać ręcznie hasło do blokady ekranu i to nawet pomimo aktywnej biometrii w ustawieniach systemu. Co ciekawe, w stock&#39;owych ROM&#39;ach producentów telefonów (nawet w moim Xiaomi Redmi 9), nie ma żadnej opcji, która byłaby w stanie skonfigurować czas, po którym taki monit z hasłem ma wyskakiwać. Przyznam, że trochę mnie ten ficzer denerwował ale nie mogłem z nim w zasadzie nic zrobić i trzeba było nauczyć się go tolerować. Do niedawna nawet nie wiedziałem, że takie pytanie użytkownika o hasło bierze się z faktu przejścia telefonu w jeden ze jego trybów pracy, tj. tryb lockdown, w który telefon jest przełączany automatycznie zwykle co 72 godziny (3 dni). Ludzie mówią, że ten tryb ma chronić użytkownika smartfona na wypadek utraty urządzenia. Z racji, że aktualnie wgrałem sobie custom ROM na bazie AOSP/LineageOS, to postanowiłem sprawdzić czy jakieś opcje konfiguracji tego trybu są w nim dostępne. Przy okazji chciałem nieco bardziej zapoznać się z tym mechanizmem lockdown&#39;u i zweryfikować na ile może on być użyteczny.">
  <meta itemprop="datePublished" content="2021-09-27T05:50:00+02:00">
  <meta itemprop="dateModified" content="2021-09-27T05:50:00+02:00">
  <meta itemprop="wordCount" content="2229">
  <meta itemprop="keywords" content="Smartfon,Prywatność,Xiaomi,Redmi-9,Root,Aplikacje,F-Droid">
		
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Czym jest tryb lockdown w smartfonie z Androidem">
  <meta name="twitter:description" content="Jeśli mamy wgranego w miarę nowego Androida (9&#43;) na naszego smartfona i korzystamy aktywnie z tego urządzenia, to zapewne zdążyliśmy się już przyzwyczaić, że co kilka dni musimy wpisywać ręcznie hasło do blokady ekranu i to nawet pomimo aktywnej biometrii w ustawieniach systemu. Co ciekawe, w stock&#39;owych ROM&#39;ach producentów telefonów (nawet w moim Xiaomi Redmi 9), nie ma żadnej opcji, która byłaby w stanie skonfigurować czas, po którym taki monit z hasłem ma wyskakiwać. Przyznam, że trochę mnie ten ficzer denerwował ale nie mogłem z nim w zasadzie nic zrobić i trzeba było nauczyć się go tolerować. Do niedawna nawet nie wiedziałem, że takie pytanie użytkownika o hasło bierze się z faktu przejścia telefonu w jeden ze jego trybów pracy, tj. tryb lockdown, w który telefon jest przełączany automatycznie zwykle co 72 godziny (3 dni). Ludzie mówią, że ten tryb ma chronić użytkownika smartfona na wypadek utraty urządzenia. Z racji, że aktualnie wgrałem sobie custom ROM na bazie AOSP/LineageOS, to postanowiłem sprawdzić czy jakieś opcje konfiguracji tego trybu są w nim dostępne. Przy okazji chciałem nieco bardziej zapoznać się z tym mechanizmem lockdown&#39;u i zweryfikować na ile może on być użyteczny.">

	<link rel="stylesheet" href="https://morfikov.github.io/css/bundle.css">
	<link rel="stylesheet" href="https://morfikov.github.io/css/custom.css">
	<link rel="icon" href="https://morfikov.github.io/icons/16.png" sizes="16x16" type="image/png">
	<link rel="icon" href="https://morfikov.github.io/icons/32.png" sizes="32x32" type="image/png">
	<link rel="manifest" href="https://morfikov.github.io/manifest.json">
  


</head>
<body class="body kind-page">
	<header class="header">
	<a class="logo" href="https://morfikov.github.io/">Morfitronik</a>
	
<nav class="main-nav main-nav--right" role="navigation">
	<button id="toggle" class="main-nav__btn" aria-label="Menu toggle" aria-expanded="false" tabindex="0">
		<div class="main-nav__btn-box" tabindex="-1">
			<svg class="main-nav__icon icon-menu" width="18" height="18" viewBox="0 0 18 18">
				<path class="icon-menu__burger" d="M18 0v3.6H0V0h18zM0 10.8h18V7.2H0v3.6zM0 18h18v-3.6H0V18z"/>
				<path class="icon-menu__x" d="M11.55 9L18 15.45 15.45 18 9 11.55 2.55 18 0 15.45 6.45 9 0 2.55 2.55 0 9 6.45 15.45 0 18 2.55 11.55 9z"/>
			</svg>
		</div>
	</button>
	<ul id="menu" class="main-nav__list">
			<li class="main-nav__item">
				<a class="main-nav__link" href="https://morfikov.github.io/categories/">
					
					<span class="main-nav__text">Kategorie</span>
					
				</a>
			</li>
			<li class="main-nav__item">
				<a class="main-nav__link" href="https://morfikov.github.io/tags/">
					
					<span class="main-nav__text">Tagi</span>
					
				</a>
			</li>
			<li class="main-nav__item">
				<a class="main-nav__link" href="https://morfikov.github.io/page/info-kontakt/">
					
					<span class="main-nav__text">Info/Kontakt</span>
					
				</a>
			</li>
	</ul>
</nav>
</header>
	<div class="primary">
	
	<main class="main">
		
<nav class="breadcrumb block" aria-label="breadcrumb">
	<ol class="breadcrumb__list">
		
		<li class="breadcrumb__item">
			<a class="breadcrumbs__link" href="https://morfikov.github.io/">Home</a>
		</li>
		<li class="breadcrumb__item">
			<a class="breadcrumbs__link" href="https://morfikov.github.io/post/">Posts</a>
		</li>
		<li class="breadcrumbs__item breadcrumb__item--active" aria-current="page">Czym jest tryb lockdown w smartfonie z Androidem</li>
	</ol>
</nav>
		<div class="single block">
			<article class="entry">
	<div class="entry__meta meta mb">
	<time class="entry__meta-published meta-published" datetime="2021-09-27T05:50:00&#43;02:00">Opublikowano: 27/09/2021</time>

<div class="entry__meta-categories meta-categories">
	<span class="meta-categories__list">Kategorie:
		<a class="meta-categories__link" href="https://morfikov.github.io/categories/android/" rel="category">Android</a>
	</span>
</div>
	</div>
				<h1 class="entry__title">Czym jest tryb lockdown w smartfonie z Androidem</h1>
<details class="entry__toc toc" >
	<summary class="toc__title">Spis treści</summary>
	<nav id="TableOfContents">
  <ol>
    <li><a href="#szyfrowane-smartfony-z-androidem">Szyfrowane smartfony z Androidem</a></li>
    <li><a href="#wady-lockdownu">Wady lockdown'u</a></li>
    <li><a href="#możliwość-aktywacji-trybu-lockdown-z-poziomu-blokady-ekranu">Możliwość aktywacji trybu lockdown z poziomu blokady ekranu</a></li>
    <li><a href="#ręczna-aktywacja-trybu-lockdown">Ręczna aktywacja trybu lockdown</a></li>
    <li><a href="#kwestia-zaszyfrowanych-danych">Kwestia zaszyfrowanych danych</a>
      <ol>
        <li><a href="#wdrożenie-wrong-pin-shutdown">Wdrożenie Wrong PIN Shutdown</a></li>
      </ol>
    </li>
    <li><a href="#podsumowanie">Podsumowanie</a></li>
  </ol>
</nav>
</details>
				<div class="entry__content"><p>Jeśli mamy wgranego w miarę nowego Androida (9+) na naszego smartfona i korzystamy aktywnie z tego
urządzenia, to zapewne zdążyliśmy się już przyzwyczaić, że co kilka dni musimy wpisywać ręcznie
hasło do blokady ekranu i to nawet pomimo aktywnej biometrii w ustawieniach systemu. Co ciekawe,
w stock'owych ROM'ach producentów telefonów (nawet w moim Xiaomi Redmi 9), nie ma żadnej opcji,
która byłaby w stanie skonfigurować czas, po którym taki monit z hasłem ma wyskakiwać. Przyznam, że
trochę mnie ten ficzer denerwował ale nie mogłem z nim w zasadzie nic zrobić i trzeba było nauczyć
się go tolerować. Do niedawna nawet nie wiedziałem, że takie pytanie użytkownika o hasło bierze się
z faktu przejścia telefonu w jeden ze jego trybów pracy, tj. <a href="https://android-developers.googleblog.com/2020/09/lockscreen-and-authentication.html">tryb lockdown</a>, w który telefon
jest przełączany automatycznie zwykle co 72 godziny (3 dni). Ludzie mówią, że ten tryb ma chronić
użytkownika smartfona na wypadek utraty urządzenia. Z racji, że aktualnie wgrałem sobie custom ROM
na bazie AOSP/LineageOS, to postanowiłem sprawdzić czy jakieś opcje konfiguracji tego trybu są w
nim dostępne. Przy okazji chciałem nieco bardziej zapoznać się z tym mechanizmem lockdown'u i
zweryfikować na ile może on być użyteczny.</p>
<h2 id="szyfrowane-smartfony-z-androidem">Szyfrowane smartfony z Androidem</h2>
<p>Już od dość dawna, każdy smartfon z Androidem ma szyfrowaną partycję <code>/data/</code> , na której są
przechowywane wszystkie ustawienia i dane użytkownika. We wcześniejszych wersjach Androida (&lt;7) był
wykorzystywany blokowy system szyfrowania, którym szyfrowana była cała partycja <code>/data/</code> , czyli
zwykły FDE (<a href="https://source.android.com/security/encryption/full-disk">Full Disk Encryption</a>). Zdaniem dev'ów Androida, to szyfrowanie miało szereg wad,
więc przeszli na FBE (<a href="https://source.android.com/security/encryption/file-based">File Based Encryption</a>), gdzie szyfrowane są już nie całe partycje, a
pojedyncze pliki w jej obrębie.</p>
<p>Szukając informacji na temat dokładnej zasady działania szyfrowania FBE w kontekście smartfonów z
Androidem, znalazłem <a href="https://docs.samsungknox.com/admin/knox-platform-for-enterprise/kbas/kba-360039577713.htm">bardzo ciekawy artykuł na ten temat</a> (o wiele bardziej przystępnie
napisany niż te dwa powyżej). Postanowiłem zatem tutaj zawrzeć szereg informacji z tego tekstu,
oczywiście po ich uprzednim przetłumaczeniu, bo ta wiedza bardzo przyda się do zrozumienia czym
dokładnie jest FDE i FBE.</p>
<p>Klucz główny, którym dane są szyfrowane w przypadku FDE, jest generowany losowo w momencie, gdy
użytkownik uruchomia telefon po raz pierwszy (i ewentualnie po factory reset). Po wygenerowaniu
klucza, jest on szyfrowany i dodawany do magazynu kluczy przez Androidowego Keymaster'a opartego na
<a href="https://en.wikipedia.org/wiki/Trusted_execution_environment">TEE</a>. Jeśli nie ustawimy blokady ekranu, to Keymaster korzysta z domyślnego hasła i szyfruje
nim ten wygenerowany losowo klucz szyfrujący. W ten sposób dane wciąż będą szyfrowane ale dostęp do
nich będzie w stanie uzyskać każdy, kto wejdzie w posiadanie naszego smartfona. W przypadku
ustawienia hasła/PIN'u/wzoru, klucz główny również zostanie zaszyfrowany przez Keymaster ale przy
użyciu właśnie tych danych uwierzytelniających, które będziemy musieli podawać ilekroć tylko
będziemy chcieli odblokować ekran w telefonie. Przy ponownym uruchomieniu systemu, dostęp do klucza
głównego jest zapewniany czy to za sprawą domyślnego hasła (brak ustawionej blokady ekranu), czy
też danych uwierzytelniających użytkownika, co umożliwia zamontowanie partycji <code>/data/</code> i
szyfrowanie/deszyfrowanie danych w locie. Warto tutaj zaznaczyć, że zmiana hasła do blokady ekranu
nie sprawia, że dane na partycji <code>/data/</code> zostaną przeszyfrowane. Jedynie klucz główny zostanie
zaszyfrowany nowymi danymi uwierzytelniającymi użytkownika. Sam klucz wykorzystywany w procesie
szyfrowania/deszyfrowania pozostaje niezmieniony do momentu zresetowania telefonu do ustawień
fabrycznych, bo wtedy ten klucz naturalnie zostanie wygenerowany na nowo.</p>
<p>W przypadku FBE, każdy plik na partycji <code>/data/</code> może być szyfrowany niezależnie przez zaprzęgnięcie
do tego celu unikalnych kluczy szyfrujących pliki (File Encryption Key). Te klucze są uzyskiwane w
oparciu o klucz główny, który jest chroniony przez TEE/Keymaster. Klucz główny jest zabezpieczony
hasłem użytkownika, tj. podobnie jak w przypadku mechanizmu FDE. Zastosowanie FBE otwiera drogę do
wdrożenia <a href="https://developer.android.com/training/articles/direct-boot">mechanizmu Direct Boot</a>, który umożliwia rozruch systemu telefonu praktycznie do
momentu, w którym zostaniemy poproszeni o wpisanie hasła do blokady ekranu, co znacząco różni się w
stosunku do FDE, gdzie tuż po włączeniu telefonu trzeba było wpisać hasło, by odszyfrować całą
partycję <code>/data/</code> , przez co praktycznie cała funkcjonalność telefonu była zablokowana. Dlatego
właśnie wprowadzono FBE.</p>
<p>By aplikacje mogły wykorzystać pełny potencjał trybu Direct Boot, muszą być one świadome, że taki
mechanizm w ogóle istnieje. Dlatego też trzeba odpowiednio pisać aplikacje na Androida. Jeśli
aplikacja nie jest świadoma, że Direct Boot w naszym urządzeniu jest możliwy, to wszystkie dane
takiej aplikacji zostaną zaszyfrowane domyślnie. W przypadku tych appek, które są świadome, tylko
część plików może zostać zaszyfrowana dając takim aplikacjom możliwość działania w trybie Direct
Boot, choć z ograniczoną funkcjonalnością. Taki model bezpieczeństwa realizowany jest przez
wprowadzenie dwóch różnych lokalizacji w obrębie pamięci masowej telefonu, w których dane mogą być
przechowywane: DE (Device Encrypted) oraz CE (Credential Encrypted). CE jest dostępne tylko i
wyłącznie wtedy, gdy użytkownik poda swoje dane uwierzytelniające i odblokuje urządzenie. Natomiast
DE jest dostępne w trybie Direct Boot oraz również po odblokowaniu urządzenia. Dane
prywatne/wrażliwe nigdy nie powinny zostać umieszczone w DE przez dewelopera konkretnej aplikacji.</p>
<p>Ta zmiana w szyfrowaniu telefonu zapewnia bardziej elastyczny schemat ochrony danych. Różne obszary
systemu plików z danymi użytkownika są chronione za pomocą swoich kluczy głównych, które pochodzą
od różnych danych uwierzytelniających. Osobne klucze główne są generowane dla pamięci masowej CE i
DE, przy czym klucze główne CE wykorzystują zarówno klucz sprzętowy unikalny dla danego urządzenia,
jak i dane uwierzytelniające użytkownika, a klucze DE są chronione wyłącznie za pomocą klucza
sprzętowego unikalnego dla danego urządzenia.</p>
<p>Ponieważ obszar pamięci masowej DE nie jest powiązany z danymi uwierzytelniającymi użytkownika,
pamięć ta jest udostępniana po ponownym uruchomieniu urządzenia, co pozwala aplikacjom obsługującym
technologię Direct Boot na działanie przed odblokowaniem urządzenia przez użytkownika. Pozwala to
na przykład na odbieranie połączeń telefonicznych natychmiast po uruchomieniu telefonu (gdy jest on
jeszcze zablokowany). Ta elastyczność pozwala również na ochronę profili roboczych za pomocą
zestawu kluczy głównych oddzielonych od osobistych magazynów danych urządzenia.</p>
<h2 id="wady-lockdownu">Wady lockdown'u</h2>
<p>Zwykle, gdy przychodzi do odblokowania ekranu w naszych smartfonach z Androidem, to raczej już chyba
większość z nas korzysta dla wygody z jakiegoś czynnika biometrii, np. przykłada palec do czytnika
linii papilarnych. Raz, że o wiele szybciej się ten telefon odblokowuje, a dwa nie ma obawy o
zdradzenie komuś naszego hasła, co przydaje się w sytuacji, gdy dookoła nas jest cała masa ludzi.</p>
<p>Biometria ma jednak jedną bardzo poważną wadę jeśli chodzi o bezpieczeństwo systemu. Wystarczy
przechwycić nasz odcisk palca, czy siłowo go przyłożyć do czytnika i telefon zostaje odblokowany
bez naszej wyraźnej zgody, co daje pełny dostęp do plików użytkownika osobom do tego nie
uprawnionym. I tutaj właśnie do gry wchodzi tryb lockdown, który ma na celu zapobiec takiemu
obrotowi spraw. Po aktywowaniu tego mechanizmu dezaktywowana jest biometria oraz Android Smart Lock,
który odpowiada za odblokowanie telefonu przy pomocy naszego pyszczka, zaufanych urządzeń Bluetooth
czy też zaufanych miejsc w oparciu o aktualną lokalizację telefonu. Na ekranie blokady zostaną też
ukryte wszystkie powiadomienia. W ten sposób tryb lockdown zmusza tę osobę, która jest w posiadaniu
naszego smartfona, do wpisania hasła, by jakiekolwiek dane z niego pozyskać, nawet te pozornie
niegroźne jak wspomniane wyżej powiadomienia.</p>
<p>Tryb lockdown nie jest idealny i raczej mu daleko do uzyskania takiego statusu. Chodzi generalnie o
to, że aktywuje się on, raz, że on samoczynnie, a dwa, to co 72 godziny od ostatniego wpisania
poprawnego hasła. Standardowo przez ten okres trzech dni nie mamy możliwości ręcznie zainicjować
tego trybu. Najwyraźniej zdaniem deweloperów Androida i producentów telefonów, średnio tylko dwa
razy w tygodniu ktoś będzie próbował siłowo uzyskać dostęp do naszych danych w telefonie. Dlatego
też ten tryb lockdown w stock'owych ROM'ach z jednej strony niesamowicie potrafi człowieka wnerwić,
bo trzeba wpisywać hasło w najmniej oczekiwanych momentach, a z drugiej strony nie daje nam żadnej
ochrony, gdyby przyszło co do czego -- wpiszemy hasło i przez okres trzech dni lockdown nie
zostanie aktywowany samoczynnie. Najgorsze jest to, że nic nie możemy w tej sprawie zrobić. No może
prawie nic, bo jeśli dysponujemy smartfonem, na który został wypuszczony alternatywny ROM na bazie
AOSP/LineageOS, to możemy pokusić się o odblokowanie bootloader'a i wgranie takiego ROM'u na
telefon, co otwiera nam drogę do okiełznania tego całego trybu lockdown.</p>
<h2 id="możliwość-aktywacji-trybu-lockdown-z-poziomu-blokady-ekranu">Możliwość aktywacji trybu lockdown z poziomu blokady ekranu</h2>
<p>Od kilku już tygodni jestem w fazie testowania szeregu ROM'ów i pewnie za jakiś czas na któryś z
nich się zdecyduje, by w końcu na stałe wgrać go na swój smartfon. Niemniej jednak, z moich
obserwacji wynika, że praktycznie każdy ROM, który do tej pory testowałem, posiadał opcję aktywacji
trybu lockdown na żądanie. Także wygląda na to, że jest to raczej standardowa opcja w przypadku
alternatywnych ROM'ów. Tak czy inaczej, jeśli włączymy sobie możliwość aktywacji trybu lockdown na
żądanie, to będziemy mogli to uczynić z poziomu blokady ekranu. Trzeba tylko dodać do niego
stosowną opcję, która figuruje pod Settings &gt; Display &gt; Lock Screen, a konkretnie chodzi o <code>Show lockdown option</code> :</p>
<table>
<thead>
<tr>
<th></th>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td><img loading="lazy" src="https://morfikov.github.io/img/2021/09/001.android-lockdown-mode-settings-lock-screen.jpg" alt="android-lockdown-mode-settings-lock-screen"    class="small"></td>
<td><img loading="lazy" src="https://morfikov.github.io/img/2021/09/002.android-lockdown-mode-settings-lock-screen.jpg" alt="android-lockdown-mode-settings-lock-screen"    class="small"></td>
<td><img loading="lazy" src="https://morfikov.github.io/img/2021/09/003.android-lockdown-mode-settings-lock-screen.jpg" alt="android-lockdown-mode-settings-lock-screen"    class="small"></td>
</tr>
</tbody>
</table>
<p>Do momentu aktywacji trybu lockdown, telefon będzie pracował sobie tak, jak dotychczas, tj.
będziemy w stanie go odblokować przy pomocy biometrii czy Android Smart Lock'a i nie trzeba będzie
co kilka dni wpisywać hasła, czyli smartfon nie będzie z automatu przechodził w ten tryb,
przynajmniej nie powinien jeśli z niego aktywnie korzystamy. Nie mam pojęcia czy jak odłożymy
telefon na kilka dni i z niego korzystać nie będziemy, to czy ten tryb lockdown się aktywuje
automatycznie.</p>
<h2 id="ręczna-aktywacja-trybu-lockdown">Ręczna aktywacja trybu lockdown</h2>
<p>Po włączeniu stosownej opcji w ustawieniach Androida, tryb lockdown można aktywować ręcznie w
dowolnym momencie z poziomu blokady ekranu. Wystarczy podświetlić ekran i przytrzymać przycisk
zasilania. Oprócz standardowych opcji od wykonywania połączeń alarmowych, czy
wyłączenia/zresetowania telefonu, będzie jedna dodatkowa pozycja właśnie z trybem lockdown, co
wygląda mniej więcej tak:</p>
<p><img loading="lazy" src="https://morfikov.github.io/img/2021/09/004.android-lockdown-mode-lock-screen.jpg" alt="android-lockdown-mode-lock-screen"    class="small"></p>
<p>Tapnięcie w ten środkowy kafelek nic wielkiego, przynajmniej z pozoru, nie uczyni. Na pierwszy rzut
oka wszystko wygląda normalnie i na pozór nic się nie zmieniło.</p>
<p><img loading="lazy" src="https://morfikov.github.io/img/2021/09/005.android-lockdown-mode-lock-screen.jpg" alt="android-lockdown-mode-lock-screen"    class="small"></p>
<p>Jeśli teraz byśmy spróbowali odblokować smartfon przy pomocy biometrii, np. skanera linii
papilarnych, to nam się to już nie uda. System zażąda od nas hasła do blokady ekranu:</p>
<p><img loading="lazy" src="https://morfikov.github.io/img/2021/09/006.android-lockdown-mode-lock-screen-password.jpg" alt="android-lockdown-mode-lock-screen-password"    class="small"></p>
<p>Po wpisaniu hasła i pomyślnym odblokowaniu ekranu, tryb lockdown zostaje zdjęty i znów można z
telefonu korzystać w normalny sposób.</p>
<h2 id="kwestia-zaszyfrowanych-danych">Kwestia zaszyfrowanych danych</h2>
<p>Początkowo myślałem, że lockdown będzie w stanie usunąć klucze szyfrujące z pamięci operacyjnej
telefonu ale najwyraźniej taki zabieg nie ma miejsca. Można to wywnioskować podglądając zawartość
pewnych katalogów tuż po uruchomieniu się systemu ale przed odblokowaniem telefonu oraz po aktywacji
trybu lockdown. Po uruchomieniu się systemu, zawartość w tych poniższych katalogach prezentuje się
następująco:</p>
<ul>
<li><code>/data/app/</code> (zaszyfrowane)</li>
<li><code>/data/data/</code> (zaszyfrowane)</li>
<li><code>/data/media/0/</code> (zaszyfrowane)</li>
<li><code>/data/misc/</code> , <code>/data/misc_ce/0/</code> (zaszyfrowane) oraz <code>/data/misc_de/0/</code></li>
<li><code>/data/user/</code> (zaszyfrowane) oraz <code>/data/user_de/</code></li>
<li><code>/data/system/</code> , <code>/data/system_ce/0/</code> (zaszyfrowane) oraz <code>/data/system_de/0/</code></li>
<li><code>/data/vendor/</code> , <code>/data/vendor_ce/0/</code> (zaszyfrowane) oraz <code>/data/vendor_de/0/</code></li>
<li><code>/storage/emulated/0/</code> (puste)</li>
</ul>
<p>Katalog <code>/storage/emulated/0/</code> jest pusty, choć tutaj trzymane są pliki użytkownika, takie jak fotki
czy pobrane rzeczy z internetu. Zatem stosowny zasób najwyraźniej nie został w to miejsce
podmontowany. W katalogach mających w nazwie <code>_ce</code> oraz pozostałych pozycjach z tagiem
&quot;zaszyfrowane&quot; są dostępne pliki ale ich nazwy są nieczytelne, tj. mają postać typu
<code>nInt0ruNvVZZq,qASvHjpC</code> . Można co prawda przemieszczać się po drzewie katalogów ale próba
odczytania pliku kończy się poniższym błędem:</p>
<pre><code>galahad:/data/user/0/zNqNZIAL11b1C2YI,hzg4jxqViF/iNChdh,jOBFRIfmujb5VaD # cat nInt0ruNvVZZq,qASvHjpC
cat: nInt0ruNvVZZq,qASvHjpC: Required key not available
</code></pre>
<p>No jak widać brakuje stosownego klucza, by ten plik odszyfrować.</p>
<p>Natomiast po pierwszym odblokowaniu telefonu i włączeniu trybu lockdown, wszystkie te katalogi mają
odszyfrowaną zawartość. Zatem wygląda na to, ze poza tymi wyszczególnionymi wyżej w artykule
właściwościami mechanizmu lockdown (blokada powiadomień, wyłączenie biometrii i dezaktywacja Smart
Lock), ten tryb nic w zasadzie innego nie robi. W dalszym ciągu dostęp do danych użytkownika jest
możliwy, przez co aplikacje mogą bez problemu sobie działać, przynajmniej na tyle na ile pozwala im
system Androida przy zablokowanym ekranie.</p>
<h3 id="wdrożenie-wrong-pin-shutdown">Wdrożenie Wrong PIN Shutdown</h3>
<p>Biorąc pod uwagę powyższe informacje na temat obecności kluczy/haseł w pamięci operacyjnej, trzeba
pomyśleć nad innym rozwiązaniem, które pomogłoby nam te klucze z pamięci telefonu usunąć. Wiedząc,
że potencjalny złoczyńca nie będzie miał możliwości uzyskać dostępu do telefonu przez mechanizm
biometrii, co wymusza na nim siłowe łamanie hasła do blokady ekranu, możemy wdrożyć rozwiązanie na
bazie <a href="https://f-droid.org/en/packages/org.nuntius35.wrongpinshutdown/">aplikacji Wrong PIN Shutdown</a>, która standardowo jest dostępna w repozytorium F-Droid.</p>
<p>Appka Wrong PIN Shutdown zlicza jedynie (albo i aż) błędne próby odblokowania ekranu z
wykorzystaniem PIN'u czy też zwykłego hasła alfanumerycznego. Po osiągnięciu ustawionego przez nas
limitu, inicjowane jest wykonanie jakiegoś polecenia. Standardowo jest to <code>reboot -p</code> , który
efektywnie wyłącza telefon. By jednak do takiej sytuacji doszło, Wrong PIN Shutdown musi działać na
prawach root'a, zatem ukorzeniony Android jest do tego celu niezbędny.</p>
<p>Poniżej znajdują się fotki ustawień appki Wrong PIN Shutdown:</p>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td><img loading="lazy" src="https://morfikov.github.io/img/2021/09/007.android-lockdown-mode-wrong-pin-shutdown-settings.jpg" alt="android-lockdown-mode-wrong-pin-shutdown-settings"    class="small"></td>
<td><img loading="lazy" src="https://morfikov.github.io/img/2021/09/008.android-lockdown-mode-wrong-pin-shutdown-settings.jpg" alt="android-lockdown-mode-wrong-pin-shutdown-settings"    class="small"></td>
</tr>
</tbody>
</table>
<p>Ustawiając ilość błędnych prób logowania na względnie małą wartość, np. 2, sprawi, że po drugiej
nieudanej próbie odblokowania ekranu telefon nam się wyłączy. Nawet jeśli ten niedobry człowiek
będzie próbował włączyć telefon w późniejszym czasie, to wszelkie dane prywatne użytkownika będą
zaszyfrowane tym dość skomplikowanym hasłem, którego nie chce nam się wpisywać co 3 dni, w sytuacji,
gdy wszyscy dookoła się na nas gapią.</p>
<p>By Wrong PIN Shutdown mógł realizować swoje zadanie, trzeba dla niego też dodać wyjątek w
Settings &gt; Security &gt; Device admin apps:</p>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td><img loading="lazy" src="https://morfikov.github.io/img/2021/09/009.android-lockdown-mode-wrong-pin-shutdown-device-admin.jpg" alt="android-lockdown-mode-wrong-pin-shutdown-device-admin"    class="small"></td>
<td><img loading="lazy" src="https://morfikov.github.io/img/2021/09/010.android-lockdown-mode-wrong-pin-shutdown-device-admin.jpg" alt="android-lockdown-mode-wrong-pin-shutdown-device-admin"    class="small"></td>
</tr>
</tbody>
</table>
<h2 id="podsumowanie">Podsumowanie</h2>
<p>Nie ukrywam, że po mechanizmie, który nosi nazwę lockdown spodziewałem się jednak czegoś bardziej
wyrafinowanego w kwestii bezpieczeństwa i prywatności danych użytkownika. Niemniej jednak,
wyłączenie na żądanie biometrii czy Android Smart Lock'a jest dość pożyteczną funkcją, która może
zminimalizować albo chociaż odwlec w czasie wyciek poufnych informacji z telefonu. Pozostaje mieć
nadzieję, że może w przyszłych wersjach Androida, ten mechanizm lockdown'u zostanie nieco bardziej
rozbudowany i faktycznie umożliwi pełny lockdown telefonu. Niemniej jednak, do czasu aż to nastąpi,
przydałoby się wdrożyć aplikację Wrong PIN Shutdown, która będzie stać na straży dostępu do ekranu
blokady, gdy tryb lockdown zostanie aktywowany i w razie czego wyłączy nam telefon, tak by nasze
dane pozostały w formie zaszyfrowanej i nikt bez naszej świadomej i dobrowolnej zgody nie uzyskał
do nich dostępu.</p></div>
				
				<footer class="entry__footer">
					
<div class="entry__tags">
			<a class="entry__tag btn" href="https://morfikov.github.io/tags/smartfon/">Smartfon</a>
			<a class="entry__tag btn" href="https://morfikov.github.io/tags/xiaomi/">Xiaomi</a>
			<a class="entry__tag btn" href="https://morfikov.github.io/tags/redmi-9/">Redmi-9</a>
			<a class="entry__tag btn" href="https://morfikov.github.io/tags/root/">Root</a>
			<a class="entry__tag btn" href="https://morfikov.github.io/tags/aplikacje/">Aplikacje</a>
			<a class="entry__tag btn" href="https://morfikov.github.io/tags/f-droid/">F-Droid</a>
</div>
					
<div class="entry__share share">
	<a class="share__link btn" title="Podziel się na Facebook" href="https://www.facebook.com/sharer/sharer.php?u=https%3a%2f%2fmorfikov.github.io%2fpost%2fczym-jest-tryb-lockdown-w-smartfonie-z-androidem%2f" target="_blank" rel="noopener noreferrer" onclick="window.open(this.href, 'Podziel się na Facebook', 'width=800,height=600,toolbar=0,status=0'); return false">
		<svg class="share__icon" aria-label="Facebook" role="img" width="32" height="32" viewBox="0 0 512 512"><path d="M330 512V322h64l9-74h-73v-47c0-22 6-36 37-36h39V99c-7-1-30-3-57-3-57 0-95 34-95 98v54h-64v74h64v190z"/></svg>
	</a>
	<a class="share__link btn" title="Podziel się na Twitter" href="https://twitter.com/intent/tweet/?url=https%3a%2f%2fmorfikov.github.io%2fpost%2fczym-jest-tryb-lockdown-w-smartfonie-z-androidem%2f&amp;text=Czym%20jest%20tryb%20lockdown%20w%20smartfonie%20z%20Androidem" target="_blank" rel="noopener noreferrer" onclick="window.open(this.href, 'Podziel się na Twitter', 'width=800,height=450,resizable=yes,toolbar=0,status=0'); return false">
		<svg class="share__icon" aria-label="Twitter" role="img" width="32" height="32" viewBox="0 0 512 512"><path d="M437 152a72 72 0 0 1-40 12 72 72 0 0 0 32-40 72 72 0 0 1-45 17 72 72 0 0 0-122 65 200 200 0 0 1-145-74 72 72 0 0 0 22 94 72 72 0 0 1-32-7 72 72 0 0 0 56 69 72 72 0 0 1-32 1 72 72 0 0 0 67 50 200 200 0 0 1-105 29 200 200 0 0 0 309-179 200 200 0 0 0 35-37"/></svg>
	</a>
	<a class="share__link btn" title="Podziel się na Reddit" href="https://www.reddit.com/submit?url=https%3a%2f%2fmorfikov.github.io%2fpost%2fczym-jest-tryb-lockdown-w-smartfonie-z-androidem%2f&amp;title=Czym%20jest%20tryb%20lockdown%20w%20smartfonie%20z%20Androidem" target="_blank" rel="noopener noreferrer" onclick="window.open(this.href, 'Podziel się na Reddit', 'width=832,height=624,toolbar=0,status=0'); return false">
		<svg class="share__icon" aria-label="Reddit" role="img" width="32" height="32" viewBox="0 0 512 512"><path fill-rule="evenodd" d="M375 146a32 32 0 1 0-29-46l-65-13c-5-1-9 2-10 6l-22 97c-45 1-85 15-113 36a42 42 0 1 0-45 69l-1 12c0 65 74 117 166 117s166-52 166-117l-1-11a42 42 0 1 0-44-69c-28-21-67-35-111-37l19-86 58 13a32 32 0 0 0 32 29zM190 353c2-1 4 0 5 1 15 11 38 18 61 18s46-6 61-18a7 7 0 0 1 8 10c-18 14-44 21-69 21-25-1-51-7-69-21a6 6 0 0 1 3-11zm23-44a31 31 0 1 1-44-44 31 31 0 0 1 44 44zm130 0a31 31 0 1 0-44-44 31 31 0 0 0 44 44z"/></svg>
	</a>
	<a class="share__link btn" title="Podziel się na Telegram" href="https://t.me/share/url?url=https%3a%2f%2fmorfikov.github.io%2fpost%2fczym-jest-tryb-lockdown-w-smartfonie-z-androidem%2f&amp;title=Czym%20jest%20tryb%20lockdown%20w%20smartfonie%20z%20Androidem" target="_blank" rel="noopener noreferrer" onclick="window.open(this.href, 'Podziel się na Telegram', 'width=800,height=600,toolbar=0,status=0'); return false">
		<svg class="share__icon" aria-label="Telegram" role="img" width="32" height="32" viewBox="0 0 512 512"><path d="M199 404c-11 0-10-4-13-14l-32-105 245-144"/><path d="M199 404c7 0 11-4 16-8l45-43-56-34"/><path d="M204 319l135 99c14 9 26 4 30-14l55-258c5-22-9-32-24-25L79 245c-21 8-21 21-4 26l83 26 190-121c9-5 17-3 11 4"/></svg>
	</a>
	<a class="share__link btn" title="Podziel się na LinkedIn" href="https://www.linkedin.com/shareArticle?mini=true&url=https%3a%2f%2fmorfikov.github.io%2fpost%2fczym-jest-tryb-lockdown-w-smartfonie-z-androidem%2f&title=Czym%20jest%20tryb%20lockdown%20w%20smartfonie%20z%20Androidem" target="_blank" rel="noopener noreferrer" onclick="window.open(this.href, 'Podziel się na LinkedIn', 'width=640,height=480,toolbar=0,status=0'); return false">
		<svg class="share__icon" aria-label="LinkedIn" role="img" width="32" height="32" viewBox="0 0 512 512"><circle cx="142" cy="138" r="37"/><path stroke-width="66" d="M244 194v198M142 194v198"/><path d="M276 282c0-20 13-40 36-40 24 0 33 18 33 45v105h66V279c0-61-32-89-76-89-34 0-51 19-59 32"/></svg>
	</a>
	<a class="share__link btn" title="Podziel się na VK" href="https://vk.com/share.php?url=https%3a%2f%2fmorfikov.github.io%2fpost%2fczym-jest-tryb-lockdown-w-smartfonie-z-androidem%2f" target="_blank" rel="noopener noreferrer" onclick="window.open(this.href, 'Podziel się na VK', 'width=640,height=480,toolbar=0,status=0'); return false">
		<svg class="share__icon" aria-label="VK" role="img" width="32" height="32" viewBox="0 0 512 512"><path d="M274 363c5-1 14-3 14-15 0 0-1-30 13-34s32 29 51 42c14 9 25 8 25 8l51-1s26-2 14-23c-1-2-9-15-39-42-31-30-26-25 11-76 23-31 33-50 30-57-4-7-20-6-20-6h-57c-6 0-9 1-12 6 0 0-9 25-21 45-25 43-35 45-40 42-9-5-7-24-7-37 0-45 7-61-13-65-13-2-59-4-73 3-7 4-11 11-8 12 3 0 12 1 17 7 8 13 9 75-2 81-15 11-53-62-62-86-2-6-5-7-12-9H79c-6 0-15 1-11 13 27 56 83 193 184 192z"/></svg>
	</a>
	<a class="share__link btn" title="Zapisz do Pocket" href="https://getpocket.com/edit?url=https%3a%2f%2fmorfikov.github.io%2fpost%2fczym-jest-tryb-lockdown-w-smartfonie-z-androidem%2f&amp;title=Czym%20jest%20tryb%20lockdown%20w%20smartfonie%20z%20Androidem" target="_blank" rel="noopener noreferrer" onclick="window.open(this.href, 'Zapisz do Pocket', 'width=480,height=320,toolbar=0,status=0'); return false">
		<svg class="share__icon" aria-label="Pocket" role="img" width="32" height="32" viewBox="0 0 512 512"><path d="M388.8 88.9H123.2A47.4 47.4 0 0 0 76 136.5v131.9c0 2.4.2 4.8.5 7.2a101.8 101.8 0 0 0-.5 10.6c0 75.6 80.6 137 180 137s180-61.4 180-137c0-3.6-.2-7.1-.5-10.6.3-2.4.5-4.8.5-7.2v-132A47.4 47.4 0 0 0 388.8 89zm-22.4 132.6l-93 93c-4.7 4.6-11 7-17.1 7a23.8 23.8 0 0 1-17.7-7l-93-93a24 24 0 0 1 33.8-33.8l76.6 76.5 76.6-76.5a24 24 0 0 1 33.8 33.8z"/></svg>
	</a>
	<a class="share__link btn" title="Zapisz do Pinterest" href="https://pinterest.com/pin/create/button/?url=https%3a%2f%2fmorfikov.github.io%2fpost%2fczym-jest-tryb-lockdown-w-smartfonie-z-androidem%2f&description=Czym%20jest%20tryb%20lockdown%20w%20smartfonie%20z%20Androidem" target="_blank" rel="noopener noreferrer" onclick="window.open(this.href, 'Zapisz do Pocket', 'width=800,height=720,toolbar=0,status=0'); return false">
		<svg class="share__icon" aria-label="Pinterest" role="img" width="32" height="32" viewBox="0 0 512 512"><path d="m265 65c-104 0-157 75-157 138 0 37 14 71 45 83 5 2 10 0 12-5l3-18c2-6 1-7-2-12-9-11-15-24-15-43 0-56 41-106 108-106 60 0 92 37 92 85 0 64-28 116-70 116-23 0-40-18-34-42 6-27 19-57 19-77 0-18-9-34-30-34-24 0-42 25-42 58 0 20 7 34 7 34l-29 120a249 249 0 0 0 2 86l3-1c2-3 31-37 40-72l16-61c7 15 29 28 53 28 71 0 119-64 119-151 0-66-56-126-140-126z"/></svg>
	</a>
</div>
				</footer>
				
			</article>
		</div>
	</main>
	
<div class="authorbox block">
	<div class="author">
		<figure class="author__avatar">
			<img class="author__img" alt="Mikhail Morfikov avatar" src="https://morfikov.github.io/img/avatar.png" height="90" width="90">
		</figure>
		<div class="author__body">
			<div class="author__name">
				Mikhail Morfikov
			</div>
			<div class="author__bio">Po ponad 10 latach spędzonych z różnej maści linux&#39;ami (Debian/Ubuntu, OpenWRT, Android) mogę śmiało powiedzieć, że nie ma rzeczy niemożliwych i problemów, których nie da się rozwiązać. Jedną umiejętność, którą ludzki umysł musi posiąść, by wybrnąć nawet z tej najbardziej nieprzyjemniej sytuacji, to zdolność logicznego rozumowania.</div>
		</div>
	</div>
</div>
	



<div class="related block">
	<h3 class="related__title">Powiązane</h3>
	<ul class="related__list">
		
		<li class="related__item"><a class="related__link" href="https://morfikov.github.io/post/kopia-zapasowa-danych-smartfona-z-androidem-oandbackupx-syncthing/">Kopia zapasowa danych smartfona z Androidem (OAndBackupX, Syncthing)</a></li>
		
		<li class="related__item"><a class="related__link" href="https://morfikov.github.io/post/optymalizacja-procesu-ladowania-baterii-via-acc-w-smartfonie-z-androidem/">Optymalizacja procesu ładowania baterii via ACC w smartfonie z Androidem</a></li>
		
		<li class="related__item"><a class="related__link" href="https://morfikov.github.io/post/blokowanie-dostepu-do-sensorow-kamera-mikrofon-gps-aplikacjom-w-androidzie/">Blokowanie dostępu do sensorów (kamera/mikrofon/gps) aplikacjom w Androidzie</a></li>
		
		<li class="related__item"><a class="related__link" href="https://morfikov.github.io/post/pozorowanie-lokalizacji-gps-w-androidzie-mock-location/">Pozorowanie lokalizacji GPS w Androidzie (mock location)</a></li>
		
		<li class="related__item"><a class="related__link" href="https://morfikov.github.io/post/jak-blokowac-rozmowy-gsm-w-smartfonie-z-androidem-yacb/">Jak blokować rozmowy GSM w smartfonie z Androidem (YACB)</a></li>
		
		<li class="related__item"><a class="related__link" href="https://morfikov.github.io/post/jak-wgrac-twrp-recovery-i-magisk-w-xiaomi-redmi-9-galahad-lancelot/">Jak wgrać TWRP recovery i Magisk w Xiaomi Redmi 9 (galahad/lancelot)</a></li>
		
		<li class="related__item"><a class="related__link" href="https://morfikov.github.io/post/jak-odblokowac-bootloader-w-xiaomi-redmi-9-galahad-lancelot/">Jak odblokować bootloader w Xiaomi Redmi 9 (galahad/lancelot)</a></li>
		
	</ul>
</div>

	<div id="comments">
		<script src="https://utteranc.es/client.js"
        repo="morfikov/morfitronik-comments"
        issue-term="og:title"
        theme="github-dark"
        crossorigin="anonymous"
        async>
</script>

	</div>

	</div>
	<footer class="footer">
<div class="footer__social social">
		<a class="social__link" target="_blank" rel="noopener noreferrer" href="mailto:morfitronik@gmail.com">
			<svg class="social__icon" aria-label="Email" role="img" width="32" height="32" viewBox="0 0 512 512"><path d="M299 268l124 106c-4 4-10 7-17 7H106c-7 0-13-3-17-7l124-106 43 38 43-38zm-43 13L89 138c4-4 10-7 17-7h300c7 0 13 3 17 7L256 281zm54-23l121-105v208L310 258zM81 153l121 105L81 361V153z"/></svg>
		</a>
		<a class="social__link" target="_blank" rel="noopener noreferrer" href="https://t.me/morfikov">
			<svg class="social__icon" aria-label="Telegram" role="img" width="32" height="32" viewBox="0 0 512 512"><path d="M199 404c-11 0-10-4-13-14l-32-105 245-144"/><path d="M199 404c7 0 11-4 16-8l45-43-56-34"/><path d="M204 319l135 99c14 9 26 4 30-14l55-258c5-22-9-32-24-25L79 245c-21 8-21 21-4 26l83 26 190-121c9-5 17-3 11 4"/></svg>
		</a>
		<a class="social__link" target="_blank" rel="noopener noreferrer" href="https://github.com/morfikov">
			<svg class="social__icon" aria-label="Github" role="img" width="32" height="32" viewBox="0 0 512 512"><path d="M335 499c14 0 12 17 12 17H165s-2-17 12-17c13 0 16-6 16-12l-1-50c-71 16-86-28-86-28-12-30-28-37-28-37-24-16 1-16 1-16 26 2 40 26 40 26 22 39 59 28 74 22 2-17 9-28 16-35-57-6-116-28-116-126 0-28 10-51 26-69-3-6-11-32 3-67 0 0 21-7 70 26 42-12 86-12 128 0 49-33 70-26 70-26 14 35 6 61 3 67 16 18 26 41 26 69 0 98-60 120-117 126 10 8 18 24 18 48l-1 70c0 6 3 12 16 12z"/></svg>
		</a>
		<a class="social__link" target="_blank" rel="noopener noreferrer" href="https://gitlab.com/morfikov">
			<svg class="social__icon" aria-label="Gitlab" role="img" width="32" height="32" viewBox="0 0 512 512"><path d="M450 282l-22-67-43-133c-2-7-12-7-14 0l-43.3 133H184.3L141 82c-2-7-12-7-14 0L84 215l-22 67c-2 6 0 13 6 16l188 137 188-137c6-3 8-10 6-16z"/></svg>
		</a>
		<a class="social__link" target="_blank" rel="noopener noreferrer" href="https://stackoverflow.com/users/3015317">
			<svg class="social__icon" aria-label="Stack Overflow" role="img" width="32" height="32" viewBox="0 0 512 512"><g stroke-width="30"><path fill="none" d="M125 297v105h241V297"/><path d="M170 341h150m-144-68l148 31M199 204l136 64m-95-129l115 97M293 89l90 120"/></g></svg>
		</a>
		<a class="social__link" target="_blank" rel="noopener noreferrer" href="https://mastodon.social/@morfik">
			<svg class="social__icon" aria-label="Mastodon" role="img" width="32" height="32" viewBox="0 0 512 512"><path d="M416 197c0-74-49-96-49-96-42-22-172-24-222 0 0 0-49 22-49 96v59c2 72 14 145 81 162 33 9 89 18 140-6l-2-27s-27 7-58 7c-74 2-67-39-70-52 0 0 51 17 137 6 42-6 80-32 85-56 8-38 7-93 7-93zm-58 96h-35v-88c0-18-8-27-23-27-18 0-27 11-27 33v47h-34v-47c0-22-9-33-27-33-15 0-23 9-23 27v88h-35v-91c0-18 5-60 52-60 39 0 50 37 50 37s10-37 50-37c45 0 52 42 52 60v91z"/></svg>
		</a>
</div>
	<div class="footer__copyright">© 2025 Mikhail Morfikov.
	<span class="footer__copyright-credits">Powered by <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/vimux/binario" rel="nofollow noopener" target="_blank">Binario</a> theme.</span>
	<span class="footer__copyright-cc">
		<div class="license-icons">
			<a rel="license" href="https://creativecommons.org/licenses/by-nc-sa/4.0/" title="Creative Commons Attribution 4.0 International license">
<i class="icon-cc"></i><i class="icon-cc-by"></i><i class="icon-cc-nc"></i><i class="icon-cc-sa"></i>
</a>
		</div>
		Except where otherwise noted, content on this site is licensed under a <a rel="license" href="https://creativecommons.org/licenses/by-nc-sa/4.0/">Creative Commons Attribution-NonCommercial-ShareAlike 4.0 International license</a>.
	</span>
	</div>
</footer>

<script src="https://morfikov.github.io/js/menu.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.6/MathJax.js?config=TeX-AMS-MML_HTMLorMML" async></script>

<script src="https://morfikov.github.io/js/custom.js"></script>
<script src="https://unpkg.com/vanilla-back-to-top@7.2.1/dist/vanilla-back-to-top.min.js"></script>
<script>addBackToTop({
  diameter: 40,
  textColor: '#c3c3c3'
})</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/medium-zoom/1.0.6/medium-zoom.min.js" integrity="sha512-N9IJRoc3LaP3NDoiGkcPa4gG94kapGpaA5Zq9/Dr04uf5TbLFU5q0o8AbRhLKUUlp8QFS2u7S+Yti0U7QtuZvQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
<script>
const images = Array.from(document.querySelectorAll(".entry__content img"));
images.forEach(img => {
  mediumZoom(img, {
    margin: 0,  
    scrollOffset: 40,  
    container: null,  
    template: null,  
    background: 'rgba(0, 0, 0, 0.8)'
  });
});
</script>
</body>
</html>
