<!DOCTYPE html>
<html class="no-js" lang="pl-PL">
<head>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta name="theme-color" content="#1b1b1b">
	<title>Jak skonfigurować bonding w Debian linux (eth0&#43;wlan0) | Morfitronik</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Jak skonfigurować bonding w Debian linux (eth0&#43;wlan0)" />
<meta property="og:description" content="W artykule poświęconym konfiguracji sieci WiFi na Debianie z wykorzystaniem narzędzia
wpa_supplicant wspomniałem parę słów na temat interfejsu bond. Bonding na linux
wykorzystywany jest w zasadzie do spięcia kilku interfejsów sieciowych, w tym przewodowych
( eth0 ) i bezprzewodowych ( wlan0 ) w jeden (zwykle bond0 ). Takie rozwiązanie sprawia, że
w przypadku awarii któregoś z podpiętych interfejsów, my nie tracimy połączenia z siecią i nie
musimy nic nigdzie przełączać, by to połączenie przywrócić. To rozwiązanie jest o tyle użyteczne,
że w przypadku, gdy podepniemy przewód do gniazda RJ-45 w naszym laptopie, to komunikacja będzie
odbywać się po kablu. Natomiast jeśli przewód zostanie odłączony, to system automatycznie przejdzie
na komunikację bezprzewodową. W tym wpisie spróbujemy zaprojektować sobie właśnie tego typu
mechanizm zarówno za sprawą pakietu ifupdown , gdzie konfiguracja interfejsów sieciowych jest
zarządzana przez plik /etc/network/interfaces , jak i przy pomocy natywnego rozwiązania jakie
oferuje systemd/networkd." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://morfikov.github.io/post/konfiguracja-interfejsow-bond-bonding/" />
<meta property="article:published_time" content="2016-01-02T15:07:13+00:00" />
<meta property="article:modified_time" content="2020-03-29T16:20:00+01:00" />

		<meta itemprop="name" content="Jak skonfigurować bonding w Debian linux (eth0&#43;wlan0)">
<meta itemprop="description" content="W artykule poświęconym konfiguracji sieci WiFi na Debianie z wykorzystaniem narzędzia
wpa_supplicant wspomniałem parę słów na temat interfejsu bond. Bonding na linux
wykorzystywany jest w zasadzie do spięcia kilku interfejsów sieciowych, w tym przewodowych
( eth0 ) i bezprzewodowych ( wlan0 ) w jeden (zwykle bond0 ). Takie rozwiązanie sprawia, że
w przypadku awarii któregoś z podpiętych interfejsów, my nie tracimy połączenia z siecią i nie
musimy nic nigdzie przełączać, by to połączenie przywrócić. To rozwiązanie jest o tyle użyteczne,
że w przypadku, gdy podepniemy przewód do gniazda RJ-45 w naszym laptopie, to komunikacja będzie
odbywać się po kablu. Natomiast jeśli przewód zostanie odłączony, to system automatycznie przejdzie
na komunikację bezprzewodową. W tym wpisie spróbujemy zaprojektować sobie właśnie tego typu
mechanizm zarówno za sprawą pakietu ifupdown , gdzie konfiguracja interfejsów sieciowych jest
zarządzana przez plik /etc/network/interfaces , jak i przy pomocy natywnego rozwiązania jakie
oferuje systemd/networkd.">
<meta itemprop="datePublished" content="2016-01-02T15:07:13+00:00" />
<meta itemprop="dateModified" content="2020-03-29T16:20:00+01:00" />
<meta itemprop="wordCount" content="1426">



<meta itemprop="keywords" content="debian,moduły-kernela,wifi,systemd,sieć,bonding," />

		<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Jak skonfigurować bonding w Debian linux (eth0&#43;wlan0)"/>
<meta name="twitter:description" content="W artykule poświęconym konfiguracji sieci WiFi na Debianie z wykorzystaniem narzędzia
wpa_supplicant wspomniałem parę słów na temat interfejsu bond. Bonding na linux
wykorzystywany jest w zasadzie do spięcia kilku interfejsów sieciowych, w tym przewodowych
( eth0 ) i bezprzewodowych ( wlan0 ) w jeden (zwykle bond0 ). Takie rozwiązanie sprawia, że
w przypadku awarii któregoś z podpiętych interfejsów, my nie tracimy połączenia z siecią i nie
musimy nic nigdzie przełączać, by to połączenie przywrócić. To rozwiązanie jest o tyle użyteczne,
że w przypadku, gdy podepniemy przewód do gniazda RJ-45 w naszym laptopie, to komunikacja będzie
odbywać się po kablu. Natomiast jeśli przewód zostanie odłączony, to system automatycznie przejdzie
na komunikację bezprzewodową. W tym wpisie spróbujemy zaprojektować sobie właśnie tego typu
mechanizm zarówno za sprawą pakietu ifupdown , gdzie konfiguracja interfejsów sieciowych jest
zarządzana przez plik /etc/network/interfaces , jak i przy pomocy natywnego rozwiązania jakie
oferuje systemd/networkd."/>

	<link rel="stylesheet" href="https://morfikov.github.io/css/bundle.css">
	<link rel="stylesheet" href="https://morfikov.github.io/css/custom.css">
	<link rel="icon" href="https://morfikov.github.io/icons/16.png" sizes="16x16" type="image/png">
	<link rel="icon" href="https://morfikov.github.io/icons/32.png" sizes="32x32" type="image/png">
	<link rel="manifest" href="https://morfikov.github.io/manifest.json">
		
</head>
<body>
	<header class="header">
	<a class="logo" href="https://morfikov.github.io/">Morfitronik</a>
	
<nav class="main-nav main-nav--right" role="navigation">
	<button id="toggle" class="main-nav__btn" aria-label="Menu toggle" aria-expanded="false" tabindex="0">
		<div class="main-nav__btn-box" tabindex="-1">
			<svg class="main-nav__icon icon-menu" width="18" height="18" viewBox="0 0 18 18">
				<path class="icon-menu__burger" d="M18 0v3.6H0V0h18zM0 10.8h18V7.2H0v3.6zM0 18h18v-3.6H0V18z"/>
				<path class="icon-menu__x" d="M11.55 9L18 15.45 15.45 18 9 11.55 2.55 18 0 15.45 6.45 9 0 2.55 2.55 0 9 6.45 15.45 0 18 2.55 11.55 9z"/>
			</svg>
		</div>
	</button>
	<ul id="menu" class="main-nav__list">
			<li class="main-nav__item">
				<a class="main-nav__link" href="https://morfikov.github.io/categories/">
					
					<span class="main-nav__text">Kategorie</span>
					
				</a>
			</li>
			<li class="main-nav__item">
				<a class="main-nav__link" href="https://morfikov.github.io/tags/">
					
					<span class="main-nav__text">Tagi</span>
					
				</a>
			</li>
			<li class="main-nav__item">
				<a class="main-nav__link" href="https://morfikov.github.io/page/info-kontakt/">
					
					<span class="main-nav__text">Info/Kontakt</span>
					
				</a>
			</li>
	</ul>
</nav>
</header>
	<div class="primary">
	
	<main class="main">
		
<nav class="breadcrumb block" aria-label="breadcrumb">
	<ol class="breadcrumb__list">
		
		<li class="breadcrumb__item">
			<a class="breadcrumbs__link" href="https://morfikov.github.io/">Home</a>
		</li>
		<li class="breadcrumb__item">
			<a class="breadcrumbs__link" href="https://morfikov.github.io/post/">Posts</a>
		</li>
		<li class="breadcrumbs__item breadcrumb__item--active" aria-current="page">Jak skonfigurować bonding w Debian linux (eth0&#43;wlan0)</li>
	</ol>
</nav>
		<div class="single block">
			<article class="entry">
	<div class="entry__meta meta mb">
	<time class="entry__meta-published meta-published" datetime="2016-01-02T15:07:13Z">Opublikowano: 02/01/2016</time>
	<time class="entry__meta-lastmod meta-lastmod" datetime="2020-03-29T16:20:00&#43;01:00">Zaktualizowano: 29/03/2020</time>

<span class="entry__meta-categories meta-categories">
	<span class="meta-categories__list">Kategorie:
		<a class="meta-categories__link" href="https://morfikov.github.io/categories/linux/" rel="category">Linux</a>
	</span>
</span>
	</div>
				<h1 class="entry__title">Jak skonfigurować bonding w Debian linux (eth0&#43;wlan0)</h1>
<details class="entry__toc toc" >
	<summary class="toc__title">Spis treści</summary>
	<nav id="TableOfContents">
  <ol>
    <li><a href="#sterowniki-i-firmware-do-karty-wifi">Sterowniki i firmware do karty WiFi</a></li>
    <li><a href="#konfiguracja-bondingu-przy-pomocy-ifupdown">Konfiguracja bonding'u przy pomocy ifupdown</a></li>
    <li><a href="#konfiguracja-bondingu-w-systemdnetworkd">Konfiguracja bonding'u w systemd/networkd</a></li>
  </ol>
</nav>
</details>
				<div class="entry__content"><p>W artykule poświęconym <a href="https://morfikov.github.io/post/konfiguracja-polaczenia-wifi-pod-debianem/">konfiguracji sieci WiFi na Debianie z wykorzystaniem narzędzia
wpa_supplicant</a> wspomniałem parę słów na temat <a href="https://www.kernel.org/pub/linux/kernel/people/marcelo/linux-2.4/Documentation/networking/bonding.txt">interfejsu bond</a>. Bonding na linux
wykorzystywany jest w zasadzie do spięcia kilku interfejsów sieciowych, w tym przewodowych
( <code>eth0</code> ) i bezprzewodowych ( <code>wlan0</code> ) w jeden (zwykle <code>bond0</code> ). Takie rozwiązanie sprawia, że
w przypadku awarii któregoś z podpiętych interfejsów, my nie tracimy połączenia z siecią i nie
musimy nic nigdzie przełączać, by to połączenie przywrócić. To rozwiązanie jest o tyle użyteczne,
że w przypadku, gdy podepniemy przewód do gniazda RJ-45 w naszym laptopie, to komunikacja będzie
odbywać się po kablu. Natomiast jeśli przewód zostanie odłączony, to system automatycznie przejdzie
na komunikację bezprzewodową. W tym wpisie spróbujemy zaprojektować sobie właśnie tego typu
mechanizm zarówno za sprawą pakietu <code>ifupdown</code> , gdzie konfiguracja interfejsów sieciowych jest
zarządzana przez plik <code>/etc/network/interfaces</code> , jak i przy pomocy natywnego rozwiązania jakie
oferuje systemd/networkd.</p>
<h2 id="sterowniki-i-firmware-do-karty-wifi">Sterowniki i firmware do karty WiFi</h2>
<p>By nasza karta bezprzewodowa WiFi działała bez problemów z bonding'iem, musi <a href="https://wiki.debian.org/WiFi">być ona wspierana
przez kernel linux'a</a>. Dodatkowo, potrzebne nam będą odpowiednie pakiety z firmware. Na Debianie,
wszystko to, co tyczy się firmware jest ulokowane w pakietach mających nazwę <code>firmware-*</code> ,
przykładowo: <code>firmware-atheros</code> . Przy pomocy narzędzia <code>lspci</code> możemy ustalić jaką mamy kartę WiFi
w laptopie i w ten sposób dociągnąć stosowny pakiet za sprawą menadżera pakietów
<code>apt-get</code>/<code>aptitude</code> .</p>
<h2 id="konfiguracja-bondingu-przy-pomocy-ifupdown">Konfiguracja bonding'u przy pomocy ifupdown</h2>
<p>Standardowo w Debianie do konfiguracji sieci wykorzystuje się pakiet <code>ifupdown</code> . Nie ma potrzeby
jego ręcznej instalacji, bo powinien już siedzieć w naszym systemie. Musimy jednak doinstalować
inny pakiet: <code>ifenslave</code> . Bez niego nie będziemy w stanie skonfigurować interfejsu <code>bond0</code> . Poza
tymi pakietami, potrzebny nam będzie też moduł kernela <code>bonding</code> , który musimy załadować wraz ze
startem systemu. Dopisujemy zatem do pliku <code>/etc/modules</code> tę poniższą linijkę:</p>
<pre><code>bonding
</code></pre>
<p>Konfiguracja interfejsu <code>bond0</code> może być podana bezpośrednio przy ładowaniu modułu jako jego opcje.
My jednak ten interfejs skonfigurujemy sobie przez plik <code>/etc/network/interfaces</code> . U mnie ten plik
wygląda mniej więcej tak:</p>
<pre><code>source /etc/network/interfaces.d/*

auto lo
iface lo inet loopback

auto bond0
iface bond0 inet dhcp
    metric 10
    bond-mode active-backup
    bond-miimon 100
    bond-downdelay 200
    bond-updelay 200
    bond-primary eth0
    bond-primary-reselect always
    bond-fail-over-mac none
    bond-slaves eth0 wlan0

allow-bond0 wlan0
iface wlan0 inet manual
    bond-give-a-chance 2
    wpa-driver nl80211
    wpa-debug-level -1
    wpa-conf /etc/wpa_supplicant/wpa_supplicant.conf
</code></pre>
<p>Jak można wyżej zauważyć, nie mamy tam bloku odpowiedzialnego za konfigurację interfejsu
przewodowego <code>eth0</code> , a to z tego względu, że nie jest ona konieczna. Natomiast wymagany jest blok
z konfiguracją interfejsu bezprzewodowego <code>wlan0</code> . To w nim określamy kilka niezbędnych
parametrów dla połączenia WiFi.</p>
<p>Wyjaśnienie opcji użytych w bloku <code>iface wlan0</code> :</p>
<ul>
<li><code>bond-give-a-chance</code> -- czeka określoną ilość sekund po podniesieniu interfejsu bezprzewodowego.
Chodzi o opóźnienia związane z procesem logowania do sieci.</li>
<li><code>wpa-driver</code> -- sterownik dla karty WiFi. Zwykle tutaj wykorzystywany jest <code>nl80211</code> ale w
przypadku niektórych kart może być wymagane ustawienie tutaj <code>wext</code> .</li>
<li><code>wpa-debug-level</code> -- obniża poziom logowania, tak by nie łapać komunikatów <code>WPA: Group rekeying completed</code> .</li>
<li><code>wpa-conf</code> -- plik z konfiguracją sieci WiFi (np. dane logowania).</li>
</ul>
<p>Przydałoby się także kilka słów wyjaśnień dotyczących samego bloku <code>iface bond0</code> . Każdy interfejs,
nawet te wirtualne, muszą posiadać jakiś adres MAC. Jako, że pod interfejs <code>bond0</code> są podpięte dwa
fizyczne interfejsy, to każdy z nich ma inny adres MAC. Gdy opcja <code>bond-fail-over-mac</code> jest
ustawiona na <code>none</code> , wszystkie zniewolone interfejsy, w tym sam interfejs <code>bond0</code> , mają ustawiony
dokładnie ten sam adres MAC. Adres MAC jest pobierany z pierwszego interfejsu określonego w
<code>bond-slaves</code> . Zatem interfejs <code>bond0</code> będzie miał taki sam MAC, co interfejs <code>eth0</code> . Każdy
dodatkowy interfejs podczepiany pod interfejs <code>bond0</code> , również będzie miał ten sam adres MAC.
Chodzi generalnie o to, że <a href="http://lists.shmoo.com/pipermail/hostap/2009-February/019190.html">standard IEEE 802.11 nie zezwala na transmisję pakietów o innym adresie
MAC</a> niż ten przypisany na sztywno bezprzewodowej karcie sieciowej. Dlatego też ten adres MAC
musi pasować do tego, który jest ustawiony na interfejsie <code>bond0</code> .</p>
<p>Opcje <code>bond-downdelay</code> oraz <code>bond-updelay</code> odpowiadają za czas (ms) podnoszenia i opuszczania
interfejsów. Ważne jest, by ustawić je na wielokrotność wartości określonej przez parametr
<code>bond-miimon</code> . Dalej mamy już tylko zdefiniowany główny interfejs na pozycji <code>bond-primary</code> oraz
politykę jego wybierania w <code>bond-primary-reselect</code> . W przypadku, gdy <code>bond-primary-reselect</code> jest
ustawiony na <code>always</code> , interfejs określony w <code>bond-primary</code> będzie ustawiany jako główny za każdym
razem, gdy będzie dostępny. Takie zachowanie przydaje się w przypadku, gdy w <code>bond-mode</code> określimy
<code>active-backup</code> . Ten tryb, jak nazwa sugeruje, ma na celu wykorzystanie tylko jednego interfejsu w
tym samym czasie, ze wskazaniem na interfejs przewodowy <code>eth0</code> . Gdy zdarzy się taka sytuacja, że
odłączymy przewód sieciowy od portu RJ-45, to ten interfejs zostanie wyłączony i jednocześnie
zostanie aktywowany interfejs bezprzewodowy. Natomiast w przypadku, gdy podłączymy kabel ponownie,
to pakiety znów będą lecieć przez ten interfejs przewodowy.</p>
<p>Jeśli chodzi zaś o <a href="https://morfikov.github.io/post/konfiguracja-polaczenia-wifi-pod-debianem/">konfigurację samej sieci WiFi</a>, to została ona opisana w osobnym artykule i
nie będę poruszał tutaj tego tematu.</p>
<h2 id="konfiguracja-bondingu-w-systemdnetworkd">Konfiguracja bonding'u w systemd/networkd</h2>
<p>Konfiguracja interfejsu <code>bond0</code> w systemd/networkd przebiega nieco inaczej. Niemniej jednak, nic
nie stoi na przeszkodzie, by wykorzystywać ten powyższy mechanizm zamiast natywnego rozwiązania
oferowanego przez systemd. Jeśli jednak chcielibyśmy się ograniczyć jedynie do systemd, to musimy
poczynić szereg zmian w konfiguracji systemu.</p>
<p>Przede wszystkim musimy wyłączyć usługi <code>networking.service</code> i <code>ifupdown-wait-online</code> oraz
dezaktywować je, tak by nie były uruchamiane wraz ze startem systemu:</p>
<pre><code># systemctl stop networking.service ifupdown-wait-online.service
# systemctl disable networking.service ifupdown-wait-online.service
</code></pre>
<p>Jeśli mamy załadowany moduł <code>bonding</code> to musimy go wyładować:</p>
<pre><code># modprobe -r bonding
</code></pre>
<p>Odinstalować trzeba także pakiet <code>ifenslave</code> oraz usunąć linijkę z modułem z pliku <code>/etc/modules</code> .
W ten sposób powrócimy do pozycji wyjściowej z początku artykułu.</p>
<p>Następnie włączamy szereg usług dostarczanych z systemd:</p>
<pre><code># systemctl enable \
            systemd-networkd.service \
            systemd-networkd.socket \
            systemd-networkd-wait-online.service \
            systemd-timesyncd.service
</code></pre>
<p>Dodajemy do pliku <code>/etc/modprobe.d/modules.conf</code> opcję dla modułu <code>bonding</code> , który będzie ładowany
automatycznie za sprawą systemd:</p>
<pre><code>options bonding max_bonds=0
</code></pre>
<p>Widoczny wyżej parametr <code>max_bonds</code> trzeba ustawić na <code>0</code> , a to z tego względu, że zapobiegnie to
tworzeniu interfejsu <code>bond0</code> tuż po załadowaniu modułu. Ten interfejs będzie tworzony i zarządzany
przez systemd. W przypadku, gdy nie dodamy tej opcji, to <a href="https://lists.freedesktop.org/archives/systemd-devel/2015-March/029033.html">możemy mieć problem z konfiguracją
interfejsu bond0</a>.</p>
<p>Tworzymy teraz kilka plików w katalogu <code>/etc/systemd/network/</code> . Poniżej przykłady.</p>
<p>Plik <code>10-bond0.netdev</code> :</p>
<pre><code>[NetDev]
Description=Net device for bond0
Name=bond0
Kind=bond

[Bond]
Mode=active-backup
MIIMonitorSec=100ms
UpDelaySec=200ms
DownDelaySec=200ms
FailOverMACPolicy=none
PrimaryReselectPolicy=always
LACPTransmitRate=fast
MinLinks=1
</code></pre>
<p>Sekcja <code>[NetDev]</code> ma za zadanie utworzyć interfejs rodzaju <code>bond</code> i nadać mu nazwę <code>bond0</code> . Zaś
zwrotka <code>[Bond]</code> konfiguruje moduł kernela <code>bonding</code> . W zasadzie wszystkie opcje określone tutaj
zostały już wyjaśnione przy okazji analizowania pliku <code>/etc/network/interfaces</code> . Jedyne co, to na
wyjaśnienie zasługuje <code>MinLinks</code> , który odpowiada za wskazanie systemowi czy ten interfejs <code>bond0</code>
działa prawidłowo. Jeśli tylko jeden z interfejsów <code>eth0</code> lub <code>wlan0</code> będzie nieaktywny (bo o to
nam chodzi), to wtedy interfejs <code>bond0</code> nie zostanie oznaczony jako niedziałający.</p>
<p>Plik <code>30-bond0-eth0.network</code> :</p>
<pre><code>[Match]
MACAddress=00:21:cc:c3:05:b0

[Network]
Description=Slave eth0 interface for bond0
Bond=bond0
PrimarySlave=yes
</code></pre>
<p>Plik <code>30-bond0-wlan0.network</code> :</p>
<pre><code>[Match]
MACAddress=60:67:20:42:56:9c

[Network]
Description=Slave wlan0 interface for bond0
Bond=bond0
</code></pre>
<p>Te dwa pliki ( <code>30-bond0-eth0.network</code> oraz <code>30-bond0-wlan0.network</code> ) mają zbliżoną zawartość z
racji, że przy ich pomocy określamy interfejsy, które będą podpięte pod mechanizm bonding'u. W
sekcji <code>[Match]</code> podajemy adres MAC interfejsu <code>eth0</code> i <code>wlan0</code> , zaś w sekcji <code>[Network]</code>
wskazujemy interfejs <code>bond0</code> , bo to pod niego podpinamy te dwa fizyczne interfejsy. Dodatkowo, w
przypadku przewodowego interfejsu określony został jeszcze parametr <code>PrimarySlave=yes</code> , który
czyni z interfejsu przewodowego główny interfejs bonding'u -- to nim będą płynąć pakiety nawet w
przypadku, gdy połączenie WiFi zostanie nawiązane.</p>
<p>Plik <code>40-bond.network</code> :</p>
<pre><code>[Match]
Name=bond0

[Link]
RequiredForOnline=yes

[Network]
Description=Bonding of eth0 and wlan0
DHCP=ipv4
DHCPServer=no
LinkLocalAddressing=no
DNS=127.0.2.1
IPForward=no
IPMasquerade=no
IPv6PrivacyExtensions=kernel

[DHCPv4]
UseDNS=no
RoutesToDNS=no
UseSIP=no
UseMTU=yes
UseNTP=no
SendHostname=no
UseHostname=no
UseDomains=no
UseRoutes=yes
UseTimezone=no
MaxAttempts=4
SendRelease=yes
</code></pre>
<p>Tutaj już jak widać tych parametrów jest nieco więcej. W sekcji <code>[Match]</code> określamy interfejs
<code>bond0</code> , który za sprawą <code>RequiredForOnline=yes</code> będzie traktowany jako swojego rodzaju główny
interfejs sieciowy maszyny, na którego konfigurację system będzie czekał podczas startu komputera.
W zwrotce <code>[Network]</code> określone zostały standardowe parametry konfiguracji interfejsu sieciowego,
ze wskazaniem na uzyskanie tej konfiguracji via protokół DHCP. Ostatnia sekcja, tj. <code>[DHCPv4]</code> ,
tyczy się konfiguracji samego protokołu DHCP dla IPv4. Te wszystkie wymienione wyżej parametry są
dokładniej opisane w <a href="https://www.freedesktop.org/software/systemd/man/systemd.network.html">dokumentacji systemd</a>.</p>
<p>By całość nam jeszcze zadziałała, musimy włączyć usługę <code>wpa_supplicant</code> na interfejsie <code>wlan0</code>,
która uwierzytelni nas w sieci bezprzewodowej, do której mamy zamiar się podłączyć:</p>
<pre><code># systemctl enable wpa_supplicant.service wpa_supplicant@wlan0.service
</code></pre>
<p>Pozostało nam już tylko uruchomienie całego mechanizmu:</p>
<pre><code># systemctl start systemd-networkd
</code></pre>
<p>W logu systemowym zaś powinniśmy odnotować m.in. ten poniższy komunikat:</p>
<pre><code>systemd-networkd[43223]: bond0: DHCPv4 address 192.168.1.150/24 via 192.168.1.1
systemd-networkd[43223]: bond0: Configured
</code></pre>
<p>Zaś narzędzie <code>networkctl</code> powinno nam zwrócić poniższą konfigurację:</p>
<pre><code># networkctl
IDX LINK  TYPE     OPERATIONAL SETUP
  1 lo    loopback carrier     unmanaged
  2 eth0  ether    enslaved    configured
  3 wlan0 wlan     enslaved    unmanaged
  4 bond0 bond     routable    configured

4 links listed.
</code></pre></div>
				
				<footer class="entry__footer">
					
<div class="entry__tags">
			<a class="entry__tag btn" href="https://morfikov.github.io/tags/debian/">debian</a>
			<a class="entry__tag btn" href="https://morfikov.github.io/tags/modu%C5%82y-kernela/">moduły-kernela</a>
			<a class="entry__tag btn" href="https://morfikov.github.io/tags/wifi/">wifi</a>
			<a class="entry__tag btn" href="https://morfikov.github.io/tags/systemd/">systemd</a>
			<a class="entry__tag btn" href="https://morfikov.github.io/tags/sie%C4%87/">sieć</a>
			<a class="entry__tag btn" href="https://morfikov.github.io/tags/bonding/">bonding</a>
</div>
					
<div class="entry__share share">
	<a class="share__link btn" title="Podziel się na Facebook" href="https://www.facebook.com/sharer/sharer.php?u=https%3a%2f%2fmorfikov.github.io%2fpost%2fkonfiguracja-interfejsow-bond-bonding%2f" target="_blank" rel="noopener noreferrer" onclick="window.open(this.href, 'Podziel się na Facebook', 'width=800,height=600,toolbar=0,status=0'); return false">
		<svg class="share__icon" aria-label="Facebook" role="img" width="32" height="32" viewBox="0 0 512 512"><path d="M330 512V322h64l9-74h-73v-47c0-22 6-36 37-36h39V99c-7-1-30-3-57-3-57 0-95 34-95 98v54h-64v74h64v190z"/></svg>
	</a>
	<a class="share__link btn" title="Podziel się na Twitter" href="https://twitter.com/intent/tweet/?url=https%3a%2f%2fmorfikov.github.io%2fpost%2fkonfiguracja-interfejsow-bond-bonding%2f&amp;text=Jak%20skonfigurowa%c4%87%20bonding%20w%20Debian%20linux%20%28eth0%2bwlan0%29" target="_blank" rel="noopener noreferrer" onclick="window.open(this.href, 'Podziel się na Twitter', 'width=800,height=450,resizable=yes,toolbar=0,status=0'); return false">
		<svg class="share__icon" aria-label="Twitter" role="img" width="32" height="32" viewBox="0 0 512 512"><path d="M437 152a72 72 0 0 1-40 12 72 72 0 0 0 32-40 72 72 0 0 1-45 17 72 72 0 0 0-122 65 200 200 0 0 1-145-74 72 72 0 0 0 22 94 72 72 0 0 1-32-7 72 72 0 0 0 56 69 72 72 0 0 1-32 1 72 72 0 0 0 67 50 200 200 0 0 1-105 29 200 200 0 0 0 309-179 200 200 0 0 0 35-37"/></svg>
	</a>
	<a class="share__link btn" title="Podziel się na Reddit" href="https://www.reddit.com/submit?url=https%3a%2f%2fmorfikov.github.io%2fpost%2fkonfiguracja-interfejsow-bond-bonding%2f&amp;title=Jak%20skonfigurowa%c4%87%20bonding%20w%20Debian%20linux%20%28eth0%2bwlan0%29" target="_blank" rel="noopener noreferrer" onclick="window.open(this.href, 'Podziel się na Reddit', 'width=832,height=624,toolbar=0,status=0'); return false">
		<svg class="share__icon" aria-label="Reddit" role="img" width="32" height="32" viewBox="0 0 512 512"><path fill-rule="evenodd" d="M375 146a32 32 0 1 0-29-46l-65-13c-5-1-9 2-10 6l-22 97c-45 1-85 15-113 36a42 42 0 1 0-45 69l-1 12c0 65 74 117 166 117s166-52 166-117l-1-11a42 42 0 1 0-44-69c-28-21-67-35-111-37l19-86 58 13a32 32 0 0 0 32 29zM190 353c2-1 4 0 5 1 15 11 38 18 61 18s46-6 61-18a7 7 0 0 1 8 10c-18 14-44 21-69 21-25-1-51-7-69-21a6 6 0 0 1 3-11zm23-44a31 31 0 1 1-44-44 31 31 0 0 1 44 44zm130 0a31 31 0 1 0-44-44 31 31 0 0 0 44 44z"/></svg>
	</a>
	<a class="share__link btn" title="Podziel się na Telegram" href="https://t.me/share/url?url=https%3a%2f%2fmorfikov.github.io%2fpost%2fkonfiguracja-interfejsow-bond-bonding%2f&amp;title=Jak%20skonfigurowa%c4%87%20bonding%20w%20Debian%20linux%20%28eth0%2bwlan0%29" target="_blank" rel="noopener noreferrer" onclick="window.open(this.href, 'Podziel się na Telegram', 'width=800,height=600,toolbar=0,status=0'); return false">
		<svg class="share__icon" aria-label="Telegram" role="img" width="32" height="32" viewBox="0 0 512 512"><path d="M199 404c-11 0-10-4-13-14l-32-105 245-144"/><path d="M199 404c7 0 11-4 16-8l45-43-56-34"/><path d="M204 319l135 99c14 9 26 4 30-14l55-258c5-22-9-32-24-25L79 245c-21 8-21 21-4 26l83 26 190-121c9-5 17-3 11 4"/></svg>
	</a>
	<a class="share__link btn" title="Podziel się na LinkedIn" href="https://www.linkedin.com/shareArticle?mini=true&url=https%3a%2f%2fmorfikov.github.io%2fpost%2fkonfiguracja-interfejsow-bond-bonding%2f&title=Jak%20skonfigurowa%c4%87%20bonding%20w%20Debian%20linux%20%28eth0%2bwlan0%29" target="_blank" rel="noopener noreferrer" onclick="window.open(this.href, 'Podziel się na LinkedIn', 'width=640,height=480,toolbar=0,status=0'); return false">
		<svg class="share__icon" aria-label="LinkedIn" role="img" width="32" height="32" viewBox="0 0 512 512"><circle cx="142" cy="138" r="37"/><path stroke-width="66" d="M244 194v198M142 194v198"/><path d="M276 282c0-20 13-40 36-40 24 0 33 18 33 45v105h66V279c0-61-32-89-76-89-34 0-51 19-59 32"/></svg>
	</a>
	<a class="share__link btn" title="Podziel się na VK" href="https://vk.com/share.php?url=https%3a%2f%2fmorfikov.github.io%2fpost%2fkonfiguracja-interfejsow-bond-bonding%2f" target="_blank" rel="noopener noreferrer" onclick="window.open(this.href, 'Podziel się na VK', 'width=640,height=480,toolbar=0,status=0'); return false">
		<svg class="share__icon" aria-label="VK" role="img" width="32" height="32" viewBox="0 0 512 512"><path d="M274 363c5-1 14-3 14-15 0 0-1-30 13-34s32 29 51 42c14 9 25 8 25 8l51-1s26-2 14-23c-1-2-9-15-39-42-31-30-26-25 11-76 23-31 33-50 30-57-4-7-20-6-20-6h-57c-6 0-9 1-12 6 0 0-9 25-21 45-25 43-35 45-40 42-9-5-7-24-7-37 0-45 7-61-13-65-13-2-59-4-73 3-7 4-11 11-8 12 3 0 12 1 17 7 8 13 9 75-2 81-15 11-53-62-62-86-2-6-5-7-12-9H79c-6 0-15 1-11 13 27 56 83 193 184 192z"/></svg>
	</a>
	<a class="share__link btn" title="Zapisz do Pocket" href="https://getpocket.com/edit?url=https%3a%2f%2fmorfikov.github.io%2fpost%2fkonfiguracja-interfejsow-bond-bonding%2f&amp;title=Jak%20skonfigurowa%c4%87%20bonding%20w%20Debian%20linux%20%28eth0%2bwlan0%29" target="_blank" rel="noopener noreferrer" onclick="window.open(this.href, 'Zapisz do Pocket', 'width=480,height=320,toolbar=0,status=0'); return false">
		<svg class="share__icon" aria-label="Pocket" role="img" width="32" height="32" viewBox="0 0 512 512"><path d="M388.8 88.9H123.2A47.4 47.4 0 0 0 76 136.5v131.9c0 2.4.2 4.8.5 7.2a101.8 101.8 0 0 0-.5 10.6c0 75.6 80.6 137 180 137s180-61.4 180-137c0-3.6-.2-7.1-.5-10.6.3-2.4.5-4.8.5-7.2v-132A47.4 47.4 0 0 0 388.8 89zm-22.4 132.6l-93 93c-4.7 4.6-11 7-17.1 7a23.8 23.8 0 0 1-17.7-7l-93-93a24 24 0 0 1 33.8-33.8l76.6 76.5 76.6-76.5a24 24 0 0 1 33.8 33.8z"/></svg>
	</a>
	<a class="share__link btn" title="Zapisz do Pinterest" href="https://pinterest.com/pin/create/button/?url=https%3a%2f%2fmorfikov.github.io%2fpost%2fkonfiguracja-interfejsow-bond-bonding%2f&description=Jak%20skonfigurowa%c4%87%20bonding%20w%20Debian%20linux%20%28eth0%2bwlan0%29" target="_blank" rel="noopener noreferrer" onclick="window.open(this.href, 'Zapisz do Pocket', 'width=800,height=720,toolbar=0,status=0'); return false">
		<svg class="share__icon" aria-label="Pinterest" role="img" width="32" height="32" viewBox="0 0 512 512"><path d="m265 65c-104 0-157 75-157 138 0 37 14 71 45 83 5 2 10 0 12-5l3-18c2-6 1-7-2-12-9-11-15-24-15-43 0-56 41-106 108-106 60 0 92 37 92 85 0 64-28 116-70 116-23 0-40-18-34-42 6-27 19-57 19-77 0-18-9-34-30-34-24 0-42 25-42 58 0 20 7 34 7 34l-29 120a249 249 0 0 0 2 86l3-1c2-3 31-37 40-72l16-61c7 15 29 28 53 28 71 0 119-64 119-151 0-66-56-126-140-126z"/></svg>
	</a>
</div>
				</footer>
				
			</article>
		</div>
	</main>
	
<div class="authorbox block">
	<div class="author">
		<figure class="author__avatar">
			<img class="author__img" alt="Mikhail Morfikov avatar" src="https://morfikov.github.io/img/avatar.png" height="90" width="90">
		</figure>
		<div class="author__body">
			<div class="author__name">
				Mikhail Morfikov
			</div>
			<div class="author__bio">Po ponad 10 latach spędzonych z różnej maści linux&#39;ami (Debian/Ubuntu, OpenWRT, Android) mogę śmiało powiedzieć, że nie ma rzeczy niemożliwych i problemów, których nie da się rozwiązać. Jedną umiejętność, którą ludzki umysł musi posiąść, by wybrnąć nawet z tej najbardziej nieprzyjemniej sytuacji, to zdolność logicznego rozumowania.</div>
		</div>
	</div>
</div>
	



<div class="related block">
	<h3 class="related__title">Powiązane</h3>
	<ul class="related__list">
		
		<li class="related__item"><a class="related__link" href="https://morfikov.github.io/post/konfiguracja-polaczenia-wifi-pod-debianem/">Konfiguracja połączenia WiFi pod debianem</a></li>
		
		<li class="related__item"><a class="related__link" href="https://morfikov.github.io/post/konfiguracja-interfejsow-ifb-w-linuxie/">Konfiguracja interfejsów IFB w linux&#39;ie</a></li>
		
		<li class="related__item"><a class="related__link" href="https://morfikov.github.io/post/ksztaltowanie-ruchu-sieciowego-traffic-control/">Kształtowanie ruchu sieciowego (Traffic Control)</a></li>
		
		<li class="related__item"><a class="related__link" href="https://morfikov.github.io/post/konfiguracja-interfejsow-imq-w-linuxie/">Konfiguracja interfejsów IMQ w linux&#39;ie</a></li>
		
		<li class="related__item"><a class="related__link" href="https://morfikov.github.io/post/przewidywalne-nazwy-interfejsow-sieciowych/">Przewidywalne nazwy interfejsów sieciowych</a></li>
		
	</ul>
</div>

	

	</div>
	<footer class="footer">
<div class="footer__social social">
		<a class="social__link" target="_blank" rel="noopener noreferrer" href="mailto:morfitronik@gmail.com">
			<svg class="social__icon" aria-label="Email" role="img" width="32" height="32" viewBox="0 0 512 512"><path d="M299 268l124 106c-4 4-10 7-17 7H106c-7 0-13-3-17-7l124-106 43 38 43-38zm-43 13L89 138c4-4 10-7 17-7h300c7 0 13 3 17 7L256 281zm54-23l121-105v208L310 258zM81 153l121 105L81 361V153z"/></svg>
		</a>
		<a class="social__link" target="_blank" rel="noopener noreferrer" href="https://twitter.com/mikhailmorfikov">
			<svg class="social__icon" aria-label="Twitter" role="img" width="32" height="32" viewBox="0 0 512 512"><path d="M437 152a72 72 0 0 1-40 12 72 72 0 0 0 32-40 72 72 0 0 1-45 17 72 72 0 0 0-122 65 200 200 0 0 1-145-74 72 72 0 0 0 22 94 72 72 0 0 1-32-7 72 72 0 0 0 56 69 72 72 0 0 1-32 1 72 72 0 0 0 67 50 200 200 0 0 1-105 29 200 200 0 0 0 309-179 200 200 0 0 0 35-37"/></svg>
		</a>
		<a class="social__link" target="_blank" rel="noopener noreferrer" href="https://t.me/morfikov">
			<svg class="social__icon" aria-label="Telegram" role="img" width="32" height="32" viewBox="0 0 512 512"><path d="M199 404c-11 0-10-4-13-14l-32-105 245-144"/><path d="M199 404c7 0 11-4 16-8l45-43-56-34"/><path d="M204 319l135 99c14 9 26 4 30-14l55-258c5-22-9-32-24-25L79 245c-21 8-21 21-4 26l83 26 190-121c9-5 17-3 11 4"/></svg>
		</a>
		<a class="social__link" target="_blank" rel="noopener noreferrer" href="https://github.com/morfikov">
			<svg class="social__icon" aria-label="Github" role="img" width="32" height="32" viewBox="0 0 512 512"><path d="M335 499c14 0 12 17 12 17H165s-2-17 12-17c13 0 16-6 16-12l-1-50c-71 16-86-28-86-28-12-30-28-37-28-37-24-16 1-16 1-16 26 2 40 26 40 26 22 39 59 28 74 22 2-17 9-28 16-35-57-6-116-28-116-126 0-28 10-51 26-69-3-6-11-32 3-67 0 0 21-7 70 26 42-12 86-12 128 0 49-33 70-26 70-26 14 35 6 61 3 67 16 18 26 41 26 69 0 98-60 120-117 126 10 8 18 24 18 48l-1 70c0 6 3 12 16 12z"/></svg>
		</a>
		<a class="social__link" target="_blank" rel="noopener noreferrer" href="https://gitlab.com/morfikov">
			<svg class="social__icon" aria-label="Gitlab" role="img" width="32" height="32" viewBox="0 0 512 512"><path d="M450 282l-22-67-43-133c-2-7-12-7-14 0l-43.3 133H184.3L141 82c-2-7-12-7-14 0L84 215l-22 67c-2 6 0 13 6 16l188 137 188-137c6-3 8-10 6-16z"/></svg>
		</a>
		<a class="social__link" target="_blank" rel="noopener noreferrer" href="https://stackoverflow.com/users/3015317">
			<svg class="social__icon" aria-label="Stack Overflow" role="img" width="32" height="32" viewBox="0 0 512 512"><g stroke-width="30"><path fill="none" d="M125 297v105h241V297"/><path d="M170 341h150m-144-68l148 31M199 204l136 64m-95-129l115 97M293 89l90 120"/></g></svg>
		</a>
</div>
	<div class="footer__copyright">© 2021 Mikhail Morfikov.
	<span class="footer__copyright-credits">Powered by <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/vimux/binario" rel="nofollow noopener" target="_blank">Binario</a> theme.</span>
	<span class="footer__copyright-cc">
		Except where otherwise noted, content on this site is licensed under a <a rel="license" href="https://creativecommons.org/licenses/by-nc-sa/4.0/">Creative Commons Attribution-NonCommercial-ShareAlike 4.0 International license</a>.
		<img alt="Licencja Creative Commons" style="border-width:0" src="https://licensebuttons.net/l/by-nc-sa/4.0/80x15.png" />
	</span>
	</div>
</footer>

<script src="https://morfikov.github.io/js/menu.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.6/MathJax.js?config=TeX-AMS-MML_HTMLorMML" async></script>

<script src="https://morfikov.github.io/js/custom.js"></script>
<script src="https://unpkg.com/vanilla-back-to-top@7.2.1/dist/vanilla-back-to-top.min.js"></script>
<script>addBackToTop({
  diameter: 40,
  textColor: '#c3c3c3'
})</script>
<script data-goatcounter="https://morfik.goatcounter.com/count"
  async src="//gc.zgo.at/count.js"></script>
</body>
</html>
