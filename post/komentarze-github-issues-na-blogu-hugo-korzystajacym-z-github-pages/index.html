<!DOCTYPE html>
<html class="no-js" lang="pl-PL">
<head>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta name="theme-color" content="#1b1b1b">
	<title>Komentarze GitHub Issues na blogu Hugo korzystającym z GitHub Pages | Morfitronik</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Komentarze GitHub Issues na blogu Hugo korzystającym z GitHub Pages" />
<meta property="og:description" content="Jakiś czas temu Disqus wprowadził reklamy w swoim systemie komentarzy i bez mojej świadomej
oraz dobrowolnej zgody serwował je użytkownikom odwiedzającym mojego bloga. W tamtym czasie nie
miałem za bardzo informacji jak te komentarze zastąpić na statycznej stronie renderowanej przy
pomocy Hugo. Jako, że sporo osób narzekało na to, że tutaj nie ma komentarzy, przez co liczba
maili, które do mnie docierały, była trochę ponad moje moce przerobowe. Postanowiłem zatem
zaimplementować system komentarzy oparty o GitHub Issues, czyli ten mechanizm, z którym
prawdopodobnie każdy z nas miał już styczność zgłaszając bug&#39;a (czy też inne zapytanie) twórcom
swoich ulubionych linux&#39;owych projektów OpenSource. Okazało się, że przy pomocy API GitHub&#39;a można
w dość prosty sposób te komentarze pokazać na blogu ale problem pojawił się w przypadku stron
mających setki czy nawet tysiące wpisów już opublikowanych. Jak zatem na takich blogach wdrożyć
komentarze GitHub&#39;a, tak by przy okazji nie wyskoczyć z okna o 5 nad ranem?" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://morfikov.github.io/post/komentarze-github-issues-na-blogu-hugo-korzystajacym-z-github-pages/" /><meta property="article:section" content="post" />
<meta property="article:published_time" content="2021-10-12T00:15:00+02:00" />
<meta property="article:modified_time" content="2021-10-25T11:30:00+02:00" />

		<meta itemprop="name" content="Komentarze GitHub Issues na blogu Hugo korzystającym z GitHub Pages">
<meta itemprop="description" content="Jakiś czas temu Disqus wprowadził reklamy w swoim systemie komentarzy i bez mojej świadomej
oraz dobrowolnej zgody serwował je użytkownikom odwiedzającym mojego bloga. W tamtym czasie nie
miałem za bardzo informacji jak te komentarze zastąpić na statycznej stronie renderowanej przy
pomocy Hugo. Jako, że sporo osób narzekało na to, że tutaj nie ma komentarzy, przez co liczba
maili, które do mnie docierały, była trochę ponad moje moce przerobowe. Postanowiłem zatem
zaimplementować system komentarzy oparty o GitHub Issues, czyli ten mechanizm, z którym
prawdopodobnie każdy z nas miał już styczność zgłaszając bug&#39;a (czy też inne zapytanie) twórcom
swoich ulubionych linux&#39;owych projektów OpenSource. Okazało się, że przy pomocy API GitHub&#39;a można
w dość prosty sposób te komentarze pokazać na blogu ale problem pojawił się w przypadku stron
mających setki czy nawet tysiące wpisów już opublikowanych. Jak zatem na takich blogach wdrożyć
komentarze GitHub&#39;a, tak by przy okazji nie wyskoczyć z okna o 5 nad ranem?"><meta itemprop="datePublished" content="2021-10-12T00:15:00+02:00" />
<meta itemprop="dateModified" content="2021-10-25T11:30:00+02:00" />
<meta itemprop="wordCount" content="2312">
<meta itemprop="keywords" content="hugo,komentarze,disqus,github,shell,sed,javascript," />
		<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Komentarze GitHub Issues na blogu Hugo korzystającym z GitHub Pages"/>
<meta name="twitter:description" content="Jakiś czas temu Disqus wprowadził reklamy w swoim systemie komentarzy i bez mojej świadomej
oraz dobrowolnej zgody serwował je użytkownikom odwiedzającym mojego bloga. W tamtym czasie nie
miałem za bardzo informacji jak te komentarze zastąpić na statycznej stronie renderowanej przy
pomocy Hugo. Jako, że sporo osób narzekało na to, że tutaj nie ma komentarzy, przez co liczba
maili, które do mnie docierały, była trochę ponad moje moce przerobowe. Postanowiłem zatem
zaimplementować system komentarzy oparty o GitHub Issues, czyli ten mechanizm, z którym
prawdopodobnie każdy z nas miał już styczność zgłaszając bug&#39;a (czy też inne zapytanie) twórcom
swoich ulubionych linux&#39;owych projektów OpenSource. Okazało się, że przy pomocy API GitHub&#39;a można
w dość prosty sposób te komentarze pokazać na blogu ale problem pojawił się w przypadku stron
mających setki czy nawet tysiące wpisów już opublikowanych. Jak zatem na takich blogach wdrożyć
komentarze GitHub&#39;a, tak by przy okazji nie wyskoczyć z okna o 5 nad ranem?"/>

	<link rel="stylesheet" href="https://morfikov.github.io/css/bundle.css">
	<link rel="stylesheet" href="https://morfikov.github.io/css/custom.css">
	<link rel="icon" href="https://morfikov.github.io/icons/16.png" sizes="16x16" type="image/png">
	<link rel="icon" href="https://morfikov.github.io/icons/32.png" sizes="32x32" type="image/png">
	<link rel="manifest" href="https://morfikov.github.io/manifest.json">
		
<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
	ga('create', 'UA-119125303-1', 'auto');
	
	ga('send', 'pageview');
}
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>

</head>
<body>
	<header class="header">
	<a class="logo" href="https://morfikov.github.io/">Morfitronik</a>
	
<nav class="main-nav main-nav--right" role="navigation">
	<button id="toggle" class="main-nav__btn" aria-label="Menu toggle" aria-expanded="false" tabindex="0">
		<div class="main-nav__btn-box" tabindex="-1">
			<svg class="main-nav__icon icon-menu" width="18" height="18" viewBox="0 0 18 18">
				<path class="icon-menu__burger" d="M18 0v3.6H0V0h18zM0 10.8h18V7.2H0v3.6zM0 18h18v-3.6H0V18z"/>
				<path class="icon-menu__x" d="M11.55 9L18 15.45 15.45 18 9 11.55 2.55 18 0 15.45 6.45 9 0 2.55 2.55 0 9 6.45 15.45 0 18 2.55 11.55 9z"/>
			</svg>
		</div>
	</button>
	<ul id="menu" class="main-nav__list">
			<li class="main-nav__item">
				<a class="main-nav__link" href="https://morfikov.github.io/categories/">
					
					<span class="main-nav__text">Kategorie</span>
					
				</a>
			</li>
			<li class="main-nav__item">
				<a class="main-nav__link" href="https://morfikov.github.io/tags/">
					
					<span class="main-nav__text">Tagi</span>
					
				</a>
			</li>
			<li class="main-nav__item">
				<a class="main-nav__link" href="https://morfikov.github.io/page/info-kontakt/">
					
					<span class="main-nav__text">Info/Kontakt</span>
					
				</a>
			</li>
	</ul>
</nav>
</header>
	<div class="primary">
	
	<main class="main">
		
<nav class="breadcrumb block" aria-label="breadcrumb">
	<ol class="breadcrumb__list">
		
		<li class="breadcrumb__item">
			<a class="breadcrumbs__link" href="https://morfikov.github.io/">Home</a>
		</li>
		<li class="breadcrumb__item">
			<a class="breadcrumbs__link" href="https://morfikov.github.io/post/">Posts</a>
		</li>
		<li class="breadcrumbs__item breadcrumb__item--active" aria-current="page">Komentarze GitHub Issues na blogu Hugo korzystającym z GitHub Pages</li>
	</ol>
</nav>
		<div class="single block">
			<article class="entry">
	<div class="entry__meta meta mb">
	<time class="entry__meta-published meta-published" datetime="2021-10-12T00:15:00&#43;02:00">Opublikowano: 12/10/2021</time>
	<time class="entry__meta-lastmod meta-lastmod" datetime="2021-10-25T11:30:00&#43;02:00">Zaktualizowano: 25/10/2021</time>

<span class="entry__meta-categories meta-categories">
	<span class="meta-categories__list">Kategorie:
		<a class="meta-categories__link" href="https://morfikov.github.io/categories/blog/" rel="category">Blog</a>
	</span>
</span>
	</div>
				<h1 class="entry__title">Komentarze GitHub Issues na blogu Hugo korzystającym z GitHub Pages</h1>
<details class="entry__toc toc" >
	<summary class="toc__title">Spis treści</summary>
	<nav id="TableOfContents">
  <ol>
    <li><a href="#github-issues-i-github-pages">GitHub Issues i GitHub Pages</a>
      <ol>
        <li><a href="#konto-na-github-i-potrzeba-logowania">Konto na GitHub i potrzeba logowania</a></li>
        <li><a href="#limitowanie-zapytań">Limitowanie zapytań</a></li>
      </ol>
    </li>
    <li><a href="#jak-wdrożyć-komentarze-github-issues-na-blogu">Jak wdrożyć komentarze GitHub Issues na blogu</a>
      <ol>
        <li><a href="#przerobienie-skórki-bloga">Przerobienie skórki bloga</a></li>
        <li><a href="#stylizowanie-komentarzy">Stylizowanie komentarzy</a></li>
      </ol>
    </li>
    <li><a href="#tworzenie-wątków-pod-konkretne-posty-w-github-issues">Tworzenie wątków pod konkretne posty w GitHub Issues</a>
      <ol>
        <li><a href="#automatyzacja-tworzenia-wątków">Automatyzacja tworzenia wątków</a>
          <ol>
            <li><a href="#token-uwierzytelniający-zapytania-do-api">Token uwierzytelniający zapytania do API</a></li>
          </ol>
        </li>
        <li><a href="#uzupełnianie-postów-numerkami-id">Uzupełnianie postów numerkami ID</a></li>
      </ol>
    </li>
    <li><a href="#test-instalacji-systemu-komentarzy">Test instalacji systemu komentarzy</a></li>
    <li><a href="#dodanie-linku-do-posta-na-blogu-w-wątku-na-github-issues">Dodanie linku do posta na blogu w wątku na GitHub Issues</a></li>
    <li><a href="#podsumowanie">Podsumowanie</a></li>
  </ol>
</nav>
</details>
				<div class="entry__content"><p>Jakiś czas temu <a href="https://morfikov.github.io/post/disqus-wprowadza-reklamy-disqus-musi-odejsc/">Disqus wprowadził reklamy</a> w swoim systemie komentarzy i bez mojej świadomej
oraz dobrowolnej zgody serwował je użytkownikom odwiedzającym mojego bloga. W tamtym czasie nie
miałem za bardzo informacji jak te komentarze zastąpić na statycznej stronie renderowanej przy
pomocy Hugo. Jako, że sporo osób narzekało na to, że tutaj nie ma komentarzy, przez co liczba
maili, które do mnie docierały, była trochę ponad moje moce przerobowe. Postanowiłem zatem
zaimplementować system komentarzy oparty o GitHub Issues, czyli ten mechanizm, z którym
prawdopodobnie każdy z nas miał już styczność zgłaszając bug'a (czy też inne zapytanie) twórcom
swoich ulubionych linux'owych projektów OpenSource. Okazało się, że przy <a href="https://decovar.dev/blog/2019/04/19/github-comments-hugo/">pomocy API GitHub'a można
w dość prosty sposób te komentarze pokazać na blogu</a> ale problem pojawił się w przypadku stron
mających setki czy nawet tysiące wpisów już opublikowanych. Jak zatem na takich blogach wdrożyć
komentarze GitHub'a, tak by przy okazji nie wyskoczyć z okna o 5 nad ranem?</p>
<h2 id="github-issues-i-github-pages">GitHub Issues i GitHub Pages</h2>
<p>Mój blog <a href="https://github.com/morfikov/morfikov.github.io/tree/gh-pages">jest hostowany w infrastrukturze GitHub'a</a> za sprawą rozwiązania zwanego <a href="https://pages.github.com/">GitHub
Pages</a>. W ten sposób nie trzeba opłacać hostingu, serwer jest przedniej klasy, a cały blog jest
utrzymywany w systemie kontroli wersji Git. To rozwiązanie ma jednak jedną wadę, tj. strona
serwowana przez GitHub Pages musi być w formie statycznej, czyli wyrenderowanego kodu HTML, który
jest wrzucany do repozytorium.</p>
<p>Taka statyczność strony rozwiązuje co prawda całą masę problemów natury bezpieczeństw czy to samej
witryny, czy też serwera WWW. Niemniej jednak, statyczność strony odbija się na jej funkcjonalności
i trzeba korzystać z innych mechanizmów, by tą utraconą funkcjonalność przywrócić. Tak jest w
przypadku komentarzy, które są dynamicznym kontentem zamieszczanym pod postami na blogu przez
różnych użytkowników.</p>
<p>Po usunięciu modułu Disqus'a, przez jakiś czas nie było komentarzy tutaj na blogu ale postanowiłem
ten stan rzeczy zmienić przy pomocy mechanizmu GitHub Issues, który można wykorzystać w roli systemu
komentarzy i te komentarze można wyświetlić pod konkretnymi postami na blogu.</p>
<h3 id="konto-na-github-i-potrzeba-logowania">Konto na GitHub i potrzeba logowania</h3>
<p>Komentarze oparte o GitHub Issues nie są pozbawione was. Pierwszy problem dotyczy logowania. Disqus
oferował możliwość komentowania bez identyfikacji autorów komentarzy, przynajmniej patrząc z
perspektywy samego bloga. W przypadku GitHub Issues już takiej możliwości nie będzie. By być w
stanie skomentować jakiś post, trzeba posiadać konto w <a href="https://github.com/">serwisie GitHub</a>. Naturalnie, by
przeglądać komentarze nie trzeba się nigdzie logować czy zakładać konta.</p>
<h3 id="limitowanie-zapytań">Limitowanie zapytań</h3>
<p>Drugi problem z GitHub Issues to limit zapytań, które użytkownicy mogą wysłać do API GitHub'a bez
autoryzacji. Ta wartość to <a href="https://docs.github.com/en/rest/overview/resources-in-the-rest-api#rate-limiting">60 zapytań na godzinę na konkretny adres IP</a>. Nie jest to jakoś
specjalnie dużo, zwłaszcza w przypadku adresów IPv4 i mechanizmu NAT. Niemniej jednak, przy dość
intensywnym przeglądaniu bloga, przydział 60 zapytań może się nam dość szybko wyczerpać i wtedy
przez godzinę nie będziemy widzieć żadnych komentarzy, przynajmniej bezpośrednio na blogu.</p>
<p>Każdy użytkownik może sobie podejrzeć aktualny stan limitów przy pomocy <code>curl</code> , choć trzeba
pamiętać, że każde takie zapytanie zmniejsza ten limit o 1. By podejrzeć ile nam jeszcze zostało
zapytań, trzeba w terminalu wpisać to poniższe polecenie:</p>
<pre><code>$ curl --silent -I https://api.github.com/users/octocat
HTTP/2 200
server: GitHub.com
date: Mon, 11 Oct 2021 17:29:15 GMT
content-type: application/json; charset=utf-8
cache-control: public, max-age=60, s-maxage=60
vary: Accept, Accept-Encoding, Accept, X-Requested-With
etag: W/&quot;1b19b9d45e66326cb555aba937fe333d28ac8927960cfd325afafb7ce517e29e&quot;
last-modified: Wed, 22 Sep 2021 14:27:38 GMT
x-github-media-type: github.v3; format=json
access-control-expose-headers: ETag, Link, Location, Retry-After, X-GitHub-OTP, X-RateLimit-Limit, X-RateLimit-Remaining, X-RateLimit-Used, X-RateLimit-Resource, X-RateLimit-Reset, X-OAuth-Scopes, X-Accepted-OAuth-Scopes, X-Poll-Interval, X-GitHub-Media-Type, Deprecation, Sunset
access-control-allow-origin: *
strict-transport-security: max-age=31536000; includeSubdomains; preload
x-frame-options: deny
x-content-type-options: nosniff
x-xss-protection: 0
referrer-policy: origin-when-cross-origin, strict-origin-when-cross-origin
content-security-policy: default-src 'none'
x-ratelimit-limit: 60
x-ratelimit-remaining: 53
x-ratelimit-reset: 1633973759
x-ratelimit-resource: core
x-ratelimit-used: 7
accept-ranges: bytes
content-length: 1319
x-github-request-id: 07C8:D794:A9BF8:C1C09:61647473
</code></pre>
<p>Mamy tam szereg nagłówków <code>x-ratelimit-*</code> , które informują nas o wielkości przydziału (60), o
licznie wykonanych zapytań (7) i o liczbie pozostałych zapytań (53), które będziemy mogli wykonać
do czasu określonego w <code>x-ratelimit-reset</code> . Widnieje tam co prawda niezbyt czytelna dla człowieka
wartość ale można ją przeliczyć na zrozumiały dla każdego czas:</p>
<pre><code>$ date -d @1633973759
2021-10-11T19:35:59 CEST
</code></pre>
<p>Z chwilą, gdy zegar wybije tę konkretną godzinę, przydział zapytań zostanie zresetowany i znowu
przez godzinę będziemy w stanie wykonać ich 60.</p>
<h2 id="jak-wdrożyć-komentarze-github-issues-na-blogu">Jak wdrożyć komentarze GitHub Issues na blogu</h2>
<p>Do wdrożenia komentarzy GitHub Issues na blogu Hugo hostowanym za sprawą mechanizmu GitHub Pages
będzie nam potrzebny <a href="https://decovar.dev/blog/2019/04/19/github-comments-hugo/">kawałek skryptu JavaScript</a>. Trzeba będzie również przerobić nieco <a href="https://github.com/Vimux/Binario">skórkę
Hugo</a> ale nie będzie to jakiś bardzo inwazyjny proces. Poniżej znajduje się skrypt, który trzeba
zapis w <code>blog/layouts/partials/comments.html</code> :</p>
<pre><code>&lt;script&gt;
  var id = {{ .Params.GHissueID }};

  if (id)
  {
    let url = &quot;https://github.com/morfikov/morfitronik-comments/issues/&quot;.concat(id);
    let api_url = &quot;https://api.github.com/repos/morfikov/morfitronik-comments/issues/&quot;.concat(id, &quot;/comments&quot;);

    var commentsDiv = document.getElementById(&quot;comments&quot;);

    let xhr = new XMLHttpRequest();
    xhr.responseType = &quot;json&quot;;
    xhr.open(&quot;GET&quot;, api_url);
    xhr.setRequestHeader(&quot;Accept&quot;, &quot;application/vnd.github.v3.html+json&quot;);
    xhr.send();

    xhr.onload = function()
    {
      if (xhr.status != 200)
      {
        let errorText = document.createElement(&quot;p&quot;);
        errorText.innerHTML = &quot;&lt;i&gt;Komentarze dla tego postu nie zostały jeszcze otworzone (albo skrypty GitHub'a są wyłączone). Być może też skończył ci się przydział 60/godzinę (limit GitHub'a).&lt;/i&gt;&quot;;
        commentsDiv.appendChild(errorText);
      }
      else
      {
        let comments = xhr.response;

        let mainHeader = document.createElement(&quot;h3&quot;);
        mainHeader.innerHTML = &quot;Komentarze: &quot;.concat(comments.length);
        commentsDiv.appendChild(mainHeader);

        let issueLink = document.createElement(&quot;p&quot;);
        issueLink.innerHTML = &quot;&lt;i&gt;Możesz zostawić komentarz korzystając z &lt;a href='&quot;.concat(url, &quot;'&gt;GitHub issue&lt;/a&gt;.&lt;/i&gt;&quot;);
        commentsDiv.appendChild(issueLink);

        comments.forEach(function(comment)
        {
            const options = { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric', timeZone: 'Europe/Warsaw' };
            options.timeZoneName = 'short';
            let commentContent = document.createElement(&quot;div&quot;);
            commentContent.setAttribute('class', 'gh-comment')
            commentContent.innerHTML = &quot;&quot;.concat(
                &quot;&lt;div class='gh-header'&gt;&quot;,
                  &quot;&lt;img src='&quot;, comment.user.avatar_url, &quot;' /&gt;&quot;,
                  &quot;&lt;div style='margin:auto 0;'&gt;&quot;,
                    &quot;&lt;b&gt;&lt;a class='gh-username' href='&quot;, comment.user.html_url, &quot;'&gt;&quot;, comment.user.login, &quot;&lt;/a&gt;&lt;/b&gt;&quot;,
                    &quot; | &lt;em&gt;&quot;, (new Date(comment.created_at)).toLocaleTimeString('pl-PL', options), &quot;&lt;/em&gt;&quot;,
                  &quot;&lt;/div&gt;&quot;,
                &quot;&lt;/div&gt;&quot;,
                &quot;&lt;div class='gh-body'&gt;&quot;,
                  comment.body_html,
                &quot;&lt;/div&gt;&quot;
            );
            commentsDiv.appendChild(commentContent);
        });
      }
    };

    xhr.onerror = function()
    {
      let errorText = document.createElement(&quot;p&quot;);
      errorText.innerHTML = &quot;&lt;i&gt;Wystąpił jakiś błąd przy ładowaniu komentarzy.&lt;/i&gt;&quot;;
      commentsDiv.appendChild(errorText);
    };
  }
&lt;/script&gt;
</code></pre>
<p>Trzeba w tym skrypcie dostosować parametry <code>url</code> oraz <code>api_url</code> , tak by wskazywały na konkretne
repozytorium w obrębie infrastruktury GitHub'a. Ja dodatkowo zdecydowałem się utworzyć całkiem
osobne repozytorium dla komentarzy i trzymać je niezależnie od repozytorium mojego bloga.</p>
<h3 id="przerobienie-skórki-bloga">Przerobienie skórki bloga</h3>
<p>Druga sprawa, to przerobienie samej skórki Hugo. Nie będziemy tego robić w katalogu
<code>blog/themes/binario/</code> , a jedynie skopiujemy sobie z niego plik <code>layouts/_default/single.html</code> i
umieścimy go pod <code>blog/layouts/_default/single.html</code> . W tym pliku musimy dodać/zmienić wpisy
odpowiedzialne za renderowanie komentarzy, tj. trzeba dodać ten poniższy kod:</p>
<pre><code>&lt;div id=&quot;comments&quot;&gt;
    {{ partial &quot;comments.html&quot; $ }}
&lt;/div&gt;
</code></pre>
<p>Dla większej czytelności, <a href="https://github.com/morfikov/morfikov.github.io/commit/9ac43466b3a4c3bfac639e09f1bbd97cbc854e62">tutaj jest stosowny commit</a>, który te dwie powyższe czynności wdraża
na moim blogu.</p>
<h3 id="stylizowanie-komentarzy">Stylizowanie komentarzy</h3>
<p>By komentarze wyglądały jakoś bardziej przyzwoicie, trzeba je trochę wystylizować przy pomocy
stylów CSS. Wrzucamy zatem do pliku  <code>blog/content/css/custom.css</code> poniższą zawartość:</p>
<pre><code>/* Comments */
#comments {
    margin: .625rem .3125rem;
    padding: .875rem;
    background-color: #2a2a2a;
}

.gh-comment {
  border: 1px solid #515151;
  margin-top: 15px;
}

.gh-header {
  display: flex;
  color: #586069;
  background-color: #111;
  border-bottom: 1px solid #515151;
  padding: .875rem;
  font-size: .850rem;
}

.gh-username {
  color: #f8ae00;
}

.gh-body {
    padding: .875rem;
}

.gh-header &gt; img {
  width: 24px;
  height: 24px;
  margin-right: 0.500rem;
  vertical-align: middle;
}
</code></pre>
<h2 id="tworzenie-wątków-pod-konkretne-posty-w-github-issues">Tworzenie wątków pod konkretne posty w GitHub Issues</h2>
<p>W tym momencie mamy co prawda zaimplementowane już komentarze na blogu Hugo ale każdy z postów,
który ma taki system komentarzy wyświetlić, musi mieć przypisany konkretny numerek ID z wątkiem
otworzonym w GitHub Issues. Gdy rozpoczynamy przygodę z blogowaniem, to bez większego problemu
będziemy w stanie przejść sobie na stronę GitHub'a do naszego repozytorium i wcisnąć przycisk
stworzenia nowego wątku. Taki zabieg wygeneruje jakiś numerek ID, zwykle <code>#1</code> . Ten numerek trzeba
będzie w poście bloga uwzględnić w poniższy sposób (we <a href="https://gohugo.io/content-management/front-matter/">front matter</a>):</p>
<pre><code>---
...
GHissueID: 1
...
---
</code></pre>
<p>Niemniej jednak, mając blisko 600 wpisów, ręczne tworzenie wątku dla każdego z nich na GitHub'ie, a
potem jeszcze uzupełnianie w plikach tekstowych odpowiednich numerów, przekracza moje zdolności
usiedzenia w jednym miejscu bez opcji wyrzucenia komputera przez okno. Dlatego też musiałem to
zadanie rozwiązać w nieco inny sposób.</p>
<h3 id="automatyzacja-tworzenia-wątków">Automatyzacja tworzenia wątków</h3>
<p>Najpierw zautomatyzowałem tworzenie wątków w GitHub Issues przy pomocy poniższego skryptu
shell'owego:</p>
<pre><code>#!/bin/sh

titles=$(egrep -hr ^title\: /media/debuilder/hugo/blog/content/post | sed 's/title\:\ //g' | sed &quot;s/'//g&quot; | sed &quot;s/\&quot;//g&quot;)

echo &quot;${titles}&quot; | while IFS= read -r title
do
    curl \
    --silent  \
    -X POST https://api.github.com/repos/morfikov/morfitronik-comments/issues \
    -H &quot;User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:58.0) Gecko/20100101 Firefox/58.0&quot; \
    -H &quot;Content-Type: text/plain; charset=utf-8&quot; \
    -H &quot;Authorization: token  tutaj_numerek&quot; \
    -H &quot;Accept: application/vnd.github.v3+json&quot; \
    -d '{&quot;title&quot;:&quot;'&quot;$title&quot;'&quot;}' &gt;&gt; output.txt 2&gt;&amp;1

    echo ${title}

    sleep 5
done

exit 0
</code></pre>
<p>Ten skrypt ma na celu stworzenie listy wpisów, które są przechowywane w katalogu
<code>/media/debuilder/hugo/blog/content/post/</code> . Każdy taki plik ma we front matter linijkę z <code>title:</code> .
Po jej wydobyciu za sprawą <code>egrep</code> uzyskamy ścieżkę do pliku, którą trzeba będzie potem podać w
<code>sed</code> . Przy pomocy <code>sed</code> trzeba z tytułów postów pousuwać wszystkie problematyczne znaki, takie
jak np. <code>&quot;</code> czy <code>'</code> . Jeśli nie pozbędziemy się takich znaków, to podczas wykonywania zapytań do
API GitHub'a pojawią się błędy. Później w pętli <code>while</code> podajemy listę tytułów, w oparciu o które
<code>curl</code> utworzy konkretne wątki w repozytorium GitHub'a. Wszystko jest logowane do pliku
<code>output.txt</code> , tak by na zakończenie całego procesu sprawdzić czy nie było jakichś błędów przy
wykonywaniu zapytań.</p>
<p>Za samo tworzenie wątków w GitHub Issues odpowiada <code>-d '{&quot;title&quot;:&quot;'&quot;$title&quot;'&quot;}'</code> , który w polu
tytułu wątku wstawi tytuł posta. Można naturalnie <a href="https://docs.github.com/en/rest/reference/issues">dodać więcej pól</a> ale w zasadzie jedynie
tytuł jest wymagany.</p>
<h4 id="token-uwierzytelniający-zapytania-do-api">Token uwierzytelniający zapytania do API</h4>
<p>Problem z automatycznym tworzeniem wątków jest taki, że bardzo szybko można uderzyć w przydzielony
nam limit 60 zapytań na godzinę. W takim tempie tworzenie tych wszystkich potrzebnych wątków
zajęłoby dosłownie pół dnia. Dlatego też trzeba było ten proces ździebko przyśpieszyć za sprawą
uwierzytelnienia zapytań do API GitHub'a. By te zapytania uwierzytelnić, potrzebny nam jest
odpowiedni token. Token uwierzytelniający możemy wygenerować sobie w ustawieniach konta GitHub'a
(avatar w prawym górnym rogu &gt; Settings):</p>
<p><img loading="lazy" src="https://morfikov.github.io/img/2021/10/001.hugo-github-issues-disqus-comments-token.png" alt="hugo-github-issues-disqus-comments-token"    class="huge"></p>
<p>Z menu po lewej stronie wybieramy <code>Developer settings</code> :</p>
<p><img loading="lazy" src="https://morfikov.github.io/img/2021/10/002.hugo-github-issues-disqus-comments-token.png" alt="hugo-github-issues-disqus-comments-token"    class="huge"></p>
<p>Tutaj najbardziej nas interesuje <code>Personal access tokens</code> . Tworzymy nowy token klikając w przycisk
<code>Generate new token</code> :</p>
<p><img loading="lazy" src="https://morfikov.github.io/img/2021/10/003.hugo-github-issues-disqus-comments-token.png" alt="hugo-github-issues-disqus-comments-token"    class="huge"></p>
<p>Dodajemy jakąś notkę i ustawiamy czas ważności. Określamy uprawnienia w <code>Select scopes</code> i
zaznaczamy tutaj jedynie <code>Access public repositories</code> . Po wygenerowaniu tokenu powinniśmy uzyskać
jego numerek:</p>
<p><img loading="lazy" src="https://morfikov.github.io/img/2021/10/004.hugo-github-issues-disqus-comments-token.png" alt="hugo-github-issues-disqus-comments-token"    class="huge"></p>
<p>Tak uzyskany token trzeba podać <code>curl</code> w nagłówku <code>-H &quot;Authorization: token  tutaj_numerek&quot;</code> . W
ten sposób będziemy mieli do dyspozycji nie 60, a 6000 zapytań na godzinę. Wciąż jednak należy
pamiętać, by tych zapytań nie wykonywać za często, bo uderzymy w <a href="https://docs.github.com/en/rest/overview/resources-in-the-rest-api#secondary-rate-limits">inny limit</a>, co z kolei może
nam bardzo namieszać przy tworzeniu wątków. Dlatego też tworzenie każdego kolejnego wątku odbywa
się co 5 sekund.</p>
<h3 id="uzupełnianie-postów-numerkami-id">Uzupełnianie postów numerkami ID</h3>
<p>Mając utworzone już stosowne wątki w repozytorium GitHub'a, trzeba numery tych wątków wpisać do
postów na blogu. Każdy wątek na GitHub'ie ma określony tytuł i numerek. Trzeba zatem w oparciu o
tytuł uzupełnić numerek w tekstowych plikach postów bloga. Do tego celu również potrzebny nam
będzie skrypt shell'owy:</p>
<pre><code>#!/bin/sh

list=$(egrep -r ^title\: /media/debuilder/hugo/blog/content/post | cut -d: -f1)

issue_number=&quot;5&quot;

echo &quot;${list}&quot; | while IFS= read -r title
do
    sed -i &quot;s@title:@GHissueID:\ $issue_number\ntitle:@g&quot; ${title}
    issue_number=$((issue_number+1))
done

exit 0
</code></pre>
<p>Podobnie jak w przypadku tworzenia wątków w repozytorium GitHub'a, tutaj też musimy pozyskać listę
plików z postami, którym zamierzamy dopisać numerki. Wpisy na tej liście muszą być w dokładnie tej
samej kolejności, w której tworzyliśmy wątki w GitHub Issues. Przy pomocy <code>cut</code> wydobędziemy sobie
ścieżkę do pliku o określonym tytule. Tę ścieżkę trzeba będzie poddać w <code>sed</code> , by dodał on frazę
<code>GHissueID:</code> wraz z odpowiednim numerkiem.</p>
<p>Zmienna <code>$issue_number</code> wskazuje na numerek początkowy, tj. ten od którego trzeba zacząć liczyć. Z
racji, że trochę testów musiałem przeprowadzić, to parę wątków trzeba było utworzyć, po czym
zostały one skasowane. Niemniej jednak, numerki są ciągle zwiększane. Zatem pierwszy wątek
utworzony w GitHub Issues miał u mnie numerek 5. Mając odpowiednią listę plików, dodajemy do nich
numerki zwiększając o jeden z każdym przejściem pętli <code>while</code> . W ten sposób numerki w plikach
postów będą pasować do tych, które są w wątkach w GitHub Issues.</p>
<h2 id="test-instalacji-systemu-komentarzy">Test instalacji systemu komentarzy</h2>
<p>Jeśli wszystkie powyższe kroki przeprowadziliśmy prawidłowo, to system komentarzy oparty o GitHub
Issues powinien nam działać jak należy. Możemy ten stan rzeczy zweryfikować tworząc w pierwszym
lepszym wątku jakieś komentarze. Poniżej przykład:</p>
<p><img loading="lazy" src="https://morfikov.github.io/img/2021/10/005.hugo-github-issues-disqus-comments-test.png" alt="hugo-github-issues-disqus-comments-test"    class="huge"></p>
<p>Teraz przechodzimy na bloga i szukamy tego konkretnego wpisu. Pod nim powinniśmy mieć blok
komentarzy mający dokładnie tę samą zawartość co w GitHub Issue:</p>
<p><img loading="lazy" src="https://morfikov.github.io/img/2021/10/006.hugo-github-issues-disqus-comments-test.png" alt="hugo-github-issues-disqus-comments-test"    class="huge"></p>
<h2 id="dodanie-linku-do-posta-na-blogu-w-wątku-na-github-issues">Dodanie linku do posta na blogu w wątku na GitHub Issues</h2>
<p>Wyżej zostało wspomniane, że do utworzenia nowego wątku w GitHub Issues wymagany jest w zasadzie
jedynie sam tytuł wątku. Można jednak pokusić się jeszcze o dodatnie linku do postu bloga wewnątrz
tak stworzonego wątku w GitHub Issues. W ten sposób ktoś, kto znajdzie wątek komentarzy, będzie
wiedział gdzie znajduje się komentowany wpis.</p>
<p>Jako, że ja wcześniej już utworzyłem wszystkie wątki, to muszę nieco inaczej sobie z tym zdaniem
dodania linków poradzić. Potrzebny będzie kolejny skrypt:</p>
<pre><code>#!/bin/sh

posts=$(egrep -r ^GHissueID /media/debuilder/hugo/blog/content/post)

echo &quot;${posts}&quot; | while IFS= read -r post
do

id=$(echo $post | cut -d&quot; &quot; -f 2)
url=$(echo $post | cut -d&quot;:&quot; -f 1 | cut -d&quot;/&quot; -f 10 | sed 's@.md@@g')

body=&quot;Komentarze dla postu: https://morfikov.github.io/post/$url/&quot;

 curl \
    --silent  \
    -X PATCH https://api.github.com/repos/morfikov/morfitronik-comments/issues/$id \
    -H &quot;User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:58.0) Gecko/20100101 Firefox/58.0&quot; \
    -H &quot;Content-Type: text/plain; charset=utf-8&quot; \
    -H &quot;Authorization: token  tutaj_numerek&quot; \
    -H &quot;Accept: application/vnd.github.v3+json&quot; \
    -d '{&quot;body&quot;:&quot;'&quot;$body&quot;'&quot;}' &gt;&gt; output.txt 2&gt;&amp;1

echo &quot;$body : $id&quot;

sleep 5

done
</code></pre>
<p>U mnie na blogu po frazie <code>https://morfikov.github.io/post/</code> jest podawana nazwa pliku
sformatowanego językiem Markdown. Ten powyższy skrypt tworzy listę postów w oparciu o <code>GHissueID</code>
(nadany wcześniej) . Później w zmiennej <code>$id</code> znajdzie się numerek wątku w GitHub Issues, a w
zmiennej <code>$url</code> nazwa pliku bez końcówki <code>.md</code> . Za sprawą <code>-d '{&quot;body&quot;:&quot;'&quot;$body&quot;'&quot;}'</code> oraz
wcześniej skonstruowanej zmiennej <code>$body</code> odpowiednio uzupełnimy sobie treść pierwszego komentarza
(tego już utworzonego, który był pusty). Cokolwiek było w tym pierwszy komentarzu, zostanie
przepisane frazą, którą tutaj podamy.</p>
<h2 id="podsumowanie">Podsumowanie</h2>
<p>W taki oto prosty sposób przy pomocy mechanizmu GitHub Issues udało się nam zaimplementować system
komentarzy na naszym blogu Hugo. Jednocześnie możemy się pozbyć Disqus'a i jego wrednego podejścia
w kwestii serwowania ludziom reklam. Ilekroć ktoś tylko doda jakiś post w stosownym wątku w GitHub
Issues, to pojawi się on także pod wpisem u nas na blogu. Ten nowy system komentarzy jest też
sprzęgnięty ze wszystkimi udogodnieniami, które zapewnia GitHub. W ten sposób użytkownicy
komentujący wpisy na blogu mogą być powiadamiani o nowych odpowiedziach via mail/rss, jeśli
naturalnie w opcjach wątku zaznaczyli sobie stosowne opcje.</p></div>
				
				<footer class="entry__footer">
					
<div class="entry__tags">
			<a class="entry__tag btn" href="https://morfikov.github.io/tags/hugo/">hugo</a>
			<a class="entry__tag btn" href="https://morfikov.github.io/tags/komentarze/">komentarze</a>
			<a class="entry__tag btn" href="https://morfikov.github.io/tags/disqus/">disqus</a>
			<a class="entry__tag btn" href="https://morfikov.github.io/tags/github/">github</a>
			<a class="entry__tag btn" href="https://morfikov.github.io/tags/shell/">shell</a>
			<a class="entry__tag btn" href="https://morfikov.github.io/tags/sed/">sed</a>
			<a class="entry__tag btn" href="https://morfikov.github.io/tags/javascript/">javascript</a>
</div>
					
<div class="entry__share share">
	<a class="share__link btn" title="Podziel się na Facebook" href="https://www.facebook.com/sharer/sharer.php?u=https%3a%2f%2fmorfikov.github.io%2fpost%2fkomentarze-github-issues-na-blogu-hugo-korzystajacym-z-github-pages%2f" target="_blank" rel="noopener noreferrer" onclick="window.open(this.href, 'Podziel się na Facebook', 'width=800,height=600,toolbar=0,status=0'); return false">
		<svg class="share__icon" aria-label="Facebook" role="img" width="32" height="32" viewBox="0 0 512 512"><path d="M330 512V322h64l9-74h-73v-47c0-22 6-36 37-36h39V99c-7-1-30-3-57-3-57 0-95 34-95 98v54h-64v74h64v190z"/></svg>
	</a>
	<a class="share__link btn" title="Podziel się na Twitter" href="https://twitter.com/intent/tweet/?url=https%3a%2f%2fmorfikov.github.io%2fpost%2fkomentarze-github-issues-na-blogu-hugo-korzystajacym-z-github-pages%2f&amp;text=Komentarze%20GitHub%20Issues%20na%20blogu%20Hugo%20korzystaj%c4%85cym%20z%20GitHub%20Pages" target="_blank" rel="noopener noreferrer" onclick="window.open(this.href, 'Podziel się na Twitter', 'width=800,height=450,resizable=yes,toolbar=0,status=0'); return false">
		<svg class="share__icon" aria-label="Twitter" role="img" width="32" height="32" viewBox="0 0 512 512"><path d="M437 152a72 72 0 0 1-40 12 72 72 0 0 0 32-40 72 72 0 0 1-45 17 72 72 0 0 0-122 65 200 200 0 0 1-145-74 72 72 0 0 0 22 94 72 72 0 0 1-32-7 72 72 0 0 0 56 69 72 72 0 0 1-32 1 72 72 0 0 0 67 50 200 200 0 0 1-105 29 200 200 0 0 0 309-179 200 200 0 0 0 35-37"/></svg>
	</a>
	<a class="share__link btn" title="Podziel się na Reddit" href="https://www.reddit.com/submit?url=https%3a%2f%2fmorfikov.github.io%2fpost%2fkomentarze-github-issues-na-blogu-hugo-korzystajacym-z-github-pages%2f&amp;title=Komentarze%20GitHub%20Issues%20na%20blogu%20Hugo%20korzystaj%c4%85cym%20z%20GitHub%20Pages" target="_blank" rel="noopener noreferrer" onclick="window.open(this.href, 'Podziel się na Reddit', 'width=832,height=624,toolbar=0,status=0'); return false">
		<svg class="share__icon" aria-label="Reddit" role="img" width="32" height="32" viewBox="0 0 512 512"><path fill-rule="evenodd" d="M375 146a32 32 0 1 0-29-46l-65-13c-5-1-9 2-10 6l-22 97c-45 1-85 15-113 36a42 42 0 1 0-45 69l-1 12c0 65 74 117 166 117s166-52 166-117l-1-11a42 42 0 1 0-44-69c-28-21-67-35-111-37l19-86 58 13a32 32 0 0 0 32 29zM190 353c2-1 4 0 5 1 15 11 38 18 61 18s46-6 61-18a7 7 0 0 1 8 10c-18 14-44 21-69 21-25-1-51-7-69-21a6 6 0 0 1 3-11zm23-44a31 31 0 1 1-44-44 31 31 0 0 1 44 44zm130 0a31 31 0 1 0-44-44 31 31 0 0 0 44 44z"/></svg>
	</a>
	<a class="share__link btn" title="Podziel się na Telegram" href="https://t.me/share/url?url=https%3a%2f%2fmorfikov.github.io%2fpost%2fkomentarze-github-issues-na-blogu-hugo-korzystajacym-z-github-pages%2f&amp;title=Komentarze%20GitHub%20Issues%20na%20blogu%20Hugo%20korzystaj%c4%85cym%20z%20GitHub%20Pages" target="_blank" rel="noopener noreferrer" onclick="window.open(this.href, 'Podziel się na Telegram', 'width=800,height=600,toolbar=0,status=0'); return false">
		<svg class="share__icon" aria-label="Telegram" role="img" width="32" height="32" viewBox="0 0 512 512"><path d="M199 404c-11 0-10-4-13-14l-32-105 245-144"/><path d="M199 404c7 0 11-4 16-8l45-43-56-34"/><path d="M204 319l135 99c14 9 26 4 30-14l55-258c5-22-9-32-24-25L79 245c-21 8-21 21-4 26l83 26 190-121c9-5 17-3 11 4"/></svg>
	</a>
	<a class="share__link btn" title="Podziel się na LinkedIn" href="https://www.linkedin.com/shareArticle?mini=true&url=https%3a%2f%2fmorfikov.github.io%2fpost%2fkomentarze-github-issues-na-blogu-hugo-korzystajacym-z-github-pages%2f&title=Komentarze%20GitHub%20Issues%20na%20blogu%20Hugo%20korzystaj%c4%85cym%20z%20GitHub%20Pages" target="_blank" rel="noopener noreferrer" onclick="window.open(this.href, 'Podziel się na LinkedIn', 'width=640,height=480,toolbar=0,status=0'); return false">
		<svg class="share__icon" aria-label="LinkedIn" role="img" width="32" height="32" viewBox="0 0 512 512"><circle cx="142" cy="138" r="37"/><path stroke-width="66" d="M244 194v198M142 194v198"/><path d="M276 282c0-20 13-40 36-40 24 0 33 18 33 45v105h66V279c0-61-32-89-76-89-34 0-51 19-59 32"/></svg>
	</a>
	<a class="share__link btn" title="Podziel się na VK" href="https://vk.com/share.php?url=https%3a%2f%2fmorfikov.github.io%2fpost%2fkomentarze-github-issues-na-blogu-hugo-korzystajacym-z-github-pages%2f" target="_blank" rel="noopener noreferrer" onclick="window.open(this.href, 'Podziel się na VK', 'width=640,height=480,toolbar=0,status=0'); return false">
		<svg class="share__icon" aria-label="VK" role="img" width="32" height="32" viewBox="0 0 512 512"><path d="M274 363c5-1 14-3 14-15 0 0-1-30 13-34s32 29 51 42c14 9 25 8 25 8l51-1s26-2 14-23c-1-2-9-15-39-42-31-30-26-25 11-76 23-31 33-50 30-57-4-7-20-6-20-6h-57c-6 0-9 1-12 6 0 0-9 25-21 45-25 43-35 45-40 42-9-5-7-24-7-37 0-45 7-61-13-65-13-2-59-4-73 3-7 4-11 11-8 12 3 0 12 1 17 7 8 13 9 75-2 81-15 11-53-62-62-86-2-6-5-7-12-9H79c-6 0-15 1-11 13 27 56 83 193 184 192z"/></svg>
	</a>
	<a class="share__link btn" title="Zapisz do Pocket" href="https://getpocket.com/edit?url=https%3a%2f%2fmorfikov.github.io%2fpost%2fkomentarze-github-issues-na-blogu-hugo-korzystajacym-z-github-pages%2f&amp;title=Komentarze%20GitHub%20Issues%20na%20blogu%20Hugo%20korzystaj%c4%85cym%20z%20GitHub%20Pages" target="_blank" rel="noopener noreferrer" onclick="window.open(this.href, 'Zapisz do Pocket', 'width=480,height=320,toolbar=0,status=0'); return false">
		<svg class="share__icon" aria-label="Pocket" role="img" width="32" height="32" viewBox="0 0 512 512"><path d="M388.8 88.9H123.2A47.4 47.4 0 0 0 76 136.5v131.9c0 2.4.2 4.8.5 7.2a101.8 101.8 0 0 0-.5 10.6c0 75.6 80.6 137 180 137s180-61.4 180-137c0-3.6-.2-7.1-.5-10.6.3-2.4.5-4.8.5-7.2v-132A47.4 47.4 0 0 0 388.8 89zm-22.4 132.6l-93 93c-4.7 4.6-11 7-17.1 7a23.8 23.8 0 0 1-17.7-7l-93-93a24 24 0 0 1 33.8-33.8l76.6 76.5 76.6-76.5a24 24 0 0 1 33.8 33.8z"/></svg>
	</a>
	<a class="share__link btn" title="Zapisz do Pinterest" href="https://pinterest.com/pin/create/button/?url=https%3a%2f%2fmorfikov.github.io%2fpost%2fkomentarze-github-issues-na-blogu-hugo-korzystajacym-z-github-pages%2f&description=Komentarze%20GitHub%20Issues%20na%20blogu%20Hugo%20korzystaj%c4%85cym%20z%20GitHub%20Pages" target="_blank" rel="noopener noreferrer" onclick="window.open(this.href, 'Zapisz do Pocket', 'width=800,height=720,toolbar=0,status=0'); return false">
		<svg class="share__icon" aria-label="Pinterest" role="img" width="32" height="32" viewBox="0 0 512 512"><path d="m265 65c-104 0-157 75-157 138 0 37 14 71 45 83 5 2 10 0 12-5l3-18c2-6 1-7-2-12-9-11-15-24-15-43 0-56 41-106 108-106 60 0 92 37 92 85 0 64-28 116-70 116-23 0-40-18-34-42 6-27 19-57 19-77 0-18-9-34-30-34-24 0-42 25-42 58 0 20 7 34 7 34l-29 120a249 249 0 0 0 2 86l3-1c2-3 31-37 40-72l16-61c7 15 29 28 53 28 71 0 119-64 119-151 0-66-56-126-140-126z"/></svg>
	</a>
</div>
				</footer>
				
			</article>
		</div>
	</main>
	
<div class="authorbox block">
	<div class="author">
		<figure class="author__avatar">
			<img class="author__img" alt="Mikhail Morfikov avatar" src="https://morfikov.github.io/img/avatar.png" height="90" width="90">
		</figure>
		<div class="author__body">
			<div class="author__name">
				Mikhail Morfikov
			</div>
			<div class="author__bio">Po ponad 10 latach spędzonych z różnej maści linux&#39;ami (Debian/Ubuntu, OpenWRT, Android) mogę śmiało powiedzieć, że nie ma rzeczy niemożliwych i problemów, których nie da się rozwiązać. Jedną umiejętność, którą ludzki umysł musi posiąść, by wybrnąć nawet z tej najbardziej nieprzyjemniej sytuacji, to zdolność logicznego rozumowania.</div>
		</div>
	</div>
</div>
	



<div class="related block">
	<h3 class="related__title">Powiązane</h3>
	<ul class="related__list">
		
		<li class="related__item"><a class="related__link" href="https://morfikov.github.io/post/disqus-wprowadza-reklamy-disqus-musi-odejsc/">Disqus wprowadza reklamy, Disqus musi odejść</a></li>
		
		<li class="related__item"><a class="related__link" href="https://morfikov.github.io/post/migracja-bloga-z-jekyll-na-hugo-i-jego-publikacja-w-github-pages/">Migracja bloga z Jekyll na Hugo i jego publikacja w GitHub Pages</a></li>
		
		<li class="related__item"><a class="related__link" href="https://morfikov.github.io/post/implementacja-kluczy-gpg-githubie/">Implementacja kluczy GPG na github&#39;ie</a></li>
		
	</ul>
</div>

	<div id="comments">
		<script src="https://utteranc.es/client.js"
        repo="morfikov/morfitronik-comments"
        issue-term="og:title"
        theme="github-dark"
        crossorigin="anonymous"
        async>
</script>

	</div>

	</div>
	<footer class="footer">
<div class="footer__social social">
		<a class="social__link" target="_blank" rel="noopener noreferrer" href="mailto:morfitronik@gmail.com">
			<svg class="social__icon" aria-label="Email" role="img" width="32" height="32" viewBox="0 0 512 512"><path d="M299 268l124 106c-4 4-10 7-17 7H106c-7 0-13-3-17-7l124-106 43 38 43-38zm-43 13L89 138c4-4 10-7 17-7h300c7 0 13 3 17 7L256 281zm54-23l121-105v208L310 258zM81 153l121 105L81 361V153z"/></svg>
		</a>
		<a class="social__link" target="_blank" rel="noopener noreferrer" href="https://twitter.com/mikhailmorfikov">
			<svg class="social__icon" aria-label="Twitter" role="img" width="32" height="32" viewBox="0 0 512 512"><path d="M437 152a72 72 0 0 1-40 12 72 72 0 0 0 32-40 72 72 0 0 1-45 17 72 72 0 0 0-122 65 200 200 0 0 1-145-74 72 72 0 0 0 22 94 72 72 0 0 1-32-7 72 72 0 0 0 56 69 72 72 0 0 1-32 1 72 72 0 0 0 67 50 200 200 0 0 1-105 29 200 200 0 0 0 309-179 200 200 0 0 0 35-37"/></svg>
		</a>
		<a class="social__link" target="_blank" rel="noopener noreferrer" href="https://t.me/morfikov">
			<svg class="social__icon" aria-label="Telegram" role="img" width="32" height="32" viewBox="0 0 512 512"><path d="M199 404c-11 0-10-4-13-14l-32-105 245-144"/><path d="M199 404c7 0 11-4 16-8l45-43-56-34"/><path d="M204 319l135 99c14 9 26 4 30-14l55-258c5-22-9-32-24-25L79 245c-21 8-21 21-4 26l83 26 190-121c9-5 17-3 11 4"/></svg>
		</a>
		<a class="social__link" target="_blank" rel="noopener noreferrer" href="https://github.com/morfikov">
			<svg class="social__icon" aria-label="Github" role="img" width="32" height="32" viewBox="0 0 512 512"><path d="M335 499c14 0 12 17 12 17H165s-2-17 12-17c13 0 16-6 16-12l-1-50c-71 16-86-28-86-28-12-30-28-37-28-37-24-16 1-16 1-16 26 2 40 26 40 26 22 39 59 28 74 22 2-17 9-28 16-35-57-6-116-28-116-126 0-28 10-51 26-69-3-6-11-32 3-67 0 0 21-7 70 26 42-12 86-12 128 0 49-33 70-26 70-26 14 35 6 61 3 67 16 18 26 41 26 69 0 98-60 120-117 126 10 8 18 24 18 48l-1 70c0 6 3 12 16 12z"/></svg>
		</a>
		<a class="social__link" target="_blank" rel="noopener noreferrer" href="https://gitlab.com/morfikov">
			<svg class="social__icon" aria-label="Gitlab" role="img" width="32" height="32" viewBox="0 0 512 512"><path d="M450 282l-22-67-43-133c-2-7-12-7-14 0l-43.3 133H184.3L141 82c-2-7-12-7-14 0L84 215l-22 67c-2 6 0 13 6 16l188 137 188-137c6-3 8-10 6-16z"/></svg>
		</a>
		<a class="social__link" target="_blank" rel="noopener noreferrer" href="https://stackoverflow.com/users/3015317">
			<svg class="social__icon" aria-label="Stack Overflow" role="img" width="32" height="32" viewBox="0 0 512 512"><g stroke-width="30"><path fill="none" d="M125 297v105h241V297"/><path d="M170 341h150m-144-68l148 31M199 204l136 64m-95-129l115 97M293 89l90 120"/></g></svg>
		</a>
</div>
	<div class="footer__copyright">© 2023 Mikhail Morfikov.
	<span class="footer__copyright-credits">Powered by <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/vimux/binario" rel="nofollow noopener" target="_blank">Binario</a> theme.</span>
	<span class="footer__copyright-cc">
		<div class="license-icons">
			<a rel="license" href="https://creativecommons.org/licenses/by-nc-sa/4.0/" title="Creative Commons Attribution 4.0 International license">
<i class="icon-cc"></i><i class="icon-cc-by"></i><i class="icon-cc-nc"></i><i class="icon-cc-sa"></i>
</a>
		</div>
		Except where otherwise noted, content on this site is licensed under a <a rel="license" href="https://creativecommons.org/licenses/by-nc-sa/4.0/">Creative Commons Attribution-NonCommercial-ShareAlike 4.0 International license</a>.
	</span>
	</div>
</footer>

<script src="https://morfikov.github.io/js/menu.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.6/MathJax.js?config=TeX-AMS-MML_HTMLorMML" async></script>

<script src="https://morfikov.github.io/js/custom.js"></script>
<script src="https://unpkg.com/vanilla-back-to-top@7.2.1/dist/vanilla-back-to-top.min.js"></script>
<script>addBackToTop({
  diameter: 40,
  textColor: '#c3c3c3'
})</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/medium-zoom/1.0.6/medium-zoom.min.js" integrity="sha512-N9IJRoc3LaP3NDoiGkcPa4gG94kapGpaA5Zq9/Dr04uf5TbLFU5q0o8AbRhLKUUlp8QFS2u7S+Yti0U7QtuZvQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
<script>
const images = Array.from(document.querySelectorAll(".entry__content img"));
images.forEach(img => {
  mediumZoom(img, {
    margin: 0,  
    scrollOffset: 40,  
    container: null,  
    template: null,  
    background: 'rgba(0, 0, 0, 0.8)'
  });
});
</script>
</body>
</html>
