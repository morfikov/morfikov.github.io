<!DOCTYPE html>
<html class="no-js" lang="pl-PL">
<head>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta name="theme-color" content="#1b1b1b">
	<title>Jak odblokować bootloader w Xiaomi Redmi 9 (galahad/lancelot) | Morfitronik</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Jak odblokować bootloader w Xiaomi Redmi 9 (galahad/lancelot)" />
<meta property="og:description" content="Jakiś czas temu wpadł w moje łapki smartfon Xiaomi Redmi 9 (galahad albo lancelot, bo w różnych
częściach systemu jest to inaczej określone), który miał preinstalowanego Androida 10 oraz MIUI 11.
Przez parę miesięcy używania telefonu, dostał on dwa albo trzy większe update całego ROM&#39;u,
wliczając w to aktualizację MIUI do 12.0.1 ze stanem zabezpieczeń na dzień 2021-01-05. Zatem
ostatnia aktualizacja zabezpieczeń tego telefonu miała miejsce zaraz na początku Stycznia. Od tego
czasu cisza. Niby w przypadku tego modelu telefonu aktualizacje miały być wydawane co trzy
miesiące do roku 2023 ale najwyraźniej coś jest nie tak i urządzenie od ponad pół roku nie
dostało żadnych aktualizacji. Niby pod tym linkiem można wyczytać informację, że planowana jest
aktualizacja do Androida 11 ale prawdę mówiąc jestem nieco zawiedziony opieszałością Xiaomi. Tak
się złożyło, że przez przypadek trafiłem w to miejsce na forum XDA, gdzie z kolei znalazłem
m.in. ten wątek. Zatem alternatywne ROM&#39;y na mój smartfon istnieją i tego faktu nie byłem
świadomy, bo w zeszłym roku jeszcze nic nie szło znaleźć. Postanowiłem zatem odblokować bootloader
w swoim Xiaomi Redmi 9 i spróbować wgrać na niego TWRP i jeden (a może nawet kilka) przykładowy ROM
na bazie AOSP/LineageOS. Proces odblokowania bootloader&#39;a w urządzeniach Xiaomi nie wymaga zbytnio
wysiłku i da się go przeprowadzić w całości pod linux korzystając czy to z XiaoMiTool, czy też przy
pomocy maszyn wirtualnych na bazie QEMU/KVM. Ten proces nie do końca jest dla każdego taki
oczywisty, dlatego postanowiłem go dokładnie opisać." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://morfikov.github.io/post/jak-odblokowac-bootloader-w-xiaomi-redmi-9-galahad-lancelot/" /><meta property="article:section" content="post" />
<meta property="article:published_time" content="2021-08-27T22:26:00&#43;02:00" />
<meta property="article:modified_time" content="2021-08-27T22:26:00&#43;02:00" />


		<meta itemprop="name" content="Jak odblokować bootloader w Xiaomi Redmi 9 (galahad/lancelot)">
<meta itemprop="description" content="Jakiś czas temu wpadł w moje łapki smartfon Xiaomi Redmi 9 (galahad albo lancelot, bo w różnych
częściach systemu jest to inaczej określone), który miał preinstalowanego Androida 10 oraz MIUI 11.
Przez parę miesięcy używania telefonu, dostał on dwa albo trzy większe update całego ROM&#39;u,
wliczając w to aktualizację MIUI do 12.0.1 ze stanem zabezpieczeń na dzień 2021-01-05. Zatem
ostatnia aktualizacja zabezpieczeń tego telefonu miała miejsce zaraz na początku Stycznia. Od tego
czasu cisza. Niby w przypadku tego modelu telefonu aktualizacje miały być wydawane co trzy
miesiące do roku 2023 ale najwyraźniej coś jest nie tak i urządzenie od ponad pół roku nie
dostało żadnych aktualizacji. Niby pod tym linkiem można wyczytać informację, że planowana jest
aktualizacja do Androida 11 ale prawdę mówiąc jestem nieco zawiedziony opieszałością Xiaomi. Tak
się złożyło, że przez przypadek trafiłem w to miejsce na forum XDA, gdzie z kolei znalazłem
m.in. ten wątek. Zatem alternatywne ROM&#39;y na mój smartfon istnieją i tego faktu nie byłem
świadomy, bo w zeszłym roku jeszcze nic nie szło znaleźć. Postanowiłem zatem odblokować bootloader
w swoim Xiaomi Redmi 9 i spróbować wgrać na niego TWRP i jeden (a może nawet kilka) przykładowy ROM
na bazie AOSP/LineageOS. Proces odblokowania bootloader&#39;a w urządzeniach Xiaomi nie wymaga zbytnio
wysiłku i da się go przeprowadzić w całości pod linux korzystając czy to z XiaoMiTool, czy też przy
pomocy maszyn wirtualnych na bazie QEMU/KVM. Ten proces nie do końca jest dla każdego taki
oczywisty, dlatego postanowiłem go dokładnie opisać."><meta itemprop="datePublished" content="2021-08-27T22:26:00&#43;02:00" />
<meta itemprop="dateModified" content="2021-08-27T22:26:00&#43;02:00" />
<meta itemprop="wordCount" content="4571">
<meta itemprop="keywords" content="xiaomi,redmi-9,xiaomitool,debian,kvm,qemu,bootloader,smartfon," />
		<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Jak odblokować bootloader w Xiaomi Redmi 9 (galahad/lancelot)"/>
<meta name="twitter:description" content="Jakiś czas temu wpadł w moje łapki smartfon Xiaomi Redmi 9 (galahad albo lancelot, bo w różnych
częściach systemu jest to inaczej określone), który miał preinstalowanego Androida 10 oraz MIUI 11.
Przez parę miesięcy używania telefonu, dostał on dwa albo trzy większe update całego ROM&#39;u,
wliczając w to aktualizację MIUI do 12.0.1 ze stanem zabezpieczeń na dzień 2021-01-05. Zatem
ostatnia aktualizacja zabezpieczeń tego telefonu miała miejsce zaraz na początku Stycznia. Od tego
czasu cisza. Niby w przypadku tego modelu telefonu aktualizacje miały być wydawane co trzy
miesiące do roku 2023 ale najwyraźniej coś jest nie tak i urządzenie od ponad pół roku nie
dostało żadnych aktualizacji. Niby pod tym linkiem można wyczytać informację, że planowana jest
aktualizacja do Androida 11 ale prawdę mówiąc jestem nieco zawiedziony opieszałością Xiaomi. Tak
się złożyło, że przez przypadek trafiłem w to miejsce na forum XDA, gdzie z kolei znalazłem
m.in. ten wątek. Zatem alternatywne ROM&#39;y na mój smartfon istnieją i tego faktu nie byłem
świadomy, bo w zeszłym roku jeszcze nic nie szło znaleźć. Postanowiłem zatem odblokować bootloader
w swoim Xiaomi Redmi 9 i spróbować wgrać na niego TWRP i jeden (a może nawet kilka) przykładowy ROM
na bazie AOSP/LineageOS. Proces odblokowania bootloader&#39;a w urządzeniach Xiaomi nie wymaga zbytnio
wysiłku i da się go przeprowadzić w całości pod linux korzystając czy to z XiaoMiTool, czy też przy
pomocy maszyn wirtualnych na bazie QEMU/KVM. Ten proces nie do końca jest dla każdego taki
oczywisty, dlatego postanowiłem go dokładnie opisać."/>

	<link rel="stylesheet" href="https://morfikov.github.io/css/bundle.css">
	<link rel="stylesheet" href="https://morfikov.github.io/css/custom.css">
	<link rel="icon" href="https://morfikov.github.io/icons/16.png" sizes="16x16" type="image/png">
	<link rel="icon" href="https://morfikov.github.io/icons/32.png" sizes="32x32" type="image/png">
	<link rel="manifest" href="https://morfikov.github.io/manifest.json">
		
</head>
<body>
	<header class="header">
	<a class="logo" href="https://morfikov.github.io/">Morfitronik</a>
	
<nav class="main-nav main-nav--right" role="navigation">
	<button id="toggle" class="main-nav__btn" aria-label="Menu toggle" aria-expanded="false" tabindex="0">
		<div class="main-nav__btn-box" tabindex="-1">
			<svg class="main-nav__icon icon-menu" width="18" height="18" viewBox="0 0 18 18">
				<path class="icon-menu__burger" d="M18 0v3.6H0V0h18zM0 10.8h18V7.2H0v3.6zM0 18h18v-3.6H0V18z"/>
				<path class="icon-menu__x" d="M11.55 9L18 15.45 15.45 18 9 11.55 2.55 18 0 15.45 6.45 9 0 2.55 2.55 0 9 6.45 15.45 0 18 2.55 11.55 9z"/>
			</svg>
		</div>
	</button>
	<ul id="menu" class="main-nav__list">
			<li class="main-nav__item">
				<a class="main-nav__link" href="https://morfikov.github.io/categories/">
					
					<span class="main-nav__text">Kategorie</span>
					
				</a>
			</li>
			<li class="main-nav__item">
				<a class="main-nav__link" href="https://morfikov.github.io/tags/">
					
					<span class="main-nav__text">Tagi</span>
					
				</a>
			</li>
			<li class="main-nav__item">
				<a class="main-nav__link" href="https://morfikov.github.io/page/info-kontakt/">
					
					<span class="main-nav__text">Info/Kontakt</span>
					
				</a>
			</li>
	</ul>
</nav>
</header>
	<div class="primary">
	
	<main class="main">
		
<nav class="breadcrumb block" aria-label="breadcrumb">
	<ol class="breadcrumb__list">
		
		<li class="breadcrumb__item">
			<a class="breadcrumbs__link" href="https://morfikov.github.io/">Home</a>
		</li>
		<li class="breadcrumb__item">
			<a class="breadcrumbs__link" href="https://morfikov.github.io/post/">Posts</a>
		</li>
		<li class="breadcrumbs__item breadcrumb__item--active" aria-current="page">Jak odblokować bootloader w Xiaomi Redmi 9 (galahad/lancelot)</li>
	</ol>
</nav>
		<div class="single block">
			<article class="entry">
	<div class="entry__meta meta mb">
	<time class="entry__meta-published meta-published" datetime="2021-08-27T22:26:00&#43;02:00">Opublikowano: 27/08/2021</time>

<span class="entry__meta-categories meta-categories">
	<span class="meta-categories__list">Kategorie:
		<a class="meta-categories__link" href="https://morfikov.github.io/categories/android/" rel="category">Android</a>
	</span>
</span>
	</div>
				<h1 class="entry__title">Jak odblokować bootloader w Xiaomi Redmi 9 (galahad/lancelot)</h1>
<details class="entry__toc toc" >
	<summary class="toc__title">Spis treści</summary>
	<nav id="TableOfContents">
  <ol>
    <li><a href="#zablokowany-bootloader-i-konto-mi">Zablokowany bootloader i konto Mi</a>
      <ol>
        <li><a href="#powiązanie-xiaomi-redmi-9-z-kontem-mi">Powiązanie Xiaomi Redmi 9 z kontem Mi</a></li>
        <li><a href="#mi-unlock-status-i-oem-unlocking">Mi Unlock status i OEM unlocking</a></li>
      </ol>
    </li>
    <li><a href="#xiaomi-redmi-9-i-xiaomitool">Xiaomi Redmi 9 i XiaoMiTool</a>
      <ol>
        <li><a href="#xiaomi-procedure-failed-getservicetoken-missing-servicetoken-cookie">Xiaomi procedure failed: [getServiceToken] Missing serviceToken cookie</a>
          <ol>
            <li><a href="#jak-ręcznie-poprawić-xiaomitool">Jak ręcznie poprawić XiaoMiTool</a></li>
            <li><a href="#instalacja-gradle-i-openjdk-w-debianie">Instalacja Gradle i OpenJDK w Debianie</a></li>
            <li><a href="#cannot-execute-fastboot-command-fastboot-devices">Cannot execute fastboot command &quot;fastboot devices&quot;</a></li>
          </ol>
        </li>
        <li><a href="#odblokowanie-bootloadera-via-xiaomitool">Odblokowanie bootloader'a via XiaoMiTool</a></li>
      </ol>
    </li>
    <li><a href="#maszyna-wirtualna-qemukvm">Maszyna wirtualna QEMU/KVM</a>
      <ol>
        <li><a href="#problematyczny-windows7">Problematyczny windows7</a></li>
        <li><a href="#udostępnienie-urządzenia-usb-hosta-maszynie-wirtualnej">Udostępnienie urządzenia USB hosta maszynie wirtualnej</a></li>
        <li><a href="#odblokowanie-bootloadera-via-mi-unlock">Odblokowanie bootloader'a via Mi Unlock</a></li>
      </ol>
    </li>
    <li><a href="#podsumowanie">Podsumowanie</a></li>
  </ol>
</nav>
</details>
				<div class="entry__content"><p>Jakiś czas temu wpadł w moje łapki smartfon Xiaomi Redmi 9 (galahad albo lancelot, bo w różnych
częściach systemu jest to inaczej określone), który miał preinstalowanego Androida 10 oraz MIUI 11.
Przez parę miesięcy używania telefonu, dostał on dwa albo trzy większe update całego ROM'u,
wliczając w to aktualizację MIUI do 12.0.1 ze stanem zabezpieczeń na dzień 2021-01-05. Zatem
ostatnia aktualizacja zabezpieczeń tego telefonu miała miejsce zaraz na początku Stycznia. Od tego
czasu cisza. Niby w przypadku tego modelu telefonu aktualizacje miały być wydawane <a href="https://www.mi.com/global/service/support/security-update-1.html">co trzy
miesiące do roku 2023</a> ale najwyraźniej coś jest nie tak i urządzenie od ponad pół roku nie
dostało żadnych aktualizacji. Niby pod tym linkiem można wyczytać informację, że planowana jest
aktualizacja do Androida 11 ale prawdę mówiąc jestem nieco zawiedziony opieszałością Xiaomi. Tak
się złożyło, że przez przypadek trafiłem w <a href="https://forum.xda-developers.com/f/redmi-9-poco-m2-roms-kernels-recoveries-dev.11175/">to miejsce na forum XDA</a>, gdzie z kolei znalazłem
m.in. <a href="https://forum.xda-developers.com/t/rom-unofficial-11-0-pixel-plus-ui-for-redmi-9-lancelot-galahad.4243813/">ten wątek</a>. Zatem alternatywne ROM'y na mój smartfon istnieją i tego faktu nie byłem
świadomy, bo w zeszłym roku jeszcze nic nie szło znaleźć. Postanowiłem zatem odblokować bootloader
w swoim Xiaomi Redmi 9 i spróbować wgrać na niego TWRP i jeden (a może nawet kilka) przykładowy ROM
na bazie AOSP/LineageOS. Proces odblokowania bootloader'a w urządzeniach Xiaomi nie wymaga zbytnio
wysiłku i da się go przeprowadzić w całości pod linux korzystając czy to z XiaoMiTool, czy też przy
pomocy <a href="https://morfikov.github.io/post/wirtualizacja-qemu-kvm-libvirt-na-debian-linux/">maszyn wirtualnych na bazie QEMU/KVM</a>. Ten proces nie do końca jest dla każdego taki
oczywisty, dlatego postanowiłem go dokładnie opisać.</p>
<h2 id="zablokowany-bootloader-i-konto-mi">Zablokowany bootloader i konto Mi</h2>
<p>Proces odblokowania bootloader'a w Xiaomi Redmi 9 (czy też ogólnie w urządzeniach Xiaomi) trochę
odbiega od procesu odblokowania bootloader'a w smartfonach innych producentów. W przypadku
praktycznie wszystkich urządzeń wyprodukowanych przez Xiaomi po 2016 roku, ich bootloader jest
standardowo zablokowany, a my jako końcowi użytkownicy telefonów nie mamy możliwości sami tego
bootloader'a odblokować. Na szczęście Xiaomi nie stoi na przeszkodzie użytkownikom, by ci mogli
sobie odblokować telefony, gdy tylko będą chcieli to zrobić. Dlaczego zatem Xiaomi blokuje
bootloader? Są dwa oficjalne powody, którymi Xiaomi się posiłkuje.</p>
<p>Pierwszym powodem, dla którego Xiaomi blokuje bootloader'y w swoich urządzeniach, to problem z
nabyciem ich urządzeń w krajach, w których ta marka nie weszła jeszcze na rynek. Użytkownicy w
takiej sytuacji mogą próbować nabyć taki smartfon z nieoficjalnego źródła, co nie zawsze kończy się
dla nich dobrze, np. smartfon może być napchany różnym syfem już na poziomie ROM'u. Mój fon był z
oficjalnego źródła, a i tak miał pełno syfu, który musiałem powyłączać, choć i tak wszystkiego się
nie dało wyłączyć bez psucia urządzenia.</p>
<p>Poniżej znajduje się lista rzeczy, które do tej pory udało mi się wyłączyć:</p>
<pre><code>$ adb shell

galahad:/ $ pm uninstall -k --user 0 com.miui.analytics
galahad:/ $ pm uninstall -k --user 0 com.miui.msa.global
galahad:/ $ pm uninstall -k --user 0 com.miui.daemon
galahad:/ $ pm uninstall -k --user 0 com.miui.hybrid
galahad:/ $ pm uninstall -k --user 0 com.miui.hybrid.accessory
galahad:/ $ pm uninstall -k --user 0 com.xiaomi.joyose
galahad:/ $ pm uninstall -k --user 0 com.miui.wmsvc

galahad:/ $ pm uninstall -k --user 0 com.facebook.services
galahad:/ $ pm uninstall -k --user 0 com.facebook.system
galahad:/ $ pm uninstall -k --user 0 com.facebook.appmanager
galahad:/ $ pm uninstall -k --user 0 com.amazon.appmanager
galahad:/ $ pm uninstall -k --user 0 com.miui.weather2
galahad:/ $ pm uninstall -k --user 0 com.miui.gallery
galahad:/ $ pm uninstall -k --user 0 com.miui.cleanmaster
galahad:/ $ pm uninstall -k --user 0 com.miui.mishare.connectivity
galahad:/ $ pm uninstall -k --user 0 com.miui.notes
galahad:/ $ pm uninstall -k --user 0 com.miui.videoplayer
galahad:/ $ pm uninstall -k --user 0 com.xiaomi.scanner
galahad:/ $ pm uninstall -k --user 0 com.miui.yellowpage
galahad:/ $ pm uninstall -k --user 0 com.miui.calculator
galahad:/ $ pm uninstall -k --user 0 com.miui.player
galahad:/ $ pm uninstall -k --user 0 com.mi.globalbrowser
galahad:/ $ pm uninstall -k --user 0 com.mi.android.globalminusscreen
galahad:/ $ pm uninstall -k --user 0 com.miui.compass
galahad:/ $ pm uninstall -k --user 0 com.xiaomi.midrop
galahad:/ $ pm uninstall -k --user 0 com.google.android.apps.subscriptions.red
galahad:/ $ pm uninstall -k --user 0 com.xiaomi.glgm
galahad:/ $ pm uninstall -k --user 0 com.google.android.tts
galahad:/ $ pm uninstall -k --user 0 com.google.ar.lens
galahad:/ $ pm uninstall -k --user 0 com.google.android.projection.gearhead
galahad:/ $ pm uninstall -k --user 0 com.google.android.apps.googleassistant
galahad:/ $ pm uninstall -k --user 0 com.android.providers.partnerbookmarks
galahad:/ $ pm uninstall -k --user 0 com.android.egg
galahad:/ $ pm uninstall -k --user 0 com.milink.service
galahad:/ $ pm uninstall -k --user 0 com.miui.backup
galahad:/ $ pm uninstall -k --user 0 com.miui.cloudbackup
galahad:/ $ pm uninstall -k --user 0 com.miui.cloudservice
galahad:/ $ pm uninstall -k --user 0 com.miui.micloudsync
galahad:/ $ pm uninstall -k --user 0 com.netflix.partner.activation
galahad:/ $ pm uninstall -k --user 0 com.android.wallpaper.livepicker
galahad:/ $ pm uninstall -k --user 0 com.android.wallpaperbackup
galahad:/ $ pm uninstall -k --user 0 com.miui.miwallpaper
galahad:/ $ pm uninstall -k --user 0 com.tencent.soter.soterserver
galahad:/ $ pm uninstall -k --user 0 com.android.soundrecorder
galahad:/ $ pm uninstall -k --user 0 com.xiaomi.mipicks
galahad:/ $ pm uninstall -k --user 0 com.google.android.feedback
galahad:/ $ pm uninstall -k --user 0 com.miui.bugreport
galahad:/ $ pm uninstall -k --user 0 com.google.android.apps.wellbeing
galahad:/ $ pm uninstall -k --user 0 com.google.android.googlequicksearchbox
galahad:/ $ pm uninstall -k --user 0 com.google.android.marvin.talkback
galahad:/ $ pm uninstall -k --user 0 com.google.android.apps.docs
galahad:/ $ pm uninstall -k --user 0 com.google.android.calendar
galahad:/ $ pm uninstall -k --user 0 com.micredit.in
galahad:/ $ pm uninstall -k --user 0 com.ebay.carrier
galahad:/ $ pm uninstall -k --user 0 cn.wps.xiaomi.abroad.lite
galahad:/ $ pm uninstall -k --user 0 de.telekom.tsc
galahad:/ $ pm uninstall -k --user 0 com.huaqin.diaglogger
galahad:/ $ pm uninstall -k --user 0 com.huaqin.btlogger
galahad:/ $ pm uninstall -k --user 0 com.huaqin.receivercontroller
galahad:/ $ pm uninstall -k --user 0 com.huaqin.sarcontroller
galahad:/ $ pm uninstall -k --user 0 com.mipay.wallet.in
galahad:/ $ pm uninstall -k --user 0 com.miui.global.packageinstaller
galahad:/ $ pm uninstall -k --user 0 com.miui.phrase
galahad:/ $ pm uninstall -k --user 0 com.miui.touchassistant
galahad:/ $ pm uninstall -k --user 0 com.xiaomi.payment
galahad:/ $ pm uninstall -k --user 0 com.android.providers.downloads.ui
</code></pre>
<p>Także ilość syfu w tym Xiaomi Redmi 9 jest iście imponująca i raczej ten argument, że telefon z
oficjalnego źródła nie będzie go miał można spokojnie odrzucić. Oczywiście Xiaomi będzie się
upierał, że to co widzimy powyżej to nie syf. Wszystkie te powyższe aplikacje zostały wyłączone na
poziomie użytkownika bez potrzeby zaciągania do tego celu praw administratora telefonu (root) i w
dowolnym czasie każdą z tych aplikacji można doinstalować/włączyć via <code>cmd package install-existing nazwa_appki</code> również bez potrzeby zaciągania do tego root'a.</p>
<p>Drugi powód zablokowania bootloader'a jest nieco bardziej przyziemny, a konkretnie chodzi o
możliwość utraty takiego urządzenia. Jeśli ktoś nam ukradnie telefon, to taka osoba będzie miała
niesamowity problem z jego użytkowaniem w sytuacji, gdy mamy zablokowany bootloader przez Xiaomi.
Gdyby bootloader był odblokowany, to nic by nie stało na przeszkodzie, by dowolnie przerobić
programowo urządzenie celem odsprzedania go w późniejszym czasie. Generalnie to każde
zabezpieczenie da radę złamać ale zawsze potrzebny jest na to czas. Trzeciorzędny złodziej nie
kradnie telefonu przy nadarzającej się okazji (przez naszą nieuwagę) po to, by użerać się z jego
zabezpieczeniami. Chce on jak najszybciej pozbyć się takiego kradzionego sprzętu i dostać za niego
hajs. Więc jest spora szansa, że sobie daruje dalsze czynności, gdy połapie się, że będzie miał
spory problem taki telefon odsprzedać, choć w takich sytuacjach bardziej liczy się świadomość
kupujących, a ta zbyt wielka znowu nie jest.</p>
<p>Biorąc pod uwagę powyższe tłumaczenie się Xiaomi, można do pewnego stopnia zrozumieć, że ten
producent smartfonów postanowił zablokować bootloader w swoich urządzeniach. Niemniej jednak,
nasuwa się pytanie, co w przypadku, gdy usługa, od której zależy odblokowanie bootloader'a
(wymagane jest połączenie internetowe) nie będzie z jakiegoś powodu dostępna? Wygląda na to, że
taki telefon zostanie zablokowany dożywotnio.</p>
<p>Warto tutaj zaznaczyć, że jedno konto Mi jest w stanie odblokować bootloader tylko w jednym
urządzeniu w okresie 30 dni, tj. jeśli mamy więcej telefonów marki Xiaomi i chcielibyśmy tuż po
zakupie ściągnąć im blokadę bootloader'a, to w przypadku każdego kolejnego urządzenia będziemy
musieli czekać miesiąc. Przynajmniej takie są <a href="https://c.mi.com/thread-2262302-1-0.html">oficjalne informacje</a>. Nie wiem jak wygląda
sprawa z tworzeniem wielu osobnych kont dla każdego urządzenia.</p>
<h3 id="powiązanie-xiaomi-redmi-9-z-kontem-mi">Powiązanie Xiaomi Redmi 9 z kontem Mi</h3>
<p>By odblokować smartfon Xiaomi Redmi 9, musi on działać poprawnie, tj. nie być w żaden sposób
uwalony sprzętowo (hard-bricked) czy programowo (soft-bricked), ani też zapętlać się przy starcie
Androida. W ustawieniach telefonu trzeba dodać konto Mi. Sam smartfon powinien mieć
zainstalowany najnowszy dostępny oficjalny ROM, zatem przydałoby się zaktualizować telefon przed
przystąpieniem do procedury odblokowania jego bootloader'a. Jeśli zaś chodzi o sam komputer, z
którego proces odblokowania będziemy przeprowadzać, to musi on posiadać niezbędne sterowniki i w
przypadku przeciętnej dystrybucji linux'a wszystko powinno być na swoim miejscu.</p>
<p>Na sam początek musimy powiązać nasz smartfon z kontem Mi. By to uczynić, musimy <a href="https://account.xiaomi.com/">stworzyć konto
Mi</a>. Jeśli nie chcemy z jakiegoś powodu tworzyć tego konta, to możemy zapomnieć o dalszych
krokach. To konto jest niezbędne jeśli chcemy się bawić w odblokowanie telefonu. Póki co nie są mi
znane żadne obejścia oficjalnej procedury odblokowania bootloader'a i trzeba postępować według
niej. Dlatego też przed przeprowadzeniem dalszych kroków, upewnijmy się, że to konto posiadamy.</p>
<p>Samo posiadanie konta Mi nam nic nie daje. Musimy także w ustawieniach telefonu dodać to konto Mi:</p>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td><img loading="lazy" src="https://morfikov.github.io/img/2021/08/031-xiaomi-redmi-9-linux-aosp-bootloader-mi-account-phone.jpg" alt=""    class="small"></td>
<td><img loading="lazy" src="https://morfikov.github.io/img/2021/08/032-xiaomi-redmi-9-linux-aosp-bootloader-mi-account-phone.jpg" alt=""    class="small"></td>
</tr>
</tbody>
</table>
<p>Poniżej znajdują się wszystkie dane, które można ze smartfona wyciągnąć odnośnie jego specyfikacji,
tak by uniknąć ewentualnych pytań czy to urządzenie, które ja mam, jest faktycznie tym samym, które
ktoś inny może posiadać:</p>
<table>
<thead>
<tr>
<th></th>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td><img loading="lazy" src="https://morfikov.github.io/img/2021/08/001-xiaomi-redmi-9-linux-aosp-bootloader-phone-info.jpg" alt=""    class="small"></td>
<td><img loading="lazy" src="https://morfikov.github.io/img/2021/08/002-xiaomi-redmi-9-linux-aosp-bootloader-phone-specs.jpg" alt=""    class="small"></td>
<td><img loading="lazy" src="https://morfikov.github.io/img/2021/08/003-xiaomi-redmi-9-linux-aosp-bootloader-model-hardware.jpg" alt=""    class="small"></td>
</tr>
</tbody>
</table>
<p>Dodanie konta Mi w ustawieniach telefonu otwiera nam drogę do powiązania takiego urządzenia z tym
kontem. W celu powiązania naszego smartfona z kontem Mi, musimy skorzystać z opcji deweloperskich.
Przechodzimy zatem w telefonie do <code>Settings</code> &gt; <code>About Phone</code> i klikamy parokrotnie w <code>MIUI version</code>
(widocznym wyżej), aż opcje deweloperskie staną się aktywne. Następnie przechodzimy do <code>Settings</code> &gt;
<code>Additional Settings</code> i odszukujemy na liście <code>Developer options</code> . To właśnie w tym miejscu
przypisuje się smartfon do konta Mi:</p>
<table>
<thead>
<tr>
<th></th>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td><img loading="lazy" src="https://morfikov.github.io/img/2021/08/004-xiaomi-redmi-9-linux-aosp-bootloader-settings.jpg" alt=""    class="small"></td>
<td><img loading="lazy" src="https://morfikov.github.io/img/2021/08/005-xiaomi-redmi-9-linux-aosp-bootloader-settings.jpg" alt=""    class="small"></td>
<td><img loading="lazy" src="https://morfikov.github.io/img/2021/08/006-xiaomi-redmi-9-linux-aosp-bootloader-additional-settings.jpg" alt=""    class="small"></td>
</tr>
</tbody>
</table>
<p>Na liście ustawień deweloperskich trzeba odszukać pozycję <code>Mi Unlock status</code> . Urządzenie
przypisuje się do konta Mi w zasadzie tylko raz ale są pewne wymagania, by takie powiązanie
utworzyć. Przede wszystkim, trzeba wyłączyć sieć WiFi. W telefonie musi znajdować się aktywna karta
SIM z włączonymi danymi pakietowymi (3G/4G/5G). Gdy oba te warunki mamy spełnione, klikamy na
przycisk <code>Add account and device</code> u dołu ekranu:</p>
<table>
<thead>
<tr>
<th></th>
<th></th>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td><img loading="lazy" src="https://morfikov.github.io/img/2021/08/007-xiaomi-redmi-9-linux-aosp-bootloader-developer-options.jpg" alt=""    class="small"></td>
<td><img loading="lazy" src="https://morfikov.github.io/img/2021/08/008-xiaomi-redmi-9-linux-aosp-bootloader-mi-unlock-status.jpg" alt=""    class="small"></td>
<td><img loading="lazy" src="https://morfikov.github.io/img/2021/08/009-xiaomi-redmi-9-linux-aosp-bootloader-mi-unlock-status.jpg" alt=""    class="small"></td>
<td><img loading="lazy" src="https://morfikov.github.io/img/2021/08/010-xiaomi-redmi-9-linux-aosp-bootloader-mi-unlock-status.jpg" alt=""    class="small"></td>
</tr>
</tbody>
</table>
<p>Po chwili, powiązanie powinno zakończyć się powodzeniem, o czym poinformuje nas odpowiedni
komunikat:</p>
<p><img loading="lazy" src="https://morfikov.github.io/img/2021/08/011-xiaomi-redmi-9-linux-aosp-bootloader-mi-unlock-status.jpg" alt=""    class="small"></p>
<p>Po udanej próbie powiązania telefonu z kontem Mi, przechodzimy jeszcze dla pewności do
<a href="https://account.xiaomi.com/">serwisu Xiaomi</a>, w celu weryfikacji czy faktycznie na liście urządzeń pojawił się smartfon,
który przed chwilą powiązaliśmy. W moim przypadku tak się stało:</p>
<p><img loading="lazy" src="https://morfikov.github.io/img/2021/08/012-xiaomi-redmi-9-linux-aosp-bootloader-mi-account.png" alt=""    class="huge"></p>
<p>Mając powiązane urządzenie z kontem Mi, możemy rozpocząć procedurę odblokowania bootloader'a.</p>
<h3 id="mi-unlock-status-i-oem-unlocking">Mi Unlock status i OEM unlocking</h3>
<p>Wszystko jedno, którą z poniższych metod odblokowania wybierzemy, tj. czy to przy pomocy XiaoMiTool
na linux, czy też via Mi Unlock na maszynie wirtualnej z windows10, to po odczekaniu kilku dni nasz
telefon ostatecznie dostanie zielone światło na ściągnięcie blokady, którą na bootloader założył
Xiaomi. Trzeba tutaj wyraźnie zaznaczyć, że blokada bootloader'a oferowana przez Androida i blokada
nałożona na bootloader przez Xiaomi, to dwie osobne rzeczy.</p>
<p>Technicznie rzecz biorąc blokadę bootloader'a możemy bez większego problemu ściągnąć sami (w
opcjach deweloperskich). Podczas procesu odblokowania bootloader'a następuje przywrócenie
urządzenia do ustawień fabrycznych. Taki zabieg ma na celu ochronę naszej prywatności, bo w
zasadzie wszystkie dane w telefonie, które umieścił jego użytkownik, zostaną usunięte.</p>
<p>Natomiast blokada, którą nałożył Xiaomi, <a href="https://github.com/mc-17/xiaomi-bootloader/blob/master/README.md">zakłada wykorzystanie przez fastboot 24-znakowego
tokena</a>, który jest szyfrowany kluczem przechowywanym w <code>/unlock_key</code> w obrębie flash'a
telefonu (i też tymczasowo także w katalogu <code>MiFlashUnlock</code> w pliku <code>&lt;&lt;serial&gt;&gt;_sig.data</code> ). Te
zaszyfrowane dane są przesyłane na serwery Xiaomi wraz z nazwą kodową urządzenia i jej późniejszymi
wersjami, po czym w odpowiedzi zwracana jest podpisana wersja tych przesłanych danych. W ten sposób
uzyskuje się 256 znakowy szyfrogram, który podawany jest w <code>fastboot oem unlock &quot;&lt;&lt;plik&gt;&gt;&quot;</code> .
Sygnatura złożona pod danymi jest weryfikowana i jeśli jest prawidłowa, to blokada zostaje zdjęta,
a jeśli nie, to operacja zostaje odrzucona. Niezależnie od pomyślnego zweryfikowania sygnatury,
telefon zostaje zresetowany. Ten restart telefonu (podobnie jak inne polecenia fastboot) powoduje
zmianę tokenu, co ma na celu przeciwdziałać możliwości zapisania danych, które można by wykorzystać
w późniejszym czasie do odblokowania telefonu. Aktualny status tej blokady, jak i status
bootloader'a, można odczytać z opcji deweloperskich w ustawieniach Androida.</p>
<h2 id="xiaomi-redmi-9-i-xiaomitool">Xiaomi Redmi 9 i XiaoMiTool</h2>
<p>Jeśli chodzi o urządzenia Xiaomi, to w ich przypadku mamy możliwość odblokowania bootloader'a z
poziomu praktycznie każdej dystrybucji linux'a i w zasadzie maszyna z windows nie będzie nam tutaj
do niczego potrzebna. Jedyne narzędzie, które musimy pozyskać, to <a href="https://www.xiaomitool.com/V2/download">XiaoMiToolV2</a>. Przechodzimy
zatem pod wskazany link i pobieramy plik <code>XMT2_Linux_*.run</code> . Nie jest to co prawda paczka <code>.deb</code>
ale nie będzie nam ona do niczego potrzebna. Ten plik po uruchomieniu wypakuje (do katalogu
<code>/tmp/</code> ) wszystkie niezbędne pliki i odpala graficzne narzędzie XiaoMiTool. Jeśli chcielibyśmy
ręcznie uruchomić XiaoMiTool to wystarczy podać te dwa poniższe parametry do tego powyższego
skryptu:</p>
<pre><code>$ chmod +x ./XMT2_Linux_*.run
$ ./XMT2_Linux_*.run --noexec --keep
</code></pre>
<p>W katalogu roboczym zostanie utworzony katalog <code>XiaoMiTool-V2/</code> z dokładnie tą samą zawartością, co
w przypadku automatycznego rozpakowania do katalogu <code>/tmp/</code> .</p>
<p>Po odpaleniu skryptu, ostatecznie uruchamiany jest plik <code>XiaoMiTool.jar</code> . Mamy zatem do czynienia
z aplikacją Java, ale nie musimy instalować w swoim systemie pakietów <code>default-jdk</code>/<code>default-jre</code> .
Wszystkie niezbędne rzeczy znajdują się w pobranej paczce. W tej paczce obecne są także narzędzia
<code>fastboot</code>/<code>adb</code> , przez co odpada nam potrzeba ręcznego ich instalowania i konfigurowania w
naszym linux'ie. Wszystko powinno nam zatem działać OOTB po uruchomieniu pliku <code>XMT2_Linux_*.run</code>
bez żadnych dodatkowych parametrów.</p>
<h3 id="xiaomi-procedure-failed-getservicetoken-missing-servicetoken-cookie">Xiaomi procedure failed: [getServiceToken] Missing serviceToken cookie</h3>
<p>Od paru tygodni, użytkownicy narzędzia XiaoMiTool zgłaszają <a href="https://github.com/francescotescari/XiaoMiToolV2/issues/23">problemy z jego poprawnym
działaniem</a>. Sprawa dotyczy wszystkich wersji, wliczając ostatnią, która została wydana, tj.
<code>20.7.28 (beta)</code> . Zmianie uległ URI logowania ale problem chyba dotyczy jedynie kont, które mają
włączone w opcjach konta Mi uwierzytelnianie dwuskładnikowe (2FA). Tak czy inaczej, u mnie ten
problem wystąpił, a jeśli się nam on przytrafi, to nie będziemy mieli możliwości przy pomocy
XiaoMiTool odblokować bootloader. Przy próbie odblokowania bootloader'a zostanie nam jedynie
zwrócony błąd <code>Xiaomi procedure failed: [getServiceToken] Missing serviceToken cookie</code> , który
prezentuje się w aplikacji następująco:</p>
<p><img loading="lazy" src="https://morfikov.github.io/img/2021/08/013-xiaomi-redmi-9-linux-aosp-bootloader-xiaomitool-error-unlock.png" alt=""    class="huge"></p>
<p>Zgodnie z sugestią w podlinkowanym wyżej wątku, możemy zmienić sobie ręcznie ten URI ale trzeba to
zrobić w źródłach XiaoMiTool.</p>
<h4 id="jak-ręcznie-poprawić-xiaomitool">Jak ręcznie poprawić XiaoMiTool</h4>
<p>Do końca nie wiadomo kiedy zostanie wypuszczona łatka mająca wyeliminować problem, którego objawy
widać na powyższej fotce. Dobre wieści są takie, że stosowny pull request został już utworzony ale
kiedy zostanie zaaplikowany, tego nie wiadomo. Nie znana jest też data wydania nowej wersji
XiaoMiTool. Niemniej jednak, znając zmiany w plikach (podglądając wspomniany pull request), możemy
sami poprawić sobie źródła XiaoMiTool przywracając tym samym jego sprawność. Poniżej znajduje się
krótka instrukcja dotycząca tego zagadnienia.</p>
<p>Przede wszystkim, musimy sklonować źródła XiaoMiTool:</p>
<pre><code>$ git clone https://github.com/francescotescari/XiaoMiToolV2
$ cd XiaoMiToolV2/
</code></pre>
<p>Problematyczny plik to <code>src/main/java/com/xiaomitool/v2/gui/controller/LoginController.java</code> , w
którym rezyduje <code>LOGIN_URL</code> i to tu trzeba poczynić zmiany.</p>
<p>Poniżej znajduje się patch, który można zaaplikować przy pomocy <code>git apply</code> :</p>
<pre><code>$ cat uri.patch
diff --git a/src/main/java/com/xiaomitool/v2/gui/controller/LoginController.java b/src/main/java/com/xiaomitool/v2/gui/controller/LoginController.java
index c90bb86..d41bcd7 100644
--- a/src/main/java/com/xiaomitool/v2/gui/controller/LoginController.java
+++ b/src/main/java/com/xiaomitool/v2/gui/controller/LoginController.java
@@ -36,7 +36,7 @@ import java.net.URI;
 import java.util.Locale;

 public class LoginController extends DefaultController {
-    private static final String LOGIN_URL = &quot;https://account.xiaomi.com/pass/serviceLogin?sid=passport&amp;json=false&amp;passive=true&amp;hidden=false&amp;_snsDefault=facebook&amp;_locale=&quot; + Locale.getDefault().getLanguage().toLowerCase();
+    private static final String LOGIN_URL = &quot;https://account.xiaomi.com/pass/serviceLogin?sid=unlockApi&amp;json=false&amp;passive=true&amp;hidden=false&amp;_snsDefault=facebook&amp;checkSafePhone=true&amp;_locale=&quot; + Locale.getDefault().getLanguage().toLowerCase();
     private static boolean loggedIn = false;
     private static Thread loginThread = null;
     @FXML
</code></pre>
<p>By ten patch nałożyć na źródła, wystarczy zapisać powyższą zawartość w pliku <code>uri.patch</code> i
skorzystać z <code>git apply</code> podając w jego argumencie ścieżkę do pliku:</p>
<pre><code>$ git apply uri.patch

$ git status
On branch master
Your branch is up to date with 'origin/master'.

Changes not staged for commit:
  (use &quot;git add &lt;file&gt;...&quot; to update what will be committed)
  (use &quot;git restore &lt;file&gt;...&quot; to discard changes in working directory)
        modified:   src/main/java/com/xiaomitool/v2/gui/controller/LoginController.java
...
</code></pre>
<h4 id="instalacja-gradle-i-openjdk-w-debianie">Instalacja Gradle i OpenJDK w Debianie</h4>
<p>Mając odpowiednio przygotowane źródła XiaoMiTool, musimy zainstalować kilka niezbędnych rzeczy w
swoim linux'ie (tutaj Debian). Technicznie rzecz biorąc, wystarczyło by doinstalować dwa pakiety
<code>gradle</code> oraz <code>default-jdk</code> :</p>
<pre><code># apt-get install gradle default-jdk
</code></pre>
<p>Problem w tym, że wersja Gradle (4.4.1) w Debianie jest dość leciwa i nie będzie nam współpracować
z wersją Javy, która jest dostarczana z Debianem (11.0.12). Dlatego też trzeba będzie zaktualizować
Gradle ręcznie do najnowszej dostępnej wersji.</p>
<p>Nie spotkałem się z żadnym oficjalnym repozytorium Gradle dla APT, dlatego też trzeba będzie <a href="https://gradle.org/releases/">pobrać
ze strony projektu</a> paczkę <code>.zip</code> . Do wyboru są dwa warianty: <code>binary-only</code> oraz <code>complete</code> . Ja
pobrałem <code>v7.2 complete</code> . Po pobraniu paczki <code>.zip</code> , wypakowujemy ją i zawartość umieszczamy, np.
w katalogu <code>/opt/</code> :</p>
<pre><code># mv gradle-*.zip /opt/
# cd /opt/
# patool extract gradle-*.zip
</code></pre>
<p>Powinniśmy mieć już w katalogu <code>/opt/</code> podfolder <code>gradle-7.2/</code> . Ścieżkę do tego katalogu musimy
teraz uwzględnić w zmiennej <code>$PATH</code> :</p>
<pre><code>$ export PATH=/opt/gradle-7.2/bin:$PATH
</code></pre>
<p>Weryfikujemy czy ścieżka do <code>gradle</code> wskazuje na katalog <code>/opt/gradle-7.2/</code> :</p>
<pre><code>$ which gradle
/opt/gradle-7.2/bin/gradle
</code></pre>
<p>Gradle powinien być zatem już w najnowszej wersji:</p>
<pre><code>$ gradle -v

Welcome to Gradle 7.2!

Here are the highlights of this release:
 - Toolchain support for Scala
 - More cache hits when Java source files have platform-specific line endings
 - More resilient remote HTTP build cache behavior

For more details see https://docs.gradle.org/7.2/release-notes.html


------------------------------------------------------------
Gradle 7.2
------------------------------------------------------------

Build time:   2021-08-17 09:59:03 UTC
Revision:     a773786b58bb28710e3dc96c4d1a7063628952ad

Kotlin:       1.5.21
Groovy:       3.0.8
Ant:          Apache Ant(TM) version 1.10.9 compiled on September 27 2020
JVM:          11.0.12 (Debian 11.0.12+7-post-Debian-2)
OS:           Linux 5.13.11-amd64 amd64
</code></pre>
<p>Przechodzimy do źródeł XiaoMiTool i aktualizujemy Gradle Wrapper:</p>
<pre><code>$ cd XiaoMiTool/
$ ./gradlew wrapper --gradle-version=7.2 --distribution-type=bin
Downloading https://services.gradle.org/distributions/gradle-7.2-bin.zip
...10%....20%....30%....40%....50%....60%....70%....80%....90%...100%
Starting a Gradle Daemon (subsequent builds will be faster)

BUILD SUCCESSFUL in 47s
1 actionable task: 1 executed
</code></pre>
<p>Ostatnim krokiem jest uruchomienie XiaoMiTool:</p>
<pre><code>$ ./gradlew build
$ ./gradlew run
Starting a Gradle Daemon, 1 busy Daemon could not be reused, use --status for details

&gt; Configure project :
Project : =&gt; no module-info.java found

&gt; Task :compileJava
Note: Some input files use unchecked or unsafe operations.
Note: Recompile with -Xlint:unchecked for details.

&gt; Task :run
[04:08:48][INFO  ][492c4021] Current jar path: /media/debuilder/git-xiaomimitoolv2/XiaoMiToolV2/build/classes/java/main
[04:08:48][DEBUG ][211bf547] javafx.scene.image.Image@95c5f65
[04:08:48][INFO  ][492c4021] Current jar dir path: /media/debuilder/git-xiaomimitoolv2/XiaoMiToolV2/build/classes/java
[04:08:48][DEBUG ][60e6bd7] 300.0
[04:08:48][WARN  ][211bf547] Path not exists: /media/debuilder/git-xiaomimitoolv2/XiaoMiToolV2/build/classes/java/XiaoMiTool.jar
[04:08:48][WARN  ][211bf547] Path not valid working dir:/media/debuilder/git-xiaomimitoolv2/XiaoMiToolV2/build/classes/java
[04:08:48][WARN  ][211bf547] Path not exists: ./XiaoMiTool.jar
[04:08:48][WARN  ][211bf547] Path not valid working dir:.
[04:08:48][WARN  ][211bf547] Path failed check working dir:null
[04:08:48][INFO  ][211bf547] Temporary dir used: ./res/tmp
[04:08:48][ERROR ][211bf547] Failed to identify old logs: ./res/tmp/logs
[04:08:50][INFO  ][211bf547] Downloading lang file: en_US
[04:08:51][INFO  ][211bf547] Loading language from file: ./res/lang/en_US.xml
[04:08:51][INFO  ][211bf547] Starting XiaoMiTool V2 99.9.9 : OS info: Linux - amd64 - 5.13.11-amd64 ||| Locale info: en_US - UTF-8
[04:08:51][INFO  ][60e6bd7] Launching main window
...
</code></pre>
<h4 id="cannot-execute-fastboot-command-fastboot-devices">Cannot execute fastboot command &quot;fastboot devices&quot;</h4>
<p>Tak uruchomiony XiaoMiTool ma jeden problem. Mianowicie nie jest w stanie wykryć naszego telefonu,
przynajmniej pod linux. Przeszkodę stanowi brak narzędzi <code>fastboot</code>/<code>adb</code> , które w źródłach na
GitHub są jedynie dostarczane w postaci plików <code>.exe</code> , co skutkować będzie poniższymi komunikatami
w logu aplikacji:</p>
<pre><code>...
[04:12:37][PSTA  ][717ba1ac] Start process (1): &quot;./res/tools/adb&quot; &quot;kill-server&quot;
[04:12:37][PSTA  ][717ba1ac] Start process (2): &quot;./res/tools/adb&quot; &quot;start-server&quot;
[04:12:37][INFO  ][717ba1ac] Starting autoscan threads
[04:12:37][INFO  ][717ba1ac] Searching at least one device
[04:12:37][PSTA  ][11994e2] Start process (3): &quot;./res/tools/adb&quot; &quot;track-devices&quot;
[04:12:37][PSTA  ][717ba1ac] Start process (4): &quot;./res/tools/adb&quot; &quot;devices&quot;
[04:12:37][WARN  ][11994e2] Cannot register device scanner thread via track-devices
[04:12:37][PSTA  ][717ba1ac] Start process (5): &quot;./res/tools/fastboot&quot; &quot;devices&quot;
[04:12:37][ERROR ][717ba1ac] Cannot execute fastboot command &quot;fastboot devices&quot;, reason: Cannot run program &quot;./res/tools/fastboot&quot;: error=2, No such file or directory
[04:12:38][INFO  ][717ba1ac] Total connected device found: 0
[04:12:38][INFO  ][717ba1ac] Showing no devices visual
...
</code></pre>
<p>W repozytorium jest gałąź <code>linux</code> i stosowny commit został już poczyniony, by nie trzeba było
przeprowadzać żadnych dodatkowych kroków po sklonowaniu repozytorium. Jedyne co, to przy pomocy
poniższego polecenia musimy zmienić gałąź z <code>master</code> na <code>linux</code></p>
<pre><code>$ git checkout linux
M       src/main/java/com/xiaomitool/v2/gui/controller/LoginController.java
Branch 'linux' set up to track remote branch 'linux' from 'origin'.
Switched to a new branch 'linux'

$ git status
On branch linux
Your branch is up to date with 'origin/linux'.

Changes not staged for commit:
  (use &quot;git add &lt;file&gt;...&quot; to update what will be committed)
  (use &quot;git restore &lt;file&gt;...&quot; to discard changes in working directory)
        modified:   src/main/java/com/xiaomitool/v2/gui/controller/LoginController.java

no changes added to commit (use &quot;git add&quot; and/or &quot;git commit -a&quot;)
</code></pre>
<p>Można by też pewnie podlinkować systemowe binarki do katalogu <code>res/tools/adb</code> i <code>res/tools/fastboot</code>
w źródłach XiaoMiTool ale nie wiem jak sprawa będzie wyglądać z ich kompatybilnością. Dlatego też
lepiej skorzystać z tych dostarczanych z projektem.</p>
<h3 id="odblokowanie-bootloadera-via-xiaomitool">Odblokowanie bootloader'a via XiaoMiTool</h3>
<p>Powinniśmy być w stanie bez większego problemu uruchomić XiaoMiTool na dowolnej dystrybucji linux'a,
jako, że wszystkie niezbędne nam rzeczy zostały dostarczone w pobranej paczce <code>.run</code> . Odpalamy
zatem XiaoMiTool:</p>
<pre><code>$ ./XMT2_Linux_*.run
</code></pre>
<p>Po chwili naszym oczom powinno ukazać się poniższe okienko:</p>
<p><img loading="lazy" src="https://morfikov.github.io/img/2021/08/014-xiaomi-redmi-9-linux-aosp-bootloader-xiaomitool-region.png" alt=""    class="huge"></p>
<p>Logujemy się na swoje konto Mi:</p>
<p><img loading="lazy" src="https://morfikov.github.io/img/2021/08/015-xiaomi-redmi-9-linux-aosp-bootloader-account-login.png" alt=""    class="huge"></p>
<p>Jeśli mamy włączoną weryfikację dwuetapową w ustawieniach konta Mi, to trzeba będzie zweryfikować
swoją tożsamość:</p>
<p><img loading="lazy" src="https://morfikov.github.io/img/2021/08/016-xiaomi-redmi-9-linux-aosp-bootloader-account-login-2fa.png" alt=""    class="huge"></p>
<p>Po przejściu procesu weryfikacji tożsamości, powinniśmy zostać zalogowani na swoje konto, co
poznamy po numerku umieszczonym w prawym górnym rogu okna aplikacji:</p>
<p><img loading="lazy" src="https://morfikov.github.io/img/2021/08/017-xiaomi-redmi-9-linux-aosp-bootloader-account-logged-in.png" alt=""    class="huge"></p>
<p>Wybieramy region europejski. Po jego wskazaniu zostanie nam zaprezentowane okno z wyborem dwóch
opcji:</p>
<p><img loading="lazy" src="https://morfikov.github.io/img/2021/08/018-xiaomi-redmi-9-linux-aosp-bootloader-xiaomitool-unlock-procedure.png" alt=""    class="huge"></p>
<p>Opcja po lewej dotyczy sytuacji, gdy urządzenie pracuje bez problemu, zaś opcja po prawej, gdy coś
mu dolega. Jako, że my chcemy jedynie odblokować bootloader, to wybieramy pozycję z lewej strony
( <code>My device works normaly. I want to mod it.</code> ).</p>
<p>Po chwili XiaoMiTool powinien rozpoznać nasz telefon, oczywiście jeśli go uprzednio podłączyliśmy
do komputera via port USB:</p>
<p><img loading="lazy" src="https://morfikov.github.io/img/2021/08/019-xiaomi-redmi-9-linux-aosp-bootloader-xiaomitool-unlock-procedure.png" alt=""    class="huge"></p>
<p>Klikamy przycisk <code>Select</code> , co rozpocznie procedurę pozyskiwania pewnych informacji z telefonu,
m.in. status bootloader'a:</p>
<p><img loading="lazy" src="https://morfikov.github.io/img/2021/08/020-xiaomi-redmi-9-linux-aosp-bootloader-xiaomitool-unlock-procedure.png" alt=""    class="huge"></p>
<p>Jak widać na powyższej fotce, status bootloader'a wskazuje na zablokowany ( <code>Bootloader Status: Locked</code> ).</p>
<p>Po chwili zostanie nam zaprezentowana poniższa lista wyboru opcji:</p>
<p><img loading="lazy" src="https://morfikov.github.io/img/2021/08/021-xiaomi-redmi-9-linux-aosp-bootloader-xiaomitool-unlock-procedure.png" alt=""    class="huge"></p>
<p>Wybieramy naturalnie <code>Unlock, lock bootloader and other</code> .</p>
<p>W kolejnym okienku wybieramy <code>Unlock bootloader</code> :</p>
<p><img loading="lazy" src="https://morfikov.github.io/img/2021/08/022-xiaomi-redmi-9-linux-aosp-bootloader-xiaomitool-unlock-procedure.png" alt=""    class="huge"></p>
<p>Potwierdzamy chęć odblokowania bootloader'a:</p>
<p><img loading="lazy" src="https://morfikov.github.io/img/2021/08/023-xiaomi-redmi-9-linux-aosp-bootloader-xiaomitool-unlock-procedure.png" alt=""    class="huge"></p>
<p>Po chwili nasz telefon powinien się automatycznie zresetować i zwrócić pewne informacje:</p>
<p><img loading="lazy" src="https://morfikov.github.io/img/2021/08/024-xiaomi-redmi-9-linux-aosp-bootloader-xiaomitool-unlock-procedure-timer.png" alt=""    class="huge"></p>
<p>W tym przypadku nie udało się odblokować bootloader'a ze względu na niespełnienie wymagań co do
czasu oczekiwania po powiązaniu urządzenia do konta Mi. Jeśli taka informacja widnieje w
podsumowaniu, to trzeba będzie jeszcze poczekać, aż wskazany w nim czas upłynie. Dopiero wtedy
będzie można przejść dalej z procesem odblokowania bootloader'a.</p>
<p>Gdy już odczekaliśmy żądaną ilość czasu, ponawiamy procedurę odblokowania bootloader'a (wszystkie te
powyższe kroki). Tym razem efekt będzie nieco inny:</p>
<p><img loading="lazy" src="https://morfikov.github.io/img/2021/08/032-xiaomi-redmi-9-linux-aosp-bootloader-unlock-fastboot.png" alt=""    class="huge"></p>
<p>A po chwili operacja powinna zakończyć się powodzeniem:</p>
<p><img loading="lazy" src="https://morfikov.github.io/img/2021/08/033-xiaomi-redmi-9-linux-aosp-bootloader-unlock-fastboot.png" alt=""    class="huge"></p>
<p>Smartfon zostanie przy tym przywrócony do ustawień fabrycznych i wszystkie dane użytkownika zostaną
trwale usunięte.</p>
<p>Po ponownym uruchomieniu się urządzenia trzeba będzie je na nowo skonfigurować. Po przejściu tego
procesu włączamy ponownie ustawienia deweloperskie i sprawdzamy status bootloader'a:</p>
<p><img loading="lazy" src="https://morfikov.github.io/img/2021/08/034-xiaomi-redmi-9-linux-aosp-bootloader-unlock-status.jpg" alt=""    class="small"></p>
<p>I jak widać wyżej, opcja <code>OEM unlocking</code> jest nieaktywna ze statusem <code>Bootloader is already unlocked</code> . Podobnie mamy w przypadku opcji <code>Mi Unlock status</code> , która wskazuje <code>Unlocked</code> . Te
dwie informacje jednoznacznie mówią, że bootloader w smartfonie został z powodzeniem odblokowany
i można teraz wgrać TWRP i/lub jakiś alternatywny ROM na bazie AOSP/LineageOS.</p>
<h2 id="maszyna-wirtualna-qemukvm">Maszyna wirtualna QEMU/KVM</h2>
<p>Jeśli XiaoMiTool z jakiegoś powodu nie działa na naszym linux'ie, to możemy posiłkować się
windows'em i natywnym narzędziem do odblokowania bootloader'a w urządzeniach Xiaomi, tj. <a href="https://en.miui.com/unlock/download_en.html">Mi
Unlock</a>. Na moim laptopie nie da się zainstalować windows'a, więc jedynym rozwiązaniem jakie mi
pozostaje w takich sytuacjach, to uruchomienie maszyny wirtualnej QEMU/KVM z windows'em na
pokładzie. Cały <a href="https://morfikov.github.io/post/wirtualizacja-qemu-kvm-libvirt-na-debian-linux/">proces ogarniania maszyn wirtualnych QEMU/KVM pod linux</a> został opisany w
osobnym wątku i nie będę tego zagadnienia tutaj poruszał.</p>
<h3 id="problematyczny-windows7">Problematyczny windows7</h3>
<p>Wygląda na to, że na windows7, to narzędzie Mi Unlock zdaje się nie działać poprawnie. Może i
Mi Unlock się uruchamia ale system nie był w stanie wykryć mojego smartfona w trybie fastboot. Gdy
podłączyłem telefon w normalnym trybie, to system go wykrywał bez problemu. Takie zachowanie
mogłoby wskazywać na brak jakichś sterowników w windows ale nie do końca wiedziałem jakich.
Próbowałem postępować według <a href="https://forum.xda-developers.com/t/official-tool-windows-adb-fastboot-and-drivers-15-seconds-adb-installer-v1-4-3.2588979/">instrukcji zawartych w tym wątku na XDA</a> ale nie przyniosło to
żadnych wymiernych efektów. Dlatego też dałem sobie spokój z windows7, a zamiast niego <a href="https://winclub.pl/topic/40069-win-10%C2%A0ltsc-1809-x64-2k21/">pobrałem z
WinClub obraz z windows10</a> i to na jego bazie utworzyłem maszynę wirtualną QEMU/KVM. Po
doinstalowaniu jedynie Mi Unlock i udostępnieniu urządzenia USB maszynie wirtualnej, system wykrył
fona w trybie fastboot bez większego problemu. Zatem jeśli mamy zamiar korzystać z maszyn
wirtualnych, to lepiej jest postawić maszynę z windows10 na pokładzie.</p>
<h3 id="udostępnienie-urządzenia-usb-hosta-maszynie-wirtualnej">Udostępnienie urządzenia USB hosta maszynie wirtualnej</h3>
<p>Poniżej jest przedstawiony proces udostępnienia urządzenia USB hosta maszynie wirtualnej. Ważnym
jest, by przed dodaniem urządzenia USB przełączyć telefon w tryb fastboot. W przypadku mojego
Xiaomi Redmi 9 trzeba przy wyłączonym fonie przytrzymać przycisk VolumeDown+Power. Dla
potwierdzenia, w systemie hosta powinniśmy w logu systemowym zobaczyć nowe urządzenie:</p>
<pre><code>kernel: usb 1-1.2: new high-speed USB device number 7 using ehci-pci
kernel: usb 1-1.2: New USB device found, idVendor=18d1, idProduct=d00d, bcdDevice= 1.00
kernel: usb 1-1.2: New USB device strings: Mfr=1, Product=2, SerialNumber=3
kernel: usb 1-1.2: Product: Android
kernel: usb 1-1.2: Manufacturer: MediaTek
kernel: usb 1-1.2: SerialNumber: 2----------5
kernel: usb 1-1.2: Device is not authorized for usage
kernel: usb 1-1.2: authorized to connect
</code></pre>
<p>Mając już podłączony telefon w trybie fastboot do komputera przez port USB, wchodzimy w
konfigurację utworzonej już maszyny wirtualnej (tutaj wykorzystany był <code>virt-manager</code> ) i dodajemy
nowe urządzenie. Z listy urządzeń wybieramy <code>USB Host Device</code> i wskazujemy odpowiednią pozycję:</p>
<p><img loading="lazy" src="https://morfikov.github.io/img/2021/08/025-xiaomi-redmi-9-linux-aosp-bootloader-qemu-kvm-usb-fastboot.png" alt=""    class="huge"></p>
<p><img loading="lazy" src="https://morfikov.github.io/img/2021/08/026-xiaomi-redmi-9-linux-aosp-bootloader-qemu-kvm-usb-fastboot.png" alt=""    class="huge"></p>
<p>Zwróćmy uwagę, że to urządzenie na liście ma nazwę <code>Google Inc.Xiaomi Mi/Redmi 2 (fastboot)</code> .
Trochę nie pasuje ona do mojego modelu telefonu ale najważniejszą rzeczą jest fraza <code>fastboot</code> ,
która oznacza, że telefon został podłączony do komputera w odpowiednim trybie.</p>
<h3 id="odblokowanie-bootloadera-via-mi-unlock">Odblokowanie bootloader'a via Mi Unlock</h3>
<p>Po dodaniu urządzenia, uruchamiamy maszynę wirtualną. Pobieramy ze strony Xiaomi <a href="https://en.miui.com/unlock/download_en.html">Mi Unlock</a>.
Uruchamiamy pobrany plik i instalujemy narzędzie w systemie. Po zainstalowaniu Mi Unlock,
uruchamiamy go za pomocą pliku <code>batch_unlock</code> . Naszym oczom powinno ukazać się poniższe okienko:</p>
<p><img loading="lazy" src="https://morfikov.github.io/img/2021/08/027-xiaomi-redmi-9-linux-aosp-bootloader-qemu-kvm-mi-unlock-win10.png" alt=""    class="huge"></p>
<p>Jak widać, telefon został poprawnie wykryty, no może za wyjątkiem tego, że to jest <code>galahad</code> , a
nie <code>lancelot</code> , choć szereg wpisów w konfiguracji telefonu również wskazuje na <code>lancelot</code> . Status
bootloader'a został wskazany na zablokowany, tj. <code>locked</code>  widoczny wyżej. By tę blokadę usunąć,
musimy zalogować się w tej aplikacji na konto Mi (w lewej dolnej części okna jest przycisk):</p>
<p><img loading="lazy" src="https://morfikov.github.io/img/2021/08/028-xiaomi-redmi-9-linux-aosp-bootloader-qemu-kvm-mi-unlock-win10.png" alt=""    class="huge"></p>
<p>Podajemy dane do konta i powinniśmy zostać zalogowani z powodzeniem:</p>
<p><img loading="lazy" src="https://morfikov.github.io/img/2021/08/029-xiaomi-redmi-9-linux-aosp-bootloader-qemu-kvm-mi-unlock-win10.png" alt=""    class="huge"></p>
<p>Będąc zalogowanym, klikamy w przycisk <code>Unlock</code> . Jeśli pierwszy raz przechodzimy przez procedurę
odblokowania telefonu (zakładając, że wcześniej powiązaliśmy telefon z kontem Mi), to nie zostanie
on odblokowany. Po przyciśnięciu przycisku <code>Unlock</code> , zostanie nam wyświetlony jedynie poniższy
komunikat:</p>
<p><img loading="lazy" src="https://morfikov.github.io/img/2021/08/030-xiaomi-redmi-9-linux-aosp-bootloader-qemu-kvm-mi-unlock-win10-timer.png" alt=""    class="huge"></p>
<p>Mamy tam informację, że <code>Please unlock 165 hours later. And do not add your account in MIUI again, otherwise you will wait from scratch</code> .  Musimy zatem poczekać około jednego tygodnia, by ten
telefon odblokować. Do końca też nie wiem gdzie mam nie dodawać ponownie konta w MIUI. Może chodzi
tutaj o ustawienia deweloperskie (przypisanie urządzenia do konta Mi) ale prawdę mówiąc nie mam
pojęcia. <a href="https://c.mi.com/thread-2262302-1-0.html">Zgodnie z informacjami zawartymi na stronie Xiaomi</a>, z telefonu można aktywnie
korzystać przez ten okres czasu czekając aż proces odblokowania się zakończy.</p>
<p>Po upłynięciu czasu oczekiwania, możemy rozpocząć procedurę odblokowania bootloader'a (dokładnie w
taki sam sposób jak wyżej), która efektywnie przywróci urządzenie do ustawień fabrycznych,
czyszcząc przy tym wszystkie dane użytkownika telefonu. Dlatego przed przystąpieniem do procedury
odblokowania telefonu wykonajmy backup wszystkich ważnych danym (SMS, kontakty, fotki, etc.).</p>
<h2 id="podsumowanie">Podsumowanie</h2>
<p>Proces odblokowania bootloader'a w przypadku smartfona Xiaomi Redmi 9 (galahad/lancelot), czy też
ogólnie urządzeń marki Xiaomi, nie jest niczym trudnym, choć wymagane do tego celu jest posiadania
konta Mi. Cały proces jest w zasadzie automatyczny ale niekoniecznie jest przy tym natychmiastowy,
bo telefon musi być przypisany do konta Mi przez pewien okres czasu. Jeśli jednak powiążemy
urządzenie z kontem Mi odpowiednio wcześniej, np. tuż po zakupie telefonu i w późniejszym czasie
będziemy chcieli odblokować bootloader, to nie będziemy musieli już czekać na zezwolenie.</p>
<p>Xiaomi dostarcza oficjalne narzędzie do odblokowania bootloader'a w swoich urządzeniach ale jedynie
dla windows. Użytkownicy linux'a muszą posiłkować się XiaoMiTool, który ostatnio ma problemy z
przejściem procesu uwierzytelniania użytkownika podczas dodawania konta do aplikacji. Na szczęście
istnieje prosty fix, który umożliwia przywrócenie XiaoMiTool pełnej sprawności, co niweluje
potrzebę korzystania z osobnej maszyny z zainstalowanym systemem windows. Ostatecznie też możemy
bez większego problemu odpalić na linux'ie maszynę wirtualną na bazie QEMU/KVM z windows10 i to z
jej poziomu bez większych przeszkód odblokować telefon.</p></div>
				
				<footer class="entry__footer">
					
<div class="entry__tags">
			<a class="entry__tag btn" href="https://morfikov.github.io/tags/xiaomi/">xiaomi</a>
			<a class="entry__tag btn" href="https://morfikov.github.io/tags/redmi-9/">redmi-9</a>
			<a class="entry__tag btn" href="https://morfikov.github.io/tags/xiaomitool/">xiaomitool</a>
			<a class="entry__tag btn" href="https://morfikov.github.io/tags/debian/">debian</a>
			<a class="entry__tag btn" href="https://morfikov.github.io/tags/kvm/">kvm</a>
			<a class="entry__tag btn" href="https://morfikov.github.io/tags/qemu/">qemu</a>
			<a class="entry__tag btn" href="https://morfikov.github.io/tags/bootloader/">bootloader</a>
			<a class="entry__tag btn" href="https://morfikov.github.io/tags/smartfon/">smartfon</a>
</div>
					
<div class="entry__share share">
	<a class="share__link btn" title="Podziel się na Facebook" href="https://www.facebook.com/sharer/sharer.php?u=https%3a%2f%2fmorfikov.github.io%2fpost%2fjak-odblokowac-bootloader-w-xiaomi-redmi-9-galahad-lancelot%2f" target="_blank" rel="noopener noreferrer" onclick="window.open(this.href, 'Podziel się na Facebook', 'width=800,height=600,toolbar=0,status=0'); return false">
		<svg class="share__icon" aria-label="Facebook" role="img" width="32" height="32" viewBox="0 0 512 512"><path d="M330 512V322h64l9-74h-73v-47c0-22 6-36 37-36h39V99c-7-1-30-3-57-3-57 0-95 34-95 98v54h-64v74h64v190z"/></svg>
	</a>
	<a class="share__link btn" title="Podziel się na Twitter" href="https://twitter.com/intent/tweet/?url=https%3a%2f%2fmorfikov.github.io%2fpost%2fjak-odblokowac-bootloader-w-xiaomi-redmi-9-galahad-lancelot%2f&amp;text=Jak%20odblokowa%c4%87%20bootloader%20w%20Xiaomi%20Redmi%209%20%28galahad%2flancelot%29" target="_blank" rel="noopener noreferrer" onclick="window.open(this.href, 'Podziel się na Twitter', 'width=800,height=450,resizable=yes,toolbar=0,status=0'); return false">
		<svg class="share__icon" aria-label="Twitter" role="img" width="32" height="32" viewBox="0 0 512 512"><path d="M437 152a72 72 0 0 1-40 12 72 72 0 0 0 32-40 72 72 0 0 1-45 17 72 72 0 0 0-122 65 200 200 0 0 1-145-74 72 72 0 0 0 22 94 72 72 0 0 1-32-7 72 72 0 0 0 56 69 72 72 0 0 1-32 1 72 72 0 0 0 67 50 200 200 0 0 1-105 29 200 200 0 0 0 309-179 200 200 0 0 0 35-37"/></svg>
	</a>
	<a class="share__link btn" title="Podziel się na Reddit" href="https://www.reddit.com/submit?url=https%3a%2f%2fmorfikov.github.io%2fpost%2fjak-odblokowac-bootloader-w-xiaomi-redmi-9-galahad-lancelot%2f&amp;title=Jak%20odblokowa%c4%87%20bootloader%20w%20Xiaomi%20Redmi%209%20%28galahad%2flancelot%29" target="_blank" rel="noopener noreferrer" onclick="window.open(this.href, 'Podziel się na Reddit', 'width=832,height=624,toolbar=0,status=0'); return false">
		<svg class="share__icon" aria-label="Reddit" role="img" width="32" height="32" viewBox="0 0 512 512"><path fill-rule="evenodd" d="M375 146a32 32 0 1 0-29-46l-65-13c-5-1-9 2-10 6l-22 97c-45 1-85 15-113 36a42 42 0 1 0-45 69l-1 12c0 65 74 117 166 117s166-52 166-117l-1-11a42 42 0 1 0-44-69c-28-21-67-35-111-37l19-86 58 13a32 32 0 0 0 32 29zM190 353c2-1 4 0 5 1 15 11 38 18 61 18s46-6 61-18a7 7 0 0 1 8 10c-18 14-44 21-69 21-25-1-51-7-69-21a6 6 0 0 1 3-11zm23-44a31 31 0 1 1-44-44 31 31 0 0 1 44 44zm130 0a31 31 0 1 0-44-44 31 31 0 0 0 44 44z"/></svg>
	</a>
	<a class="share__link btn" title="Podziel się na Telegram" href="https://t.me/share/url?url=https%3a%2f%2fmorfikov.github.io%2fpost%2fjak-odblokowac-bootloader-w-xiaomi-redmi-9-galahad-lancelot%2f&amp;title=Jak%20odblokowa%c4%87%20bootloader%20w%20Xiaomi%20Redmi%209%20%28galahad%2flancelot%29" target="_blank" rel="noopener noreferrer" onclick="window.open(this.href, 'Podziel się na Telegram', 'width=800,height=600,toolbar=0,status=0'); return false">
		<svg class="share__icon" aria-label="Telegram" role="img" width="32" height="32" viewBox="0 0 512 512"><path d="M199 404c-11 0-10-4-13-14l-32-105 245-144"/><path d="M199 404c7 0 11-4 16-8l45-43-56-34"/><path d="M204 319l135 99c14 9 26 4 30-14l55-258c5-22-9-32-24-25L79 245c-21 8-21 21-4 26l83 26 190-121c9-5 17-3 11 4"/></svg>
	</a>
	<a class="share__link btn" title="Podziel się na LinkedIn" href="https://www.linkedin.com/shareArticle?mini=true&url=https%3a%2f%2fmorfikov.github.io%2fpost%2fjak-odblokowac-bootloader-w-xiaomi-redmi-9-galahad-lancelot%2f&title=Jak%20odblokowa%c4%87%20bootloader%20w%20Xiaomi%20Redmi%209%20%28galahad%2flancelot%29" target="_blank" rel="noopener noreferrer" onclick="window.open(this.href, 'Podziel się na LinkedIn', 'width=640,height=480,toolbar=0,status=0'); return false">
		<svg class="share__icon" aria-label="LinkedIn" role="img" width="32" height="32" viewBox="0 0 512 512"><circle cx="142" cy="138" r="37"/><path stroke-width="66" d="M244 194v198M142 194v198"/><path d="M276 282c0-20 13-40 36-40 24 0 33 18 33 45v105h66V279c0-61-32-89-76-89-34 0-51 19-59 32"/></svg>
	</a>
	<a class="share__link btn" title="Podziel się na VK" href="https://vk.com/share.php?url=https%3a%2f%2fmorfikov.github.io%2fpost%2fjak-odblokowac-bootloader-w-xiaomi-redmi-9-galahad-lancelot%2f" target="_blank" rel="noopener noreferrer" onclick="window.open(this.href, 'Podziel się na VK', 'width=640,height=480,toolbar=0,status=0'); return false">
		<svg class="share__icon" aria-label="VK" role="img" width="32" height="32" viewBox="0 0 512 512"><path d="M274 363c5-1 14-3 14-15 0 0-1-30 13-34s32 29 51 42c14 9 25 8 25 8l51-1s26-2 14-23c-1-2-9-15-39-42-31-30-26-25 11-76 23-31 33-50 30-57-4-7-20-6-20-6h-57c-6 0-9 1-12 6 0 0-9 25-21 45-25 43-35 45-40 42-9-5-7-24-7-37 0-45 7-61-13-65-13-2-59-4-73 3-7 4-11 11-8 12 3 0 12 1 17 7 8 13 9 75-2 81-15 11-53-62-62-86-2-6-5-7-12-9H79c-6 0-15 1-11 13 27 56 83 193 184 192z"/></svg>
	</a>
	<a class="share__link btn" title="Zapisz do Pocket" href="https://getpocket.com/edit?url=https%3a%2f%2fmorfikov.github.io%2fpost%2fjak-odblokowac-bootloader-w-xiaomi-redmi-9-galahad-lancelot%2f&amp;title=Jak%20odblokowa%c4%87%20bootloader%20w%20Xiaomi%20Redmi%209%20%28galahad%2flancelot%29" target="_blank" rel="noopener noreferrer" onclick="window.open(this.href, 'Zapisz do Pocket', 'width=480,height=320,toolbar=0,status=0'); return false">
		<svg class="share__icon" aria-label="Pocket" role="img" width="32" height="32" viewBox="0 0 512 512"><path d="M388.8 88.9H123.2A47.4 47.4 0 0 0 76 136.5v131.9c0 2.4.2 4.8.5 7.2a101.8 101.8 0 0 0-.5 10.6c0 75.6 80.6 137 180 137s180-61.4 180-137c0-3.6-.2-7.1-.5-10.6.3-2.4.5-4.8.5-7.2v-132A47.4 47.4 0 0 0 388.8 89zm-22.4 132.6l-93 93c-4.7 4.6-11 7-17.1 7a23.8 23.8 0 0 1-17.7-7l-93-93a24 24 0 0 1 33.8-33.8l76.6 76.5 76.6-76.5a24 24 0 0 1 33.8 33.8z"/></svg>
	</a>
	<a class="share__link btn" title="Zapisz do Pinterest" href="https://pinterest.com/pin/create/button/?url=https%3a%2f%2fmorfikov.github.io%2fpost%2fjak-odblokowac-bootloader-w-xiaomi-redmi-9-galahad-lancelot%2f&description=Jak%20odblokowa%c4%87%20bootloader%20w%20Xiaomi%20Redmi%209%20%28galahad%2flancelot%29" target="_blank" rel="noopener noreferrer" onclick="window.open(this.href, 'Zapisz do Pocket', 'width=800,height=720,toolbar=0,status=0'); return false">
		<svg class="share__icon" aria-label="Pinterest" role="img" width="32" height="32" viewBox="0 0 512 512"><path d="m265 65c-104 0-157 75-157 138 0 37 14 71 45 83 5 2 10 0 12-5l3-18c2-6 1-7-2-12-9-11-15-24-15-43 0-56 41-106 108-106 60 0 92 37 92 85 0 64-28 116-70 116-23 0-40-18-34-42 6-27 19-57 19-77 0-18-9-34-30-34-24 0-42 25-42 58 0 20 7 34 7 34l-29 120a249 249 0 0 0 2 86l3-1c2-3 31-37 40-72l16-61c7 15 29 28 53 28 71 0 119-64 119-151 0-66-56-126-140-126z"/></svg>
	</a>
</div>
				</footer>
				
			</article>
		</div>
	</main>
	
<div class="authorbox block">
	<div class="author">
		<figure class="author__avatar">
			<img class="author__img" alt="Mikhail Morfikov avatar" src="https://morfikov.github.io/img/avatar.png" height="90" width="90">
		</figure>
		<div class="author__body">
			<div class="author__name">
				Mikhail Morfikov
			</div>
			<div class="author__bio">Po ponad 10 latach spędzonych z różnej maści linux&#39;ami (Debian/Ubuntu, OpenWRT, Android) mogę śmiało powiedzieć, że nie ma rzeczy niemożliwych i problemów, których nie da się rozwiązać. Jedną umiejętność, którą ludzki umysł musi posiąść, by wybrnąć nawet z tej najbardziej nieprzyjemniej sytuacji, to zdolność logicznego rozumowania.</div>
		</div>
	</div>
</div>
	



<div class="related block">
	<h3 class="related__title">Powiązane</h3>
	<ul class="related__list">
		
		<li class="related__item"><a class="related__link" href="https://morfikov.github.io/post/aktualizacja-firmware-drukarki-hp-laserjet-p2055dn-pod-linux/">Aktualizacja firmware drukarki HP LaserJet P2055dn pod linux</a></li>
		
		<li class="related__item"><a class="related__link" href="https://morfikov.github.io/post/zastosowanie-ksm-w-maszynach-wirtualnych-qemu-kvm/">Zastosowanie KSM w maszynach wirtualnych QEMU/KVM</a></li>
		
		<li class="related__item"><a class="related__link" href="https://morfikov.github.io/post/jak-zmienic-rozmiar-obrazu-maszyny-wirtualnej-qemu-kvm/">Jak zmienić rozmiar obrazu maszyny wirtualnej QEMU/KVM</a></li>
		
		<li class="related__item"><a class="related__link" href="https://morfikov.github.io/post/konfiguracja-hugepages-pod-maszyny-wirtualne-qemu-kvm/">Konfiguracja HugePages pod maszyny wirtualne QEMU/KVM</a></li>
		
		<li class="related__item"><a class="related__link" href="https://morfikov.github.io/post/wirtualizacja-qemu-kvm-libvirt-na-debian-linux/">Wirtualizacja QEMU/KVM (libvirt) na Debian Linux</a></li>
		
		<li class="related__item"><a class="related__link" href="https://morfikov.github.io/post/jak-odszyfrowac-linux-przy-pomocy-telefonu-z-androidem/">Jak odszyfrować linux&#39;a przy pomocy telefonu z Androidem</a></li>
		
		<li class="related__item"><a class="related__link" href="https://morfikov.github.io/post/jak-usunac-blokade-bootloadera-oem-lock-w-smartfonie-z-androidem/">Jak usunąć blokadę bootloader&#39;a (OEM lock) w smartfonie z Androidem</a></li>
		
	</ul>
</div>

	

	</div>
	<footer class="footer">
<div class="footer__social social">
		<a class="social__link" target="_blank" rel="noopener noreferrer" href="mailto:morfitronik@gmail.com">
			<svg class="social__icon" aria-label="Email" role="img" width="32" height="32" viewBox="0 0 512 512"><path d="M299 268l124 106c-4 4-10 7-17 7H106c-7 0-13-3-17-7l124-106 43 38 43-38zm-43 13L89 138c4-4 10-7 17-7h300c7 0 13 3 17 7L256 281zm54-23l121-105v208L310 258zM81 153l121 105L81 361V153z"/></svg>
		</a>
		<a class="social__link" target="_blank" rel="noopener noreferrer" href="https://twitter.com/mikhailmorfikov">
			<svg class="social__icon" aria-label="Twitter" role="img" width="32" height="32" viewBox="0 0 512 512"><path d="M437 152a72 72 0 0 1-40 12 72 72 0 0 0 32-40 72 72 0 0 1-45 17 72 72 0 0 0-122 65 200 200 0 0 1-145-74 72 72 0 0 0 22 94 72 72 0 0 1-32-7 72 72 0 0 0 56 69 72 72 0 0 1-32 1 72 72 0 0 0 67 50 200 200 0 0 1-105 29 200 200 0 0 0 309-179 200 200 0 0 0 35-37"/></svg>
		</a>
		<a class="social__link" target="_blank" rel="noopener noreferrer" href="https://t.me/morfikov">
			<svg class="social__icon" aria-label="Telegram" role="img" width="32" height="32" viewBox="0 0 512 512"><path d="M199 404c-11 0-10-4-13-14l-32-105 245-144"/><path d="M199 404c7 0 11-4 16-8l45-43-56-34"/><path d="M204 319l135 99c14 9 26 4 30-14l55-258c5-22-9-32-24-25L79 245c-21 8-21 21-4 26l83 26 190-121c9-5 17-3 11 4"/></svg>
		</a>
		<a class="social__link" target="_blank" rel="noopener noreferrer" href="https://github.com/morfikov">
			<svg class="social__icon" aria-label="Github" role="img" width="32" height="32" viewBox="0 0 512 512"><path d="M335 499c14 0 12 17 12 17H165s-2-17 12-17c13 0 16-6 16-12l-1-50c-71 16-86-28-86-28-12-30-28-37-28-37-24-16 1-16 1-16 26 2 40 26 40 26 22 39 59 28 74 22 2-17 9-28 16-35-57-6-116-28-116-126 0-28 10-51 26-69-3-6-11-32 3-67 0 0 21-7 70 26 42-12 86-12 128 0 49-33 70-26 70-26 14 35 6 61 3 67 16 18 26 41 26 69 0 98-60 120-117 126 10 8 18 24 18 48l-1 70c0 6 3 12 16 12z"/></svg>
		</a>
		<a class="social__link" target="_blank" rel="noopener noreferrer" href="https://gitlab.com/morfikov">
			<svg class="social__icon" aria-label="Gitlab" role="img" width="32" height="32" viewBox="0 0 512 512"><path d="M450 282l-22-67-43-133c-2-7-12-7-14 0l-43.3 133H184.3L141 82c-2-7-12-7-14 0L84 215l-22 67c-2 6 0 13 6 16l188 137 188-137c6-3 8-10 6-16z"/></svg>
		</a>
		<a class="social__link" target="_blank" rel="noopener noreferrer" href="https://stackoverflow.com/users/3015317">
			<svg class="social__icon" aria-label="Stack Overflow" role="img" width="32" height="32" viewBox="0 0 512 512"><g stroke-width="30"><path fill="none" d="M125 297v105h241V297"/><path d="M170 341h150m-144-68l148 31M199 204l136 64m-95-129l115 97M293 89l90 120"/></g></svg>
		</a>
</div>
	<div class="footer__copyright">© 2021 Mikhail Morfikov.
	<span class="footer__copyright-credits">Powered by <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/vimux/binario" rel="nofollow noopener" target="_blank">Binario</a> theme.</span>
	<span class="footer__copyright-cc">
		Except where otherwise noted, content on this site is licensed under a <a rel="license" href="https://creativecommons.org/licenses/by-nc-sa/4.0/">Creative Commons Attribution-NonCommercial-ShareAlike 4.0 International license</a>.
		<img alt="Licencja Creative Commons" style="border-width:0" src="https://licensebuttons.net/l/by-nc-sa/4.0/80x15.png" />
	</span>
	</div>
</footer>

<script src="https://morfikov.github.io/js/menu.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.6/MathJax.js?config=TeX-AMS-MML_HTMLorMML" async></script>

<script src="https://morfikov.github.io/js/custom.js"></script>
<script src="https://unpkg.com/vanilla-back-to-top@7.2.1/dist/vanilla-back-to-top.min.js"></script>
<script>addBackToTop({
  diameter: 40,
  textColor: '#c3c3c3'
})</script>
<script data-goatcounter="https://morfik.goatcounter.com/count"
  async src="//gc.zgo.at/count.js"></script>
</body>
</html>
