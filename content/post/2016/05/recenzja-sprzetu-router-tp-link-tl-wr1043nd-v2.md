---
author: Morfik
categories:
- Hardware
date: "2016-05-31T15:14:24Z"
date_gmt: 2016-05-31 13:14:24 +0200
published: true
status: publish
tags:
- wifi
- router
- recenzja
- tp-link
title: 'Recenzja: router TP-LINK TL-WR1043ND v2'
---

Jednym z popularniejszych routerów bezprzewodowych firmy TP-LINK jest model [TL-WR1043ND
v2](http://www.tp-link.com.pl/products/details/TL-WR1043ND.html) . Dlaczego ten router jest tak
rozchwytywany? Wytłumaczenie tkwi w alternatywnym firmware OpenWRT, który daje znaczne możliwości
rozbudowania funkcjonalności tego urządzenia. Jest to chyba jeden z najlepiej wpieranych przez
OpenWRT modeli, co zapewnia bezproblemowe użytkowanie. Niewątpliwą zaletą TL-WR1043ND v2 jest dość
silne WiFi, choć mamy do dyspozycji tylko pamso 2,4 GHz. Standardowo na wyposażeniu mamy także
gigabitowy switch 5-cio portowy oraz tylko jeden port USB 2.0. Przy czym, ten jeden port USB nie
powinien nam zbytnio przeszkadzać, zwłaszcza jeśli dysponujemy aktywnym hubem USB. W tym wpisie
przyjrzymy się nieco bliżej temu routerowi.

<!--more-->
## Wygląd routera TP-LINK TL-WR1043ND v2

Po wyjęciu z pudełka router wygląda mniej więcej tak jak widać to na obrazku poniżej:

[![1.router-tp-link
tl-wr1043nd-v2-wyglad]({{< baseurl >}}/img/2016/05/1.router-tp-link-tl-wr1043nd-v2-wyglad-1024x768.jpg)]({{< baseurl >}}/img/2016/05/1.router-tp-link-tl-wr1043nd-v2-wyglad.jpg)

Jak widać mamy tutaj 3 anteny dla WiFi w paśmie 2,4 GHz. Teoretycznie maksymalna przepustowość
powinna wynosić 300 mbit/s (w trybie Speed Boost nawet 450 mbit/s) ale z tym to różnie bywa i lepiej
podchodzić do tych wartości ze sporym dystansem. Jakby nie patrzeć, jeśli korzystalibyśmy z tego
routera na obszarze jakiegoś blokowiska, to raczej wątpliwe jest byśmy kiedyś się zbliżyli do tych
prędkości. W domkach jednorodzinnych naturalnie sprawa może wyglądać inaczej, bo tam jest sporo
mniej zakłóceń. Niemniej jednak, w dalszym ciągu trzeba brać poprawkę na grubsze ściany. Poniżej
jest fotka samych anten:

[![2.router-tp-link
tl-wr1043nd-v2-antena]({{< baseurl >}}/img/2016/05/2.router-tp-link-tl-wr1043nd-v2-antena-1024x768.jpg)]({{< baseurl >}}/img/2016/05/2.router-tp-link-tl-wr1043nd-v2-antena.jpg)

[![3.router-tp-link
tl-wr1043nd-v2-antena]({{< baseurl >}}/img/2016/05/3.router-tp-link-tl-wr1043nd-v2-antena-1024x1008.jpg)]({{< baseurl >}}/img/2016/05/3.router-tp-link-tl-wr1043nd-v2-antena.jpg)

[![4.router-tp-link
tl-wr1043nd-v2-antena]({{< baseurl >}}/img/2016/05/4.router-tp-link-tl-wr1043nd-v2-antena-1024x684.jpg)]({{< baseurl >}}/img/2016/05/4.router-tp-link-tl-wr1043nd-v2-antena.jpg)

Panel tylny routera TL-WR1043ND v2 prezentuje się zaś następująco:

![]({{< baseurl >}}/img/2016/05/5.router-tp-link-tl-wr1043nd-v2-panel-tylny.jpg)

Widoczne są 3 gniazda antenowe ([RP-SMA](https://pl.wikipedia.org/wiki/RP-SMA)). Mamy także
gigabitowy switch 5-cio portowy z wydzielonym portem WAN. Dalej mamy jeden port USB w standardzie
2.0 i gniazdo zasilania. Jest też kilka przycisków: włącznik WiFi, przycisk od zasilania no i
oczywiście reset razem z WPS.

W zestawie jest dołączony także zasilacz (12V/1,5A), którym jest zasilany router. Zatem to
urządzenie jest w stanie wyciągnąć maksymalnie 18W. Z reguły pobiera 6-10W w zależności od
obciążenia. Sam zasilacz zaś jest pokazany poniżej:

[![6.router-tp-link
tl-wr1043nd-v2-zasilacz]({{< baseurl >}}/img/2016/05/6.router-tp-link-tl-wr1043nd-v2-zasilacz-1024x768.jpg)]({{< baseurl >}}/img/2016/05/6.router-tp-link-tl-wr1043nd-v2-zasilacz.jpg)

[![7.router-tp-link
tl-wr1043nd-v2-zasilacz]({{< baseurl >}}/img/2016/05/7.router-tp-link-tl-wr1043nd-v2-zasilacz-1024x768.jpg)]({{< baseurl >}}/img/2016/05/7.router-tp-link-tl-wr1043nd-v2-zasilacz.jpg)

Mamy także jeden przewód ethernetowy ([skrętka
KAT5](https://en.wikipedia.org/wiki/Category_5_cable)):

[![8.router-tp-link
tl-wr1043nd-v2-skretka-kabel]({{< baseurl >}}/img/2016/05/8.router-tp-link-tl-wr1043nd-v2-skretka-kabel-1024x768.jpg)]({{< baseurl >}}/img/2016/05/8.router-tp-link-tl-wr1043nd-v2-skretka-kabel.jpg)

Poniżej zaś jest spodnia część obudowy, na której widać otwory wentylacyjne:

[![9.router-tp-link
tl-wr1043nd-v2-wyglad-spod]({{< baseurl >}}/img/2016/05/9.router-tp-link-tl-wr1043nd-v2-wyglad-spod-1024x768.jpg)]({{< baseurl >}}/img/2016/05/9.router-tp-link-tl-wr1043nd-v2-wyglad-spod.jpg)

[![10.router-tp-link
tl-wr1043nd-v2-wyglad-spod-naklejka]({{< baseurl >}}/img/2016/05/10.router-tp-link-tl-wr1043nd-v2-wyglad-spod-naklejka-1024x768.jpg)]({{< baseurl >}}/img/2016/05/10.router-tp-link-tl-wr1043nd-v2-wyglad-spod-naklejka.jpg)

## Podzespoły routera TP-LINK TL-WR1043ND v2

Ściągnijmy zatem górną część obudowy i zajrzyjmy do wnętrza urządzenia. W środku kryje się szereg
układów firmy Qualcomm:

[![11.router-tp-link
tl-wr1043nd-v2-podzespoly]({{< baseurl >}}/img/2016/05/11.router-tp-link-tl-wr1043nd-v2-podzespoly-1024x768.jpg)]({{< baseurl >}}/img/2016/05/11.router-tp-link-tl-wr1043nd-v2-podzespoly.jpg)

Poniżej są fotki poszczególnych układów. [System on a chip
(SoC)](https://pl.wikipedia.org/wiki/System-on-a-chip) wraz ze zintegrowanym układem WiFi 2,4 GHz
(QCA9558 3x3 b/g/n):

[![12.router-tp-link
tl-wr1043nd-v2-podzespoly-procesor-radio-2.4ghz]({{< baseurl >}}/img/2016/05/12.router-tp-link-tl-wr1043nd-v2-podzespoly-procesor-radio-2.4ghz-1024x958.jpg)]({{< baseurl >}}/img/2016/05/12.router-tp-link-tl-wr1043nd-v2-podzespoly-procesor-radio-2.4ghz.jpg)

Czip gigabitowego switch'a (AR8327N-BL1A):

[![13.router-tp-link
tl-wr1043nd-v2-podzespoly-switch]({{< baseurl >}}/img/2016/05/13.router-tp-link-tl-wr1043nd-v2-podzespoly-switch-1024x892.jpg)]({{< baseurl >}}/img/2016/05/13.router-tp-link-tl-wr1043nd-v2-podzespoly-switch.jpg)

Pamięć operacyjna RAM 64 MiB (Winbond W9751G6KB-25):

[![14.router-tp-link
tl-wr1043nd-v2-podzespoly-pamiec-ram]({{< baseurl >}}/img/2016/05/14.router-tp-link-tl-wr1043nd-v2-podzespoly-pamiec-ram-1024x835.jpg)]({{< baseurl >}}/img/2016/05/14.router-tp-link-tl-wr1043nd-v2-podzespoly-pamiec-ram.jpg)

Są też porty konsoli szeregowej:

[![15.router-tp-link
tl-wr1043nd-v2-konsola-szeregowa]({{< baseurl >}}/img/2016/05/15.router-tp-link-tl-wr1043nd-v2-konsola-szeregowa-768x1024.jpg)]({{< baseurl >}}/img/2016/05/15.router-tp-link-tl-wr1043nd-v2-konsola-szeregowa.jpg)

## Wsparcie OpenWRT dla TL-WR1043ND v2

We wstępie zostało wspomniane, że router TP-LINK TL-WR1043ND v2 jest bardzo dobrze wspierany przez
firmware OpenWRT. Poniżej znajduje się szereg informacji uzyskanych po zalogowaniu się na router.

Taktowanie:

    /# dmesg | grep -i clocks
    [    0.000000] Clocks: CPU:720.000MHz, DDR:600.000MHz, AHB:200.000MHz, Ref:40.000MHz

Procesor:

    # cat /proc/cpuinfo
    system type             : Qualcomm Atheros QCA9558 ver 1 rev 0
    machine                 : TP-LINK TL-WR1043ND v2
    processor               : 0
    cpu model               : MIPS 74Kc V5.0
    BogoMIPS                : 358.80
    wait instruction        : yes
    microsecond timers      : yes
    tlb_entries             : 32
    extra interrupt vector  : yes
    hardware watchpoint     : yes, count: 4, address/irw mask: [0x0ffc, 0x0ffc, 0x0ffb, 0x0ffb]
    isa                     : mips1 mips2 mips32r1 mips32r2
    ASEs implemented        : mips16 dsp dsp2
    shadow register sets    : 1
    kscratch registers      : 0
    package                 : 0
    core                    : 0
    VCED exceptions         : not available
    VCEI exceptions         : not available

Port USB:

    # cat /sys/kernel/debug/usb/devices

    T:  Bus=02 Lev=00 Prnt=00 Port=00 Cnt=00 Dev#=  1 Spd=480  MxCh= 1
    B:  Alloc=  0/800 us ( 0%), #Int=  0, #Iso=  0
    D:  Ver= 2.00 Cls=09(hub  ) Sub=00 Prot=01 MxPS=64 #Cfgs=  1
    P:  Vendor=1d6b ProdID=0002 Rev= 3.18
    S:  Manufacturer=Linux 3.18.29 ehci_hcd
    S:  Product=EHCI Host Controller
    S:  SerialNumber=ehci-platform.1
    C:* #Ifs= 1 Cfg#= 1 Atr=e0 MxPwr=  0mA
    I:* If#= 0 Alt= 0 #EPs= 1 Cls=09(hub  ) Sub=00 Prot=00 Driver=hub
    E:  Ad=81(I) Atr=03(Int.) MxPS=   4 Ivl=256ms

    T:  Bus=01 Lev=00 Prnt=00 Port=00 Cnt=00 Dev#=  1 Spd=480  MxCh= 1
    B:  Alloc=  0/800 us ( 0%), #Int=  0, #Iso=  0
    D:  Ver= 2.00 Cls=09(hub  ) Sub=00 Prot=01 MxPS=64 #Cfgs=  1
    P:  Vendor=1d6b ProdID=0002 Rev= 3.18
    S:  Manufacturer=Linux 3.18.29 ehci_hcd
    S:  Product=EHCI Host Controller
    S:  SerialNumber=ehci-platform.0
    C:* #Ifs= 1 Cfg#= 1 Atr=e0 MxPwr=  0mA
    I:* If#= 0 Alt= 0 #EPs= 1 Cls=09(hub  ) Sub=00 Prot=00 Driver=hub
    E:  Ad=81(I) Atr=03(Int.) MxPS=   4 Ivl=256ms

Pamięć operacyjna RAM (64 MiB):

    # dmesg | grep Memory
    [    0.000000] Memory: 60812K/65536K available (2607K kernel code, 127K rwdata, 544K rodata, 232K init, 193K bss, 4724K reserved)

Czip bezprzewodowy WiFi:

    # iw list
    Wiphy phy0
            max # scan SSIDs: 4
            max scan IEs length: 2257 bytes
            max # sched scan SSIDs: 0
            max # match sets: 0
            Retry short limit: 7
            Retry long limit: 4
            Coverage class: 0 (up to 0m)
            Device supports AP-side u-APSD.
            Device supports T-DLS.
            Available Antennas: TX 0x7 RX 0x7
            Configured Antennas: TX 0x7 RX 0x7
            Supported interface modes:
                     * IBSS
                     * managed
                     * AP
                     * AP/VLAN
                     * WDS
                     * monitor
                     * mesh point
                     * P2P-client
                     * P2P-GO
                     * outside context of a BSS
            Band 1:
                    Capabilities: 0x11ef
                            RX LDPC
                            HT20/HT40
                            SM Power Save disabled
                            RX HT20 SGI
                            RX HT40 SGI
                            TX STBC
                            RX STBC 1-stream
                            Max AMSDU length: 3839 bytes
                            DSSS/CCK HT40
                    Maximum RX AMPDU length 65535 bytes (exponent: 0x003)
                    Minimum RX AMPDU time spacing: 8 usec (0x06)
                    HT TX/RX MCS rate indexes supported: 0-23
                    Frequencies:
                            * 2412 MHz [1] (20.0 dBm)
                            * 2417 MHz [2] (20.0 dBm)
                            * 2422 MHz [3] (20.0 dBm)
                            * 2427 MHz [4] (20.0 dBm)
                            * 2432 MHz [5] (20.0 dBm)
                            * 2437 MHz [6] (20.0 dBm)
                            * 2442 MHz [7] (20.0 dBm)
                            * 2447 MHz [8] (20.0 dBm)
                            * 2452 MHz [9] (20.0 dBm)
                            * 2457 MHz [10] (20.0 dBm)
                            * 2462 MHz [11] (20.0 dBm)
                            * 2467 MHz [12] (20.0 dBm)
                            * 2472 MHz [13] (20.0 dBm)
                            * 2484 MHz [14] (disabled)
            valid interface combinations:
                     * #{ managed } <= 2048, #{ AP, mesh point } <= 8, #{ P2P-client, P2P-GO } <= 1, #{ IBSS } <= 1,
                       total <= 2048, #channels <= 1, STA/AP BI must match, radar detect widths: { 20 MHz (no HT), 20 MHz, 40 MHz }

                     * #{ WDS } <= 2048,
                       total <= 2048, #channels <= 1, STA/AP BI must match
            HT Capability overrides:
                     * MCS: ff ff ff ff ff ff ff ff ff ff
                     * maximum A-MSDU length
                     * supported channel width
                     * short GI for 40 MHz
                     * max A-MPDU length exponent
                     * min MPDU start spacing

Konfiguracja switch'a:

    # swconfig dev switch0 show
    Global attributes:
            enable_vlan: 1
            enable_mirror_rx: 0
            enable_mirror_tx: 0
            mirror_monitor_port: 0
            mirror_source_port: 0
            arl_table: address resolution table
    Port 0: MAC e8:94:f6:68:79:f0
    Port 3: MAC 3c:4a:92:00:4c:5b
    Port 5: MAC c4:6e:1f:95:ef:fe
    Port 6: MAC e8:94:f6:68:79:f1

    Port 0:
            mib: Port 0 MIB counters
    ...
            enable_eee: ???
            pvid: 1
            link: port:0 link:up speed:1000baseT full-duplex txflow rxflow
    Port 1:
            mib: Port 1 MIB counters
    ...
            enable_eee: 0
            pvid: 1
            link: port:1 link:down
    Port 2:
            mib: Port 2 MIB counters
    ...
            enable_eee: 0
            pvid: 1
            link: port:2 link:down
    Port 3:
            mib: Port 3 MIB counters
    ...
            enable_eee: 0
            pvid: 1
            link: port:3 link:up speed:100baseT full-duplex txflow rxflow auto
    Port 4:
            mib: Port 4 MIB counters
    ...
            enable_eee: 0
            pvid: 1
            link: port:4 link:down
    Port 5:
            mib: Port 5 MIB counters
    ...
            enable_eee: 0
            pvid: 2
            link: port:5 link:up speed:1000baseT full-duplex txflow rxflow eee100 eee1000 auto
    Port 6:
            mib: Port 6 MIB counters
    ...
            enable_eee: ???
            pvid: 2
            link: port:6 link:up speed:1000baseT full-duplex txflow rxflow
    VLAN 1:
            vid: 1
            ports: 0 1 2 3 4
    VLAN 2:
            vid: 2
            ports: 5 6

Flash routera TL-WR1043ND v2 nie jest zbyt duży. Ma on jedynie 8 MiB, z czego po wgraniu OpenWRT
zostaje nam do dyspozycji tylko około 4 MiB. Niemniej jednak, warto wspomnieć, że ten router
doczekał się wersji 4 i tam już flash został wymieniony na 16 MiB.

## Podsumowanie

Router TP-LINK TL-WR1043ND v2 nadaje się wyśmienicie pod OpenWRT i nie ma z nim żadnych problemów.
Jeśli jednak chcemy się trzymać oryginalnego firmware producenta, to również nic nie stoi na
przeszkodzie, by tak uczynić. Trzeba jednak mieć na uwadze, że z tego standardowego oprogramowania
za wiele nie wyciągniemy. Weźmy na przykład ten jeden port USB. W danej chwili będziemy mogli
podłączyć tylko jedno urządzenie. W przypadku dysków/pendrive trzeba będzie także uważać na system
plików (wspierane tylko NTFS i FAT). W przypadku alternatywnego oprogramowania, ogranicza nas w duże
mierze tylko nasza wyobraźnia. Ja byłem zmuszony nieco rozbudować ten router, by go dostosować do
swoich upodobań. Poniższe fotki mówią raczej same za
siebie:

[![16.router-tp-link-tl-wr1043nd-v2-rozbudowa]({{< baseurl >}}/img/2016/05/16.router-tp-link-tl-wr1043nd-v2-rozbudowa-1024x768.jpg)]({{< baseurl >}}/img/2016/05/16.router-tp-link-tl-wr1043nd-v2-rozbudowa.jpg)

[![17.router-tp-link-tl-wr1043nd-v2-rozbudowa]({{< baseurl >}}/img/2016/05/17.router-tp-link-tl-wr1043nd-v2-rozbudowa-1024x768.jpg)]({{< baseurl >}}/img/2016/05/17.router-tp-link-tl-wr1043nd-v2-rozbudowa.jpg)
